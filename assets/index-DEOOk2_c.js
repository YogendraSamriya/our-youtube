function TA(i,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in i)){const c=Object.getOwnPropertyDescriptor(r,o);c&&Object.defineProperty(i,o,c.get?c:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function Hm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jp={exports:{}},Ql={};var Z0;function EA(){if(Z0)return Ql;Z0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:u,ref:o!==void 0?o:null,props:c}}return Ql.Fragment=e,Ql.jsx=t,Ql.jsxs=t,Ql}var eT;function bA(){return eT||(eT=1,jp.exports=EA()),jp.exports}var R=bA(),zp={exports:{}},Re={};var tT;function SA(){if(tT)return Re;tT=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function x(P){return P===null||typeof P!="object"?null:(P=S&&P[S]||P["@@iterator"],typeof P=="function"?P:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,G={};function X(P,ee,oe){this.props=P,this.context=ee,this.refs=G,this.updater=oe||j}X.prototype.isReactComponent={},X.prototype.setState=function(P,ee){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ee,"setState")},X.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function ne(){}ne.prototype=X.prototype;function re(P,ee,oe){this.props=P,this.context=ee,this.refs=G,this.updater=oe||j}var se=re.prototype=new ne;se.constructor=re,F(se,X.prototype),se.isPureReactComponent=!0;var Ee=Array.isArray;function Te(){}var D={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function A(P,ee,oe){var ue=oe.ref;return{$$typeof:i,type:P,key:ee,ref:ue!==void 0?ue:null,props:oe}}function O(P,ee){return A(P.type,ee,P.props)}function N(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function V(P){var ee={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(oe){return ee[oe]})}var w=/\/+/g;function qe(P,ee){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):ee.toString(36)}function me(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Te,Te):(P.status="pending",P.then(function(ee){P.status==="pending"&&(P.status="fulfilled",P.value=ee)},function(ee){P.status==="pending"&&(P.status="rejected",P.reason=ee)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function $(P,ee,oe,ue,Se){var xe=typeof P;(xe==="undefined"||xe==="boolean")&&(P=null);var je=!1;if(P===null)je=!0;else switch(xe){case"bigint":case"string":case"number":je=!0;break;case"object":switch(P.$$typeof){case i:case e:je=!0;break;case _:return je=P._init,$(je(P._payload),ee,oe,ue,Se)}}if(je)return Se=Se(P),je=ue===""?"."+qe(P,0):ue,Ee(Se)?(oe="",je!=null&&(oe=je.replace(w,"$&/")+"/"),$(Se,ee,oe,"",function(xs){return xs})):Se!=null&&(N(Se)&&(Se=O(Se,oe+(Se.key==null||P&&P.key===Se.key?"":(""+Se.key).replace(w,"$&/")+"/")+je)),ee.push(Se)),1;je=0;var Pt=ue===""?".":ue+":";if(Ee(P))for(var lt=0;lt<P.length;lt++)ue=P[lt],xe=Pt+qe(ue,lt),je+=$(ue,ee,oe,xe,Se);else if(lt=x(P),typeof lt=="function")for(P=lt.call(P),lt=0;!(ue=P.next()).done;)ue=ue.value,xe=Pt+qe(ue,lt++),je+=$(ue,ee,oe,xe,Se);else if(xe==="object"){if(typeof P.then=="function")return $(me(P),ee,oe,ue,Se);throw ee=String(P),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return je}function ie(P,ee,oe){if(P==null)return P;var ue=[],Se=0;return $(P,ue,"","",function(xe){return ee.call(oe,xe,Se++)}),ue}function de(P){if(P._status===-1){var ee=P._result;ee=ee(),ee.then(function(oe){(P._status===0||P._status===-1)&&(P._status=1,P._result=oe)},function(oe){(P._status===0||P._status===-1)&&(P._status=2,P._result=oe)}),P._status===-1&&(P._status=0,P._result=ee)}if(P._status===1)return P._result.default;throw P._result}var Be=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Ye={map:ie,forEach:function(P,ee,oe){ie(P,function(){ee.apply(this,arguments)},oe)},count:function(P){var ee=0;return ie(P,function(){ee++}),ee},toArray:function(P){return ie(P,function(ee){return ee})||[]},only:function(P){if(!N(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Re.Activity=T,Re.Children=Ye,Re.Component=X,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=re,Re.StrictMode=r,Re.Suspense=m,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Re.__COMPILER_RUNTIME={__proto__:null,c:function(P){return D.H.useMemoCache(P)}},Re.cache=function(P){return function(){return P.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(P,ee,oe){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ue=F({},P.props),Se=P.key;if(ee!=null)for(xe in ee.key!==void 0&&(Se=""+ee.key),ee)!I.call(ee,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ee.ref===void 0||(ue[xe]=ee[xe]);var xe=arguments.length-2;if(xe===1)ue.children=oe;else if(1<xe){for(var je=Array(xe),Pt=0;Pt<xe;Pt++)je[Pt]=arguments[Pt+2];ue.children=je}return A(P.type,Se,ue)},Re.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:c,_context:P},P},Re.createElement=function(P,ee,oe){var ue,Se={},xe=null;if(ee!=null)for(ue in ee.key!==void 0&&(xe=""+ee.key),ee)I.call(ee,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Se[ue]=ee[ue]);var je=arguments.length-2;if(je===1)Se.children=oe;else if(1<je){for(var Pt=Array(je),lt=0;lt<je;lt++)Pt[lt]=arguments[lt+2];Se.children=Pt}if(P&&P.defaultProps)for(ue in je=P.defaultProps,je)Se[ue]===void 0&&(Se[ue]=je[ue]);return A(P,xe,Se)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(P){return{$$typeof:p,render:P}},Re.isValidElement=N,Re.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:de}},Re.memo=function(P,ee){return{$$typeof:g,type:P,compare:ee===void 0?null:ee}},Re.startTransition=function(P){var ee=D.T,oe={};D.T=oe;try{var ue=P(),Se=D.S;Se!==null&&Se(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Te,Be)}catch(xe){Be(xe)}finally{ee!==null&&oe.types!==null&&(ee.types=oe.types),D.T=ee}},Re.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Re.use=function(P){return D.H.use(P)},Re.useActionState=function(P,ee,oe){return D.H.useActionState(P,ee,oe)},Re.useCallback=function(P,ee){return D.H.useCallback(P,ee)},Re.useContext=function(P){return D.H.useContext(P)},Re.useDebugValue=function(){},Re.useDeferredValue=function(P,ee){return D.H.useDeferredValue(P,ee)},Re.useEffect=function(P,ee){return D.H.useEffect(P,ee)},Re.useEffectEvent=function(P){return D.H.useEffectEvent(P)},Re.useId=function(){return D.H.useId()},Re.useImperativeHandle=function(P,ee,oe){return D.H.useImperativeHandle(P,ee,oe)},Re.useInsertionEffect=function(P,ee){return D.H.useInsertionEffect(P,ee)},Re.useLayoutEffect=function(P,ee){return D.H.useLayoutEffect(P,ee)},Re.useMemo=function(P,ee){return D.H.useMemo(P,ee)},Re.useOptimistic=function(P,ee){return D.H.useOptimistic(P,ee)},Re.useReducer=function(P,ee,oe){return D.H.useReducer(P,ee,oe)},Re.useRef=function(P){return D.H.useRef(P)},Re.useState=function(P){return D.H.useState(P)},Re.useSyncExternalStore=function(P,ee,oe){return D.H.useSyncExternalStore(P,ee,oe)},Re.useTransition=function(){return D.H.useTransition()},Re.version="19.2.4",Re}var nT;function $m(){return nT||(nT=1,zp.exports=SA()),zp.exports}var L=$m();const CA=Hm(L);var Bp={exports:{}},Xl={},qp={exports:{}},Fp={};var iT;function RA(){return iT||(iT=1,(function(i){function e($,ie){var de=$.length;$.push(ie);e:for(;0<de;){var Be=de-1>>>1,Ye=$[Be];if(0<o(Ye,ie))$[Be]=ie,$[de]=Ye,de=Be;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ie=$[0],de=$.pop();if(de!==ie){$[0]=de;e:for(var Be=0,Ye=$.length,P=Ye>>>1;Be<P;){var ee=2*(Be+1)-1,oe=$[ee],ue=ee+1,Se=$[ue];if(0>o(oe,de))ue<Ye&&0>o(Se,oe)?($[Be]=Se,$[ue]=de,Be=ue):($[Be]=oe,$[ee]=de,Be=ee);else if(ue<Ye&&0>o(Se,de))$[Be]=Se,$[ue]=de,Be=ue;else break e}}return ie}function o($,ie){var de=$.sortIndex-ie.sortIndex;return de!==0?de:$.id-ie.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var u=Date,p=u.now();i.unstable_now=function(){return u.now()-p}}var m=[],g=[],_=1,T=null,S=3,x=!1,j=!1,F=!1,G=!1,X=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function se($){for(var ie=t(g);ie!==null;){if(ie.callback===null)r(g);else if(ie.startTime<=$)r(g),ie.sortIndex=ie.expirationTime,e(m,ie);else break;ie=t(g)}}function Ee($){if(F=!1,se($),!j)if(t(m)!==null)j=!0,Te||(Te=!0,V());else{var ie=t(g);ie!==null&&me(Ee,ie.startTime-$)}}var Te=!1,D=-1,I=5,A=-1;function O(){return G?!0:!(i.unstable_now()-A<I)}function N(){if(G=!1,Te){var $=i.unstable_now();A=$;var ie=!0;try{e:{j=!1,F&&(F=!1,ne(D),D=-1),x=!0;var de=S;try{t:{for(se($),T=t(m);T!==null&&!(T.expirationTime>$&&O());){var Be=T.callback;if(typeof Be=="function"){T.callback=null,S=T.priorityLevel;var Ye=Be(T.expirationTime<=$);if($=i.unstable_now(),typeof Ye=="function"){T.callback=Ye,se($),ie=!0;break t}T===t(m)&&r(m),se($)}else r(m);T=t(m)}if(T!==null)ie=!0;else{var P=t(g);P!==null&&me(Ee,P.startTime-$),ie=!1}}break e}finally{T=null,S=de,x=!1}ie=void 0}}finally{ie?V():Te=!1}}}var V;if(typeof re=="function")V=function(){re(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,qe=w.port2;w.port1.onmessage=N,V=function(){qe.postMessage(null)}}else V=function(){X(N,0)};function me($,ie){D=X(function(){$(i.unstable_now())},ie)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function($){switch(S){case 1:case 2:case 3:var ie=3;break;default:ie=S}var de=S;S=ie;try{return $()}finally{S=de}},i.unstable_requestPaint=function(){G=!0},i.unstable_runWithPriority=function($,ie){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var de=S;S=$;try{return ie()}finally{S=de}},i.unstable_scheduleCallback=function($,ie,de){var Be=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Be+de:Be):de=Be,$){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=de+Ye,$={id:_++,callback:ie,priorityLevel:$,startTime:de,expirationTime:Ye,sortIndex:-1},de>Be?($.sortIndex=de,e(g,$),t(m)===null&&$===t(g)&&(F?(ne(D),D=-1):F=!0,me(Ee,de-Be))):($.sortIndex=Ye,e(m,$),j||x||(j=!0,Te||(Te=!0,V()))),$},i.unstable_shouldYield=O,i.unstable_wrapCallback=function($){var ie=S;return function(){var de=S;S=ie;try{return $.apply(this,arguments)}finally{S=de}}}})(Fp)),Fp}var rT;function AA(){return rT||(rT=1,qp.exports=RA()),qp.exports}var Hp={exports:{}},Zt={};var sT;function IA(){if(sT)return Zt;sT=1;var i=$m();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:_}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zt.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(m,g,null,_)},Zt.flushSync=function(m){var g=u.T,_=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=g,r.p=_,r.d.f()}},Zt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},Zt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Zt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,T=p(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:x}):_==="script"&&r.d.X(m,{crossOrigin:T,integrity:S,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=p(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},Zt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=p(_,g.crossOrigin);r.d.L(m,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=p(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},Zt.requestFormReset=function(m){r.d.r(m)},Zt.unstable_batchedUpdates=function(m,g){return m(g)},Zt.useFormState=function(m,g,_){return u.H.useFormState(m,g,_)},Zt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Zt.version="19.2.4",Zt}var aT;function wA(){if(aT)return Hp.exports;aT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Hp.exports=IA(),Hp.exports}var oT;function xA(){if(oT)return Xl;oT=1;var i=AA(),e=$m(),t=wA();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(c(n)!==n)throw Error(r(188))}function g(n){var s=n.alternate;if(!s){if(s=c(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,b=f.child;b;){if(b===a){v=!0,a=f,l=d;break}if(b===l){v=!0,l=f,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=f;break}if(b===l){v=!0,l=d,a=f;break}b=b.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function _(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=_(n),s!==null)return s;n=n.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),re=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var w=Symbol.for("react.client.reference");function qe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===w?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case F:return"Fragment";case X:return"Profiler";case G:return"StrictMode";case Ee:return"Suspense";case Te:return"SuspenseList";case A:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case re:return n.displayName||"Context";case ne:return(n._context.displayName||"Context")+".Consumer";case se:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return s=n.displayName||null,s!==null?s:qe(n.type)||"Memo";case I:s=n._payload,n=n._init;try{return qe(n(s))}catch{}}return null}var me=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Be=[],Ye=-1;function P(n){return{current:n}}function ee(n){0>Ye||(n.current=Be[Ye],Be[Ye]=null,Ye--)}function oe(n,s){Ye++,Be[Ye]=n.current,n.current=s}var ue=P(null),Se=P(null),xe=P(null),je=P(null);function Pt(n,s){switch(oe(xe,s),oe(Se,n),oe(ue,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?b0(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=b0(s),n=S0(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ee(ue),oe(ue,n)}function lt(){ee(ue),ee(Se),ee(xe)}function xs(n){n.memoizedState!==null&&oe(je,n);var s=ue.current,a=S0(s,n.type);s!==a&&(oe(Se,n),oe(ue,a))}function Ra(n){Se.current===n&&(ee(ue),ee(Se)),je.current===n&&(ee(je),$l._currentValue=de)}var Aa,Ia;function mi(n){if(Aa===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Aa=s&&s[1]||"",Ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Aa+n+Ia}var $o=!1;function Ds(n,s){if(!n||$o)return"";$o=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var H=Y}Reflect.construct(n,[],W)}else{try{W.call()}catch(Y){H=Y}n.call(W.prototype)}}else{try{throw Error()}catch(Y){H=Y}(W=n())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var k=v.split(`
`),q=b.split(`
`);for(f=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===k.length||f===q.length)for(l=k.length-1,f=q.length-1;1<=l&&0<=f&&k[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(k[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||k[l]!==q[f]){var Q=`
`+k[l].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=l&&0<=f);break}}}finally{$o=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?mi(a):""}function Go(n,s){switch(n.tag){case 26:case 27:case 5:return mi(n.type);case 16:return mi("Lazy");case 13:return n.child!==s&&s!==null?mi("Suspense Fallback"):mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Ds(n.type,!1);case 11:return Ds(n.type.render,!1);case 1:return Ds(n.type,!0);case 31:return mi("Activity");default:return""}}function Ko(n){try{var s="",a=null;do s+=Go(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Vt=i.unstable_scheduleCallback,Ir=i.unstable_cancelCallback,Bf=i.unstable_shouldYield,jc=i.unstable_requestPaint,on=i.unstable_now,ks=i.unstable_getCurrentPriorityLevel,Yo=i.unstable_ImmediatePriority,Qo=i.unstable_UserBlockingPriority,wr=i.unstable_NormalPriority,qf=i.unstable_LowPriority,zc=i.unstable_IdlePriority,Bc=i.log,qc=i.unstable_setDisableYieldValue,Jn=null,Ht=null;function On(n){if(typeof Bc=="function"&&qc(n),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Jn,n)}catch{}}var gt=Math.clz32?Math.clz32:Hc,Fc=Math.log,wa=Math.LN2;function Hc(n){return n>>>=0,n===0?32:31-(Fc(n)/wa|0)|0}var gi=256,Ns=262144,bt=4194304;function yi(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function _i(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=yi(l):(v&=b,v!==0?f=yi(v):a||(a=b&~n,a!==0&&(f=yi(a))))):(b=l&~d,b!==0?f=yi(b):v!==0?f=yi(v):a||(a=l&~n,a!==0&&(f=yi(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Wn(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Ff(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $c(){var n=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),n}function vi(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Os(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Hf(n,s,a,l,f,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,k=n.expirationTimes,q=n.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-gt(a),W=1<<Q;b[Q]=0,k[Q]=-1;var H=q[Q];if(H!==null)for(q[Q]=null,Q=0;Q<H.length;Q++){var Y=H[Q];Y!==null&&(Y.lane&=-536870913)}a&=~W}l!==0&&Ms(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~s))}function Ms(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-gt(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Xo(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-gt(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function Jo(n,s){var a=s&-s;return a=(a&42)!==0?1:Ps(a),(a&(n.suspendedLanes|s))!==0?0:a}function Ps(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ji(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Gc(){var n=ie.p;return n!==0?n:(n=window.event,n===void 0?32:G0(n.type))}function Zn(n,s){var a=ie.p;try{return ie.p=n,s()}finally{ie.p=a}}var ei=Math.random().toString(36).slice(2),St="__reactFiber$"+ei,zt="__reactProps$"+ei,Ti="__reactContainer$"+ei,xa="__reactEvents$"+ei,$f="__reactListeners$"+ei,Kc="__reactHandles$"+ei,Yc="__reactResources$"+ei,Ei="__reactMarker$"+ei;function Da(n){delete n[St],delete n[zt],delete n[xa],delete n[$f],delete n[Kc]}function bi(n){var s=n[St];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Ti]||a[St]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=D0(n);n!==null;){if(a=n[St])return a;n=D0(n)}return s}n=a,a=n.parentNode}return null}function Mn(n){if(n=n[St]||n[Ti]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function bn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Si(n){var s=n[Yc];return s||(s=n[Yc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ct(n){n[Ei]=!0}var Wo=new Set,Zo={};function Ci(n,s){Ri(n,s),Ri(n+"Capture",s)}function Ri(n,s){for(Zo[n]=s,n=0;n<s.length;n++)Wo.add(s[n])}var el=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},nl={};function Qc(n){return Et.call(nl,n)?!0:Et.call(tl,n)?!1:el.test(n)?nl[n]=!0:(tl[n]=!0,!1)}function ka(n,s,a){if(Qc(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Sn(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Rt(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function Bt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function xr(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function il(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Qe(n){if(!n._valueTracker){var s=xr(n)?"checked":"value";n._valueTracker=il(n,s,""+n[s])}}function Vs(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=xr(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Ai(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ls=/[\n"\\]/g;function hn(n){return n.replace(Ls,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Na(n,s,a,l,f,d,v,b){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),s!=null?v==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Bt(s)):n.value!==""+Bt(s)&&(n.value=""+Bt(s)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),s!=null?rl(n,v,Bt(s)):a!=null?rl(n,v,Bt(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+Bt(b):n.removeAttribute("name")}function Xc(n,s,a,l,f,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Qe(n);return}a=a!=null?""+Bt(a):"",s=s!=null?""+Bt(s):a,b||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v),Qe(n)}function rl(n,s,a){s==="number"&&Ai(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Dr(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Bt(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Jc(n,s,a){if(s!=null&&(s=""+Bt(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+Bt(a):""}function kr(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(me(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Bt(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),Qe(n)}function fn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Wc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sl(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||Wc.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function al(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&sl(n,f,l)}else for(var d in s)s.hasOwnProperty(d)&&sl(n,d,s[d])}function Oa(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ma(n){return Nr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ti(){}var ol=null;function Pn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Or=null,Ii=null;function Us(n){var s=Mn(n);if(s&&(n=s.stateNode)){var a=n[zt]||null;e:switch(n=s.stateNode,s.type){case"input":if(Na(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[zt]||null;if(!f)throw Error(r(90));Na(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&Vs(l)}break e;case"textarea":Jc(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Dr(n,!!a.multiple,s,!1)}}}var Pa=!1;function Mr(n,s,a){if(Pa)return n(s,a);Pa=!0;try{var l=n(s);return l}finally{if(Pa=!1,(Or!==null||Ii!==null)&&(Gu(),Or&&(s=Or,n=Ii,Ii=Or=null,Us(s),n)))for(s=0;s<n.length;s++)Us(n[s])}}function ni(n,s){var a=n.stateNode;if(a===null)return null;var l=a[zt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),js=!1;if(Vn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){js=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{js=!1}var wi=null,ll=null,zs=null;function cl(){if(zs)return zs;var n,s=ll,a=s.length,l,f="value"in wi?wi.value:wi.textContent,d=f.length;for(n=0;n<a&&s[n]===f[n];n++);var v=a-n;for(l=1;l<=v&&s[a-l]===f[d-l];l++);return zs=f.slice(n,1<l?1-l:void 0)}function Bs(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Wi(){return!0}function ii(){return!1}function $t(n){function s(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wi:ii,this.isPropagationStopped=ii,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),s}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=$t(Zi),Pr=T({},Zi,{view:0,detail:0}),ul=$t(Pr),Vr,Va,Di,La=T({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Di&&(Di&&n.type==="mousemove"?(Vr=n.screenX-Di.screenX,Va=n.screenY-Di.screenY):Va=Vr=0,Di=n),Vr)},movementY:function(n){return"movementY"in n?n.movementY:Va}}),hl=$t(La),qs=T({},La,{dataTransfer:0}),eu=$t(qs),tu=T({},Pr,{relatedTarget:0}),Fs=$t(tu),fl=T({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),nu=$t(fl),Ua=T({},Zi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),iu=$t(Ua),ru=T({},Zi,{data:0}),ki=$t(ru),su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lu(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=ou[n])?!!s[n]:!1}function Lr(){return lu}var ln=T({},Pr,{key:function(n){if(n.key){var s=su[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Bs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?au[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(n){return n.type==="keypress"?Bs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Bs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),cu=$t(ln),uu=T({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),er=$t(uu),h=T({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),y=$t(h),E=T({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=$t(E),z=T({},La,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),K=$t(z),ae=T({},Zi,{newState:0,oldState:0}),Ie=$t(ae),yt=[9,13,27,32],$e=Vn&&"CompositionEvent"in window,ct=null;Vn&&"documentMode"in document&&(ct=document.documentMode);var Ln=Vn&&"TextEvent"in window&&!ct,Ni=Vn&&(!$e||ct&&8<ct&&11>=ct),ri=" ",si=!1;function Hs(n,s){switch(n){case"keyup":return yt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var za=!1;function HC(n,s){switch(n){case"compositionend":return ja(s);case"keypress":return s.which!==32?null:(si=!0,ri);case"textInput":return n=s.data,n===ri&&si?null:n;default:return null}}function $C(n,s){if(za)return n==="compositionend"||!$e&&Hs(n,s)?(n=cl(),zs=ll=wi=null,za=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ni&&s.locale!=="ko"?null:s.data;default:return null}}var GC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oy(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!GC[n.type]:s==="textarea"}function My(n,s,a,l){Or?Ii?Ii.push(l):Ii=[l]:Or=l,s=Zu(s,"onChange"),0<s.length&&(a=new xi("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var dl=null,pl=null;function KC(n){g0(n,0)}function hu(n){var s=bn(n);if(Vs(s))return n}function Py(n,s){if(n==="change")return s}var Vy=!1;if(Vn){var Gf;if(Vn){var Kf="oninput"in document;if(!Kf){var Ly=document.createElement("div");Ly.setAttribute("oninput","return;"),Kf=typeof Ly.oninput=="function"}Gf=Kf}else Gf=!1;Vy=Gf&&(!document.documentMode||9<document.documentMode)}function Uy(){dl&&(dl.detachEvent("onpropertychange",jy),pl=dl=null)}function jy(n){if(n.propertyName==="value"&&hu(pl)){var s=[];My(s,pl,n,Pn(n)),Mr(KC,s)}}function YC(n,s,a){n==="focusin"?(Uy(),dl=s,pl=a,dl.attachEvent("onpropertychange",jy)):n==="focusout"&&Uy()}function QC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return hu(pl)}function XC(n,s){if(n==="click")return hu(s)}function JC(n,s){if(n==="input"||n==="change")return hu(s)}function WC(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Cn=typeof Object.is=="function"?Object.is:WC;function ml(n,s){if(Cn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Et.call(s,f)||!Cn(n[f],s[f]))return!1}return!0}function zy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function By(n,s){var a=zy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zy(a)}}function qy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?qy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Fy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Ai(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Ai(n.document)}return s}function Yf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var ZC=Vn&&"documentMode"in document&&11>=document.documentMode,Ba=null,Qf=null,gl=null,Xf=!1;function Hy(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xf||Ba==null||Ba!==Ai(l)||(l=Ba,"selectionStart"in l&&Yf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&ml(gl,l)||(gl=l,l=Zu(Qf,"onSelect"),0<l.length&&(s=new xi("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=Ba)))}function $s(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var qa={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},Jf={},$y={};Vn&&($y=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Gs(n){if(Jf[n])return Jf[n];if(!qa[n])return n;var s=qa[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in $y)return Jf[n]=s[a];return n}var Gy=Gs("animationend"),Ky=Gs("animationiteration"),Yy=Gs("animationstart"),eR=Gs("transitionrun"),tR=Gs("transitionstart"),nR=Gs("transitioncancel"),Qy=Gs("transitionend"),Xy=new Map,Wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wf.push("scrollEnd");function ai(n,s){Xy.set(n,s),Ci(s,[n])}var fu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Un=[],Fa=0,Zf=0;function du(){for(var n=Fa,s=Zf=Fa=0;s<n;){var a=Un[s];Un[s++]=null;var l=Un[s];Un[s++]=null;var f=Un[s];Un[s++]=null;var d=Un[s];if(Un[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&Jy(a,f,d)}}function pu(n,s,a,l){Un[Fa++]=n,Un[Fa++]=s,Un[Fa++]=a,Un[Fa++]=l,Zf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function ed(n,s,a,l){return pu(n,s,a,l),mu(n)}function Ks(n,s){return pu(n,null,null,s),mu(n)}function Jy(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&s!==null&&(f=31-gt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function mu(n){if(50<Ul)throw Ul=0,cp=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Ha={};function iR(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(n,s,a,l){return new iR(n,s,a,l)}function td(n){return n=n.prototype,!(!n||!n.isReactComponent)}function tr(n,s){var a=n.alternate;return a===null?(a=Rn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Wy(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function gu(n,s,a,l,f,d){var v=0;if(l=n,typeof n=="function")td(n)&&(v=1);else if(typeof n=="string")v=lA(n,a,ue.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case A:return n=Rn(31,a,s,f),n.elementType=A,n.lanes=d,n;case F:return Ys(a.children,f,d,s);case G:v=8,f|=24;break;case X:return n=Rn(12,a,s,f|2),n.elementType=X,n.lanes=d,n;case Ee:return n=Rn(13,a,s,f),n.elementType=Ee,n.lanes=d,n;case Te:return n=Rn(19,a,s,f),n.elementType=Te,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case re:v=10;break e;case ne:v=9;break e;case se:v=11;break e;case D:v=14;break e;case I:v=16,l=null;break e}v=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=Rn(v,a,s,f),s.elementType=n,s.type=l,s.lanes=d,s}function Ys(n,s,a,l){return n=Rn(7,n,l,s),n.lanes=a,n}function nd(n,s,a){return n=Rn(6,n,null,s),n.lanes=a,n}function Zy(n){var s=Rn(18,null,null,0);return s.stateNode=n,s}function id(n,s,a){return s=Rn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var e_=new WeakMap;function jn(n,s){if(typeof n=="object"&&n!==null){var a=e_.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Ko(s)},e_.set(n,s),s)}return{value:n,source:s,stack:Ko(s)}}var $a=[],Ga=0,yu=null,yl=0,zn=[],Bn=0,Ur=null,Oi=1,Mi="";function nr(n,s){$a[Ga++]=yl,$a[Ga++]=yu,yu=n,yl=s}function t_(n,s,a){zn[Bn++]=Oi,zn[Bn++]=Mi,zn[Bn++]=Ur,Ur=n;var l=Oi;n=Mi;var f=32-gt(l)-1;l&=~(1<<f),a+=1;var d=32-gt(s)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Oi=1<<32-gt(s)+f|a<<f|l,Mi=d+n}else Oi=1<<d|a<<f|l,Mi=n}function rd(n){n.return!==null&&(nr(n,1),t_(n,1,0))}function sd(n){for(;n===yu;)yu=$a[--Ga],$a[Ga]=null,yl=$a[--Ga],$a[Ga]=null;for(;n===Ur;)Ur=zn[--Bn],zn[Bn]=null,Mi=zn[--Bn],zn[Bn]=null,Oi=zn[--Bn],zn[Bn]=null}function n_(n,s){zn[Bn++]=Oi,zn[Bn++]=Mi,zn[Bn++]=Ur,Oi=s.id,Mi=s.overflow,Ur=n}var Gt=null,st=null,Ue=!1,jr=null,qn=!1,ad=Error(r(519));function zr(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _l(jn(s,n)),ad}function i_(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[St]=n,s[zt]=l,a){case"dialog":Ne("cancel",s),Ne("close",s);break;case"iframe":case"object":case"embed":Ne("load",s);break;case"video":case"audio":for(a=0;a<zl.length;a++)Ne(zl[a],s);break;case"source":Ne("error",s);break;case"img":case"image":case"link":Ne("error",s),Ne("load",s);break;case"details":Ne("toggle",s);break;case"input":Ne("invalid",s),Xc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",s);break;case"textarea":Ne("invalid",s),kr(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||T0(s.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",s),Ne("toggle",s)),l.onScroll!=null&&Ne("scroll",s),l.onScrollEnd!=null&&Ne("scrollend",s),l.onClick!=null&&(s.onclick=ti),s=!0):s=!1,s||zr(n,!0)}function r_(n){for(Gt=n.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Gt=Gt.return}}function Ka(n){if(n!==Gt)return!1;if(!Ue)return r_(n),Ue=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Cp(n.type,n.memoizedProps)),a=!a),a&&st&&zr(n),r_(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));st=x0(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));st=x0(n)}else s===27?(s=st,es(n.type)?(n=xp,xp=null,st=n):st=s):st=Gt?Hn(n.stateNode.nextSibling):null;return!0}function Qs(){st=Gt=null,Ue=!1}function od(){var n=jr;return n!==null&&(gn===null?gn=n:gn.push.apply(gn,n),jr=null),n}function _l(n){jr===null?jr=[n]:jr.push(n)}var ld=P(null),Xs=null,ir=null;function Br(n,s,a){oe(ld,s._currentValue),s._currentValue=a}function rr(n){n._currentValue=ld.current,ee(ld)}function cd(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function ud(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var k=0;k<s.length;k++)if(b.context===s[k]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),cd(d.return,a,n),l||(v=null);break e}d=b.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),cd(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Ya(n,s,a,l){n=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var b=f.type;Cn(f.pendingProps.value,v.value)||(n!==null?n.push(b):n=[b])}}else if(f===je.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push($l):n=[$l])}f=f.return}n!==null&&ud(s,n,a,l),s.flags|=262144}function _u(n){for(n=n.firstContext;n!==null;){if(!Cn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Js(n){Xs=n,ir=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kt(n){return s_(Xs,n)}function vu(n,s){return Xs===null&&Js(n),s_(n,s)}function s_(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ir===null){if(n===null)throw Error(r(308));ir=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ir=ir.next=s;return a}var rR=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},sR=i.unstable_scheduleCallback,aR=i.unstable_NormalPriority,At={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hd(){return{controller:new rR,data:new Map,refCount:0}}function vl(n){n.refCount--,n.refCount===0&&sR(aR,function(){n.controller.abort()})}var Tl=null,fd=0,Qa=0,Xa=null;function oR(n,s){if(Tl===null){var a=Tl=[];fd=0,Qa=mp(),Xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return fd++,s.then(a_,a_),s}function a_(){if(--fd===0&&Tl!==null){Xa!==null&&(Xa.status="fulfilled");var n=Tl;Tl=null,Qa=0,Xa=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function lR(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var o_=$.S;$.S=function(n,s){Hv=on(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&oR(n,s),o_!==null&&o_(n,s)};var Ws=P(null);function dd(){var n=Ws.current;return n!==null?n:it.pooledCache}function Tu(n,s){s===null?oe(Ws,Ws.current):oe(Ws,s.pool)}function l_(){var n=dd();return n===null?null:{parent:At._currentValue,pool:n}}var Ja=Error(r(460)),pd=Error(r(474)),Eu=Error(r(542)),bu={then:function(){}};function c_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function u_(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(ti,ti),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,f_(n),n;default:if(typeof s.status=="string")s.then(ti,ti);else{if(n=it,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,f_(n),n}throw ea=s,Ja}}function Zs(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ea=a,Ja):a}}var ea=null;function h_(){if(ea===null)throw Error(r(459));var n=ea;return ea=null,n}function f_(n){if(n===Ja||n===Eu)throw Error(r(483))}var Wa=null,El=0;function Su(n){var s=El;return El+=1,Wa===null&&(Wa=[]),u_(Wa,n,s)}function bl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Cu(n,s){throw s.$$typeof===S?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function d_(n){function s(U,M){if(n){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function a(U,M){if(!n)return null;for(;M!==null;)s(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function f(U,M){return U=tr(U,M),U.index=0,U.sibling=null,U}function d(U,M,B){return U.index=B,n?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=67108866,M):B):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function v(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function b(U,M,B,J){return M===null||M.tag!==6?(M=nd(B,U.mode,J),M.return=U,M):(M=f(M,B),M.return=U,M)}function k(U,M,B,J){var ge=B.type;return ge===F?Q(U,M,B.props.children,J,B.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===I&&Zs(ge)===M.type)?(M=f(M,B.props),bl(M,B),M.return=U,M):(M=gu(B.type,B.key,B.props,null,U.mode,J),bl(M,B),M.return=U,M)}function q(U,M,B,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=id(B,U.mode,J),M.return=U,M):(M=f(M,B.children||[]),M.return=U,M)}function Q(U,M,B,J,ge){return M===null||M.tag!==7?(M=Ys(B,U.mode,J,ge),M.return=U,M):(M=f(M,B),M.return=U,M)}function W(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=nd(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case x:return B=gu(M.type,M.key,M.props,null,U.mode,B),bl(B,M),B.return=U,B;case j:return M=id(M,U.mode,B),M.return=U,M;case I:return M=Zs(M),W(U,M,B)}if(me(M)||V(M))return M=Ys(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return W(U,Su(M),B);if(M.$$typeof===re)return W(U,vu(U,M),B);Cu(U,M)}return null}function H(U,M,B,J){var ge=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ge!==null?null:b(U,M,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case x:return B.key===ge?k(U,M,B,J):null;case j:return B.key===ge?q(U,M,B,J):null;case I:return B=Zs(B),H(U,M,B,J)}if(me(B)||V(B))return ge!==null?null:Q(U,M,B,J,null);if(typeof B.then=="function")return H(U,M,Su(B),J);if(B.$$typeof===re)return H(U,M,vu(U,B),J);Cu(U,B)}return null}function Y(U,M,B,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(B)||null,b(M,U,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return U=U.get(J.key===null?B:J.key)||null,k(M,U,J,ge);case j:return U=U.get(J.key===null?B:J.key)||null,q(M,U,J,ge);case I:return J=Zs(J),Y(U,M,B,J,ge)}if(me(J)||V(J))return U=U.get(B)||null,Q(M,U,J,ge,null);if(typeof J.then=="function")return Y(U,M,B,Su(J),ge);if(J.$$typeof===re)return Y(U,M,B,vu(M,J),ge);Cu(M,J)}return null}function he(U,M,B,J){for(var ge=null,Fe=null,pe=M,De=M=0,Me=null;pe!==null&&De<B.length;De++){pe.index>De?(Me=pe,pe=null):Me=pe.sibling;var He=H(U,pe,B[De],J);if(He===null){pe===null&&(pe=Me);break}n&&pe&&He.alternate===null&&s(U,pe),M=d(He,M,De),Fe===null?ge=He:Fe.sibling=He,Fe=He,pe=Me}if(De===B.length)return a(U,pe),Ue&&nr(U,De),ge;if(pe===null){for(;De<B.length;De++)pe=W(U,B[De],J),pe!==null&&(M=d(pe,M,De),Fe===null?ge=pe:Fe.sibling=pe,Fe=pe);return Ue&&nr(U,De),ge}for(pe=l(pe);De<B.length;De++)Me=Y(pe,U,De,B[De],J),Me!==null&&(n&&Me.alternate!==null&&pe.delete(Me.key===null?De:Me.key),M=d(Me,M,De),Fe===null?ge=Me:Fe.sibling=Me,Fe=Me);return n&&pe.forEach(function(ss){return s(U,ss)}),Ue&&nr(U,De),ge}function _e(U,M,B,J){if(B==null)throw Error(r(151));for(var ge=null,Fe=null,pe=M,De=M=0,Me=null,He=B.next();pe!==null&&!He.done;De++,He=B.next()){pe.index>De?(Me=pe,pe=null):Me=pe.sibling;var ss=H(U,pe,He.value,J);if(ss===null){pe===null&&(pe=Me);break}n&&pe&&ss.alternate===null&&s(U,pe),M=d(ss,M,De),Fe===null?ge=ss:Fe.sibling=ss,Fe=ss,pe=Me}if(He.done)return a(U,pe),Ue&&nr(U,De),ge;if(pe===null){for(;!He.done;De++,He=B.next())He=W(U,He.value,J),He!==null&&(M=d(He,M,De),Fe===null?ge=He:Fe.sibling=He,Fe=He);return Ue&&nr(U,De),ge}for(pe=l(pe);!He.done;De++,He=B.next())He=Y(pe,U,De,He.value,J),He!==null&&(n&&He.alternate!==null&&pe.delete(He.key===null?De:He.key),M=d(He,M,De),Fe===null?ge=He:Fe.sibling=He,Fe=He);return n&&pe.forEach(function(vA){return s(U,vA)}),Ue&&nr(U,De),ge}function nt(U,M,B,J){if(typeof B=="object"&&B!==null&&B.type===F&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case x:e:{for(var ge=B.key;M!==null;){if(M.key===ge){if(ge=B.type,ge===F){if(M.tag===7){a(U,M.sibling),J=f(M,B.props.children),J.return=U,U=J;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===I&&Zs(ge)===M.type){a(U,M.sibling),J=f(M,B.props),bl(J,B),J.return=U,U=J;break e}a(U,M);break}else s(U,M);M=M.sibling}B.type===F?(J=Ys(B.props.children,U.mode,J,B.key),J.return=U,U=J):(J=gu(B.type,B.key,B.props,null,U.mode,J),bl(J,B),J.return=U,U=J)}return v(U);case j:e:{for(ge=B.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(U,M.sibling),J=f(M,B.children||[]),J.return=U,U=J;break e}else{a(U,M);break}else s(U,M);M=M.sibling}J=id(B,U.mode,J),J.return=U,U=J}return v(U);case I:return B=Zs(B),nt(U,M,B,J)}if(me(B))return he(U,M,B,J);if(V(B)){if(ge=V(B),typeof ge!="function")throw Error(r(150));return B=ge.call(B),_e(U,M,B,J)}if(typeof B.then=="function")return nt(U,M,Su(B),J);if(B.$$typeof===re)return nt(U,M,vu(U,B),J);Cu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(U,M.sibling),J=f(M,B),J.return=U,U=J):(a(U,M),J=nd(B,U.mode,J),J.return=U,U=J),v(U)):a(U,M)}return function(U,M,B,J){try{El=0;var ge=nt(U,M,B,J);return Wa=null,ge}catch(pe){if(pe===Ja||pe===Eu)throw pe;var Fe=Rn(29,pe,null,U.mode);return Fe.lanes=J,Fe.return=U,Fe}}}var ta=d_(!0),p_=d_(!1),qr=!1;function md(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Fr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Hr(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=mu(n),Jy(n,null,a),s}return pu(n,l,s,a),mu(n)}function Sl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Xo(n,a)}}function yd(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var _d=!1;function Cl(){if(_d){var n=Xa;if(n!==null)throw n}}function Rl(n,s,a,l){_d=!1;var f=n.updateQueue;qr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var k=b,q=k.next;k.next=null,v===null?d=q:v.next=q,v=k;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,b=Q.lastBaseUpdate,b!==v&&(b===null?Q.firstBaseUpdate=q:b.next=q,Q.lastBaseUpdate=k))}if(d!==null){var W=f.baseState;v=0,Q=q=k=null,b=d;do{var H=b.lane&-536870913,Y=H!==b.lane;if(Y?(Oe&H)===H:(l&H)===H){H!==0&&H===Qa&&(_d=!0),Q!==null&&(Q=Q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var he=n,_e=b;H=s;var nt=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){W=he.call(nt,W,H);break e}W=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,H=typeof he=="function"?he.call(nt,W,H):he,H==null)break e;W=T({},W,H);break e;case 2:qr=!0}}H=b.callback,H!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Q===null?(q=Q=Y,k=W):Q=Q.next=Y,v|=H;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);Q===null&&(k=W),f.baseState=k,f.firstBaseUpdate=q,f.lastBaseUpdate=Q,d===null&&(f.shared.lanes=0),Qr|=v,n.lanes=v,n.memoizedState=W}}function m_(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function g_(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)m_(a[n],s)}var Za=P(null),Ru=P(0);function y_(n,s){n=dr,oe(Ru,n),oe(Za,s),dr=n|s.baseLanes}function vd(){oe(Ru,dr),oe(Za,Za.current)}function Td(){dr=Ru.current,ee(Za),ee(Ru)}var An=P(null),Fn=null;function $r(n){var s=n.alternate;oe(_t,_t.current&1),oe(An,n),Fn===null&&(s===null||Za.current!==null||s.memoizedState!==null)&&(Fn=n)}function Ed(n){oe(_t,_t.current),oe(An,n),Fn===null&&(Fn=n)}function __(n){n.tag===22?(oe(_t,_t.current),oe(An,n),Fn===null&&(Fn=n)):Gr()}function Gr(){oe(_t,_t.current),oe(An,An.current)}function In(n){ee(An),Fn===n&&(Fn=null),ee(_t)}var _t=P(0);function Au(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ip(a)||wp(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var sr=0,we=null,et=null,It=null,Iu=!1,eo=!1,na=!1,wu=0,Al=0,to=null,cR=0;function dt(){throw Error(r(321))}function bd(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Cn(n[a],s[a]))return!1;return!0}function Sd(n,s,a,l,f,d){return sr=d,we=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=n===null||n.memoizedState===null?tv:Ud,na=!1,d=a(l,f),na=!1,eo&&(d=T_(s,a,l,f)),v_(n),d}function v_(n){$.H=xl;var s=et!==null&&et.next!==null;if(sr=0,It=et=we=null,Iu=!1,Al=0,to=null,s)throw Error(r(300));n===null||wt||(n=n.dependencies,n!==null&&_u(n)&&(wt=!0))}function T_(n,s,a,l){we=n;var f=0;do{if(eo&&(to=null),Al=0,eo=!1,25<=f)throw Error(r(301));if(f+=1,It=et=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=nv,d=s(a,l)}while(eo);return d}function uR(){var n=$.H,s=n.useState()[0];return s=typeof s.then=="function"?Il(s):s,n=n.useState()[0],(et!==null?et.memoizedState:null)!==n&&(we.flags|=1024),s}function Cd(){var n=wu!==0;return wu=0,n}function Rd(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Ad(n){if(Iu){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Iu=!1}sr=0,It=et=we=null,eo=!1,Al=wu=0,to=null}function cn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?we.memoizedState=It=n:It=It.next=n,It}function vt(){if(et===null){var n=we.alternate;n=n!==null?n.memoizedState:null}else n=et.next;var s=It===null?we.memoizedState:It.next;if(s!==null)It=s,et=n;else{if(n===null)throw we.alternate===null?Error(r(467)):Error(r(310));et=n,n={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},It===null?we.memoizedState=It=n:It=It.next=n}return It}function xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(n){var s=Al;return Al+=1,to===null&&(to=[]),n=u_(to,n,s),s=we,(It===null?s.memoizedState:It.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?tv:Ud),n}function Du(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Il(n);if(n.$$typeof===re)return Kt(n)}throw Error(r(438,String(n)))}function Id(n){var s=null,a=we.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=xu(),we.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=O;return s.index++,a}function ar(n,s){return typeof s=="function"?s(n):s}function ku(n){var s=vt();return wd(s,et,n)}function wd(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}s.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{s=f.next;var b=v=null,k=null,q=s,Q=!1;do{var W=q.lane&-536870913;if(W!==q.lane?(Oe&W)===W:(sr&W)===W){var H=q.revertLane;if(H===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),W===Qa&&(Q=!0);else if((sr&H)===H){q=q.next,H===Qa&&(Q=!0);continue}else W={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(b=k=W,v=d):k=k.next=W,we.lanes|=H,Qr|=H;W=q.action,na&&a(d,W),d=q.hasEagerState?q.eagerState:a(d,W)}else H={lane:W,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(b=k=H,v=d):k=k.next=H,we.lanes|=W,Qr|=W;q=q.next}while(q!==null&&q!==s);if(k===null?v=d:k.next=b,!Cn(d,n.memoizedState)&&(wt=!0,Q&&(a=Xa,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=k,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function xd(n){var s=vt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=n(d,v.action),v=v.next;while(v!==f);Cn(d,s.memoizedState)||(wt=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function E_(n,s,a){var l=we,f=vt(),d=Ue;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!Cn((et||f).memoizedState,a);if(v&&(f.memoizedState=a,wt=!0),f=f.queue,Nd(C_.bind(null,l,f,n),[n]),f.getSnapshot!==s||v||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,no(9,{destroy:void 0},S_.bind(null,l,f,a,s),null),it===null)throw Error(r(349));d||(sr&127)!==0||b_(l,s,a)}return a}function b_(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=we.updateQueue,s===null?(s=xu(),we.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function S_(n,s,a,l){s.value=a,s.getSnapshot=l,R_(s)&&A_(n)}function C_(n,s,a){return a(function(){R_(s)&&A_(n)})}function R_(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Cn(n,a)}catch{return!0}}function A_(n){var s=Ks(n,2);s!==null&&yn(s,n,2)}function Dd(n){var s=cn();if(typeof n=="function"){var a=n;if(n=a(),na){On(!0);try{a()}finally{On(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:n},s}function I_(n,s,a,l){return n.baseState=a,wd(n,et,typeof l=="function"?l:ar)}function hR(n,s,a,l,f){if(Mu(n))throw Error(r(485));if(n=s.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,w_(s,d)):(d.next=a.next,s.pending=a.next=d)}}function w_(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var d=$.T,v={};$.T=v;try{var b=a(f,l),k=$.S;k!==null&&k(v,b),x_(n,s,b)}catch(q){kd(n,s,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),$.T=d}}else try{d=a(f,l),x_(n,s,d)}catch(q){kd(n,s,q)}}function x_(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){D_(n,s,l)},function(l){return kd(n,s,l)}):D_(n,s,a)}function D_(n,s,a){s.status="fulfilled",s.value=a,k_(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,w_(n,a)))}function kd(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,k_(s),s=s.next;while(s!==l)}n.action=null}function k_(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function N_(n,s){return s}function O_(n,s){if(Ue){var a=it.formState;if(a!==null){e:{var l=we;if(Ue){if(st){t:{for(var f=st,d=qn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Hn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){st=Hn(f.nextSibling),l=f.data==="F!";break e}}zr(l)}l=!1}l&&(s=a[0])}}return a=cn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:N_,lastRenderedState:s},a.queue=l,a=W_.bind(null,we,l),l.dispatch=a,l=Dd(!1),d=Ld.bind(null,we,!1,l.queue),l=cn(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=hR.bind(null,we,f,d,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function M_(n){var s=vt();return P_(s,et,n)}function P_(n,s,a){if(s=wd(n,s,N_)[0],n=ku(ar)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Il(s)}catch(v){throw v===Ja?Eu:v}else l=s;s=vt();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(we.flags|=2048,no(9,{destroy:void 0},fR.bind(null,f,a),null)),[l,d,n]}function fR(n,s){n.action=s}function V_(n){var s=vt(),a=et;if(a!==null)return P_(s,a,n);vt(),s=s.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function no(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=we.updateQueue,s===null&&(s=xu(),we.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function L_(){return vt().memoizedState}function Nu(n,s,a,l){var f=cn();we.flags|=n,f.memoizedState=no(1|s,{destroy:void 0},a,l===void 0?null:l)}function Ou(n,s,a,l){var f=vt();l=l===void 0?null:l;var d=f.memoizedState.inst;et!==null&&l!==null&&bd(l,et.memoizedState.deps)?f.memoizedState=no(s,d,a,l):(we.flags|=n,f.memoizedState=no(1|s,d,a,l))}function U_(n,s){Nu(8390656,8,n,s)}function Nd(n,s){Ou(2048,8,n,s)}function dR(n){we.flags|=4;var s=we.updateQueue;if(s===null)s=xu(),we.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function j_(n){var s=vt().memoizedState;return dR({ref:s,nextImpl:n}),function(){if((Ge&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function z_(n,s){return Ou(4,2,n,s)}function B_(n,s){return Ou(4,4,n,s)}function q_(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function F_(n,s,a){a=a!=null?a.concat([n]):null,Ou(4,4,q_.bind(null,s,n),a)}function Od(){}function H_(n,s){var a=vt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&bd(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function $_(n,s){var a=vt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&bd(s,l[1]))return l[0];if(l=n(),na){On(!0);try{n()}finally{On(!1)}}return a.memoizedState=[l,s],l}function Md(n,s,a){return a===void 0||(sr&1073741824)!==0&&(Oe&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=Gv(),we.lanes|=n,Qr|=n,a)}function G_(n,s,a,l){return Cn(a,s)?a:Za.current!==null?(n=Md(n,a,l),Cn(n,s)||(wt=!0),n):(sr&42)===0||(sr&1073741824)!==0&&(Oe&261930)===0?(wt=!0,n.memoizedState=a):(n=Gv(),we.lanes|=n,Qr|=n,s)}function K_(n,s,a,l,f){var d=ie.p;ie.p=d!==0&&8>d?d:8;var v=$.T,b={};$.T=b,Ld(n,!1,s,a);try{var k=f(),q=$.S;if(q!==null&&q(b,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Q=lR(k,l);wl(n,s,Q,Dn(n))}else wl(n,s,l,Dn(n))}catch(W){wl(n,s,{then:function(){},status:"rejected",reason:W},Dn())}finally{ie.p=d,v!==null&&b.types!==null&&(v.types=b.types),$.T=v}}function pR(){}function Pd(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=Y_(n).queue;K_(n,f,s,de,a===null?pR:function(){return Q_(n),a(l)})}function Y_(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:de},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Q_(n){var s=Y_(n);s.next===null&&(s=n.alternate.memoizedState),wl(n,s.next.queue,{},Dn())}function Vd(){return Kt($l)}function X_(){return vt().memoizedState}function J_(){return vt().memoizedState}function mR(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Dn();n=Fr(a);var l=Hr(s,n,a);l!==null&&(yn(l,s,a),Sl(l,s,a)),s={cache:hd()},n.payload=s;return}s=s.return}}function gR(n,s,a){var l=Dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Mu(n)?Z_(s,a):(a=ed(n,s,a,l),a!==null&&(yn(a,n,l),ev(a,s,l)))}function W_(n,s,a){var l=Dn();wl(n,s,a,l)}function wl(n,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mu(n))Z_(s,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var v=s.lastRenderedState,b=d(v,a);if(f.hasEagerState=!0,f.eagerState=b,Cn(b,v))return pu(n,s,f,0),it===null&&du(),!1}catch{}if(a=ed(n,s,f,l),a!==null)return yn(a,n,l),ev(a,s,l),!0}return!1}function Ld(n,s,a,l){if(l={lane:2,revertLane:mp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Mu(n)){if(s)throw Error(r(479))}else s=ed(n,a,l,2),s!==null&&yn(s,n,2)}function Mu(n){var s=n.alternate;return n===we||s!==null&&s===we}function Z_(n,s){eo=Iu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function ev(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Xo(n,a)}}var xl={readContext:Kt,use:Du,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};xl.useEffectEvent=dt;var tv={readContext:Kt,use:Du,useCallback:function(n,s){return cn().memoizedState=[n,s===void 0?null:s],n},useContext:Kt,useEffect:U_,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Nu(4194308,4,q_.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Nu(4194308,4,n,s)},useInsertionEffect:function(n,s){Nu(4,2,n,s)},useMemo:function(n,s){var a=cn();s=s===void 0?null:s;var l=n();if(na){On(!0);try{n()}finally{On(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=cn();if(a!==void 0){var f=a(s);if(na){On(!0);try{a(s)}finally{On(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=gR.bind(null,we,n),[l.memoizedState,n]},useRef:function(n){var s=cn();return n={current:n},s.memoizedState=n},useState:function(n){n=Dd(n);var s=n.queue,a=W_.bind(null,we,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Od,useDeferredValue:function(n,s){var a=cn();return Md(a,n,s)},useTransition:function(){var n=Dd(!1);return n=K_.bind(null,we,n.queue,!0,!1),cn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=we,f=cn();if(Ue){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),it===null)throw Error(r(349));(Oe&127)!==0||b_(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,U_(C_.bind(null,l,d,n),[n]),l.flags|=2048,no(9,{destroy:void 0},S_.bind(null,l,d,a,s),null),a},useId:function(){var n=cn(),s=it.identifierPrefix;if(Ue){var a=Mi,l=Oi;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=wu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=cR++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Vd,useFormState:O_,useActionState:O_,useOptimistic:function(n){var s=cn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Ld.bind(null,we,!0,a),a.dispatch=s,[n,s]},useMemoCache:Id,useCacheRefresh:function(){return cn().memoizedState=mR.bind(null,we)},useEffectEvent:function(n){var s=cn(),a={impl:n};return s.memoizedState=a,function(){if((Ge&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Ud={readContext:Kt,use:Du,useCallback:H_,useContext:Kt,useEffect:Nd,useImperativeHandle:F_,useInsertionEffect:z_,useLayoutEffect:B_,useMemo:$_,useReducer:ku,useRef:L_,useState:function(){return ku(ar)},useDebugValue:Od,useDeferredValue:function(n,s){var a=vt();return G_(a,et.memoizedState,n,s)},useTransition:function(){var n=ku(ar)[0],s=vt().memoizedState;return[typeof n=="boolean"?n:Il(n),s]},useSyncExternalStore:E_,useId:X_,useHostTransitionStatus:Vd,useFormState:M_,useActionState:M_,useOptimistic:function(n,s){var a=vt();return I_(a,et,n,s)},useMemoCache:Id,useCacheRefresh:J_};Ud.useEffectEvent=j_;var nv={readContext:Kt,use:Du,useCallback:H_,useContext:Kt,useEffect:Nd,useImperativeHandle:F_,useInsertionEffect:z_,useLayoutEffect:B_,useMemo:$_,useReducer:xd,useRef:L_,useState:function(){return xd(ar)},useDebugValue:Od,useDeferredValue:function(n,s){var a=vt();return et===null?Md(a,n,s):G_(a,et.memoizedState,n,s)},useTransition:function(){var n=xd(ar)[0],s=vt().memoizedState;return[typeof n=="boolean"?n:Il(n),s]},useSyncExternalStore:E_,useId:X_,useHostTransitionStatus:Vd,useFormState:V_,useActionState:V_,useOptimistic:function(n,s){var a=vt();return et!==null?I_(a,et,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Id,useCacheRefresh:J_};nv.useEffectEvent=j_;function jd(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:T({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var zd={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=Dn(),f=Fr(l);f.payload=s,a!=null&&(f.callback=a),s=Hr(n,f,l),s!==null&&(yn(s,n,l),Sl(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=Dn(),f=Fr(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Hr(n,f,l),s!==null&&(yn(s,n,l),Sl(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Dn(),l=Fr(a);l.tag=2,s!=null&&(l.callback=s),s=Hr(n,l,a),s!==null&&(yn(s,n,a),Sl(s,n,a))}};function iv(n,s,a,l,f,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):s.prototype&&s.prototype.isPureReactComponent?!ml(a,l)||!ml(f,d):!0}function rv(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&zd.enqueueReplaceState(s,s.state,null)}function ia(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=T({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function sv(n){fu(n)}function av(n){console.error(n)}function ov(n){fu(n)}function Pu(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function lv(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Bd(n,s,a){return a=Fr(a),a.tag=3,a.payload={element:null},a.callback=function(){Pu(n,s)},a}function cv(n){return n=Fr(n),n.tag=3,n}function uv(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){lv(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){lv(s,a,l),typeof f!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function yR(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ya(s,a,f,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?Ku():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===bu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),fp(n,l,f)),!1;case 22:return a.flags|=65536,l===bu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),fp(n,l,f)),!1}throw Error(r(435,a.tag))}return fp(n,l,f),Ku(),!1}if(Ue)return s=An.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==ad&&(n=Error(r(422),{cause:l}),_l(jn(n,a)))):(l!==ad&&(s=Error(r(423),{cause:l}),_l(jn(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=jn(l,a),f=Bd(n.stateNode,l,f),yd(n,f),pt!==4&&(pt=2)),!1;var d=Error(r(520),{cause:l});if(d=jn(d,a),Ll===null?Ll=[d]:Ll.push(d),pt!==4&&(pt=2),s===null)return!0;l=jn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Bd(a.stateNode,l,n),yd(a,n),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Xr===null||!Xr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=cv(f),uv(f,n,a,l),yd(a,f),!1}a=a.return}while(a!==null);return!1}var qd=Error(r(461)),wt=!1;function Yt(n,s,a,l){s.child=n===null?p_(s,null,a,l):ta(s,n.child,a,l)}function hv(n,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Js(s),l=Sd(n,s,a,v,d,f),b=Cd(),n!==null&&!wt?(Rd(n,s,f),or(n,s,f)):(Ue&&b&&rd(s),s.flags|=1,Yt(n,s,l,f),s.child)}function fv(n,s,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!td(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,dv(n,s,d,l,f)):(n=gu(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(d=n.child,!Xd(n,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:ml,a(v,l)&&n.ref===s.ref)return or(n,s,f)}return s.flags|=1,n=tr(d,l),n.ref=s.ref,n.return=s,s.child=n}function dv(n,s,a,l,f){if(n!==null){var d=n.memoizedProps;if(ml(d,l)&&n.ref===s.ref)if(wt=!1,s.pendingProps=l=d,Xd(n,f))(n.flags&131072)!==0&&(wt=!0);else return s.lanes=n.lanes,or(n,s,f)}return Fd(n,s,a,l,f)}function pv(n,s,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=s.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return mv(n,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Tu(s,d!==null?d.cachePool:null),d!==null?y_(s,d):vd(),__(s);else return l=s.lanes=536870912,mv(n,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Tu(s,d.cachePool),y_(s,d),Gr(),s.memoizedState=null):(n!==null&&Tu(s,null),vd(),Gr());return Yt(n,s,f,a),s.child}function Dl(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function mv(n,s,a,l,f){var d=dd();return d=d===null?null:{parent:At._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},n!==null&&Tu(s,null),vd(),__(s),n!==null&&Ya(n,s,l,!0),s.childLanes=f,null}function Vu(n,s){return s=Uu({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function gv(n,s,a){return ta(s,n.child,null,a),n=Vu(s,s.pendingProps),n.flags|=2,In(s),s.memoizedState=null,n}function _R(n,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ue){if(l.mode==="hidden")return n=Vu(s,l),s.lanes=536870912,Dl(null,n);if(Ed(s),(n=st)?(n=w0(n,qn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ur!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=Zy(n),a.return=s,s.child=a,Gt=s,st=null)):n=null,n===null)throw zr(s);return s.lanes=536870912,null}return Vu(s,l)}var d=n.memoizedState;if(d!==null){var v=d.dehydrated;if(Ed(s),f)if(s.flags&256)s.flags&=-257,s=gv(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(wt||Ya(n,s,a,!1),f=(a&n.childLanes)!==0,wt||f){if(l=it,l!==null&&(v=Jo(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ks(n,v),yn(l,n,v),qd;Ku(),s=gv(n,s,a)}else n=d.treeContext,st=Hn(v.nextSibling),Gt=s,Ue=!0,jr=null,qn=!1,n!==null&&n_(s,n),s=Vu(s,l),s.flags|=4096;return s}return n=tr(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Lu(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Fd(n,s,a,l,f){return Js(s),a=Sd(n,s,a,l,void 0,f),l=Cd(),n!==null&&!wt?(Rd(n,s,f),or(n,s,f)):(Ue&&l&&rd(s),s.flags|=1,Yt(n,s,a,f),s.child)}function yv(n,s,a,l,f,d){return Js(s),s.updateQueue=null,a=T_(s,l,a,f),v_(n),l=Cd(),n!==null&&!wt?(Rd(n,s,d),or(n,s,d)):(Ue&&l&&rd(s),s.flags|=1,Yt(n,s,a,d),s.child)}function _v(n,s,a,l,f){if(Js(s),s.stateNode===null){var d=Ha,v=a.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=zd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},md(s),v=a.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):Ha,d.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(jd(s,a,v,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&zd.enqueueReplaceState(d,d.state,null),Rl(s,l,d,f),Cl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){d=s.stateNode;var b=s.memoizedProps,k=ia(a,b);d.props=k;var q=d.context,Q=a.contextType;v=Ha,typeof Q=="object"&&Q!==null&&(v=Kt(Q));var W=a.getDerivedStateFromProps;Q=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||q!==v)&&rv(s,d,l,v),qr=!1;var H=s.memoizedState;d.state=H,Rl(s,l,d,f),Cl(),q=s.memoizedState,b||H!==q||qr?(typeof W=="function"&&(jd(s,a,W,l),q=s.memoizedState),(k=qr||iv(s,a,k,l,H,q,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=q),d.props=l,d.state=q,d.context=v,l=k):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,gd(n,s),v=s.memoizedProps,Q=ia(a,v),d.props=Q,W=s.pendingProps,H=d.context,q=a.contextType,k=Ha,typeof q=="object"&&q!==null&&(k=Kt(q)),b=a.getDerivedStateFromProps,(q=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||H!==k)&&rv(s,d,l,k),qr=!1,H=s.memoizedState,d.state=H,Rl(s,l,d,f),Cl();var Y=s.memoizedState;v!==W||H!==Y||qr||n!==null&&n.dependencies!==null&&_u(n.dependencies)?(typeof b=="function"&&(jd(s,a,b,l),Y=s.memoizedState),(Q=qr||iv(s,a,Q,l,H,Y,k)||n!==null&&n.dependencies!==null&&_u(n.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,k),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,k)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&H===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&H===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Y),d.props=l,d.state=Y,d.context=k,l=Q):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&H===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&H===n.memoizedState||(s.flags|=1024),l=!1)}return d=l,Lu(n,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,n!==null&&l?(s.child=ta(s,n.child,null,f),s.child=ta(s,null,a,f)):Yt(n,s,a,f),s.memoizedState=d.state,n=s.child):n=or(n,s,f),n}function vv(n,s,a,l){return Qs(),s.flags|=256,Yt(n,s,a,l),s.child}var Hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $d(n){return{baseLanes:n,cachePool:l_()}}function Gd(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=xn),n}function Tv(n,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(_t.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ue){if(f?$r(s):Gr(),(n=st)?(n=w0(n,qn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ur!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=Zy(n),a.return=s,s.child=a,Gt=s,st=null)):n=null,n===null)throw zr(s);return wp(n)?s.lanes=32:s.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(Gr(),f=s.mode,b=Uu({mode:"hidden",children:b},f),l=Ys(l,f,a,null),b.return=s,l.return=s,b.sibling=l,s.child=b,l=s.child,l.memoizedState=$d(a),l.childLanes=Gd(n,v,a),s.memoizedState=Hd,Dl(null,l)):($r(s),Kd(s,b))}var k=n.memoizedState;if(k!==null&&(b=k.dehydrated,b!==null)){if(d)s.flags&256?($r(s),s.flags&=-257,s=Yd(n,s,a)):s.memoizedState!==null?(Gr(),s.child=n.child,s.flags|=128,s=null):(Gr(),b=l.fallback,f=s.mode,l=Uu({mode:"visible",children:l.children},f),b=Ys(b,f,a,null),b.flags|=2,l.return=s,b.return=s,l.sibling=b,s.child=l,ta(s,n.child,null,a),l=s.child,l.memoizedState=$d(a),l.childLanes=Gd(n,v,a),s.memoizedState=Hd,s=Dl(null,l));else if($r(s),wp(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(r(419)),l.stack="",l.digest=v,_l({value:l,source:null,stack:null}),s=Yd(n,s,a)}else if(wt||Ya(n,s,a,!1),v=(a&n.childLanes)!==0,wt||v){if(v=it,v!==null&&(l=Jo(v,a),l!==0&&l!==k.retryLane))throw k.retryLane=l,Ks(n,l),yn(v,n,l),qd;Ip(b)||Ku(),s=Yd(n,s,a)}else Ip(b)?(s.flags|=192,s.child=n.child,s=null):(n=k.treeContext,st=Hn(b.nextSibling),Gt=s,Ue=!0,jr=null,qn=!1,n!==null&&n_(s,n),s=Kd(s,l.children),s.flags|=4096);return s}return f?(Gr(),b=l.fallback,f=s.mode,k=n.child,q=k.sibling,l=tr(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,q!==null?b=tr(q,b):(b=Ys(b,f,a,null),b.flags|=2),b.return=s,l.return=s,l.sibling=b,s.child=l,Dl(null,l),l=s.child,b=n.child.memoizedState,b===null?b=$d(a):(f=b.cachePool,f!==null?(k=At._currentValue,f=f.parent!==k?{parent:k,pool:k}:f):f=l_(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=Gd(n,v,a),s.memoizedState=Hd,Dl(n.child,l)):($r(s),a=n.child,n=a.sibling,a=tr(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(v=s.deletions,v===null?(s.deletions=[n],s.flags|=16):v.push(n)),s.child=a,s.memoizedState=null,a)}function Kd(n,s){return s=Uu({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Uu(n,s){return n=Rn(22,n,null,s),n.lanes=0,n}function Yd(n,s,a){return ta(s,n.child,null,a),n=Kd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Ev(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),cd(n.return,s,a)}function Qd(n,s,a,l,f,d){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function bv(n,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=_t.current,b=(v&2)!==0;if(b?(v=v&1|2,s.flags|=128):v&=1,oe(_t,v),Yt(n,s,l,a),l=Ue?yl:0,!b&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ev(n,a,s);else if(n.tag===19)Ev(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&Au(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Qd(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Au(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Qd(s,!0,a,null,d,l);break;case"together":Qd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function or(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Qr|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Ya(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=tr(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=tr(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Xd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&_u(n)))}function vR(n,s,a){switch(s.tag){case 3:Pt(s,s.stateNode.containerInfo),Br(s,At,n.memoizedState.cache),Qs();break;case 27:case 5:xs(s);break;case 4:Pt(s,s.stateNode.containerInfo);break;case 10:Br(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ed(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?($r(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Tv(n,s,a):($r(s),n=or(n,s,a),n!==null?n.sibling:null);$r(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ya(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return bv(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(_t,_t.current),l)break;return null;case 22:return s.lanes=0,pv(n,s,a,s.pendingProps);case 24:Br(s,At,n.memoizedState.cache)}return or(n,s,a)}function Sv(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)wt=!0;else{if(!Xd(n,a)&&(s.flags&128)===0)return wt=!1,vR(n,s,a);wt=(n.flags&131072)!==0}else wt=!1,Ue&&(s.flags&1048576)!==0&&t_(s,yl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(n=Zs(s.elementType),s.type=n,typeof n=="function")td(n)?(l=ia(n,l),s.tag=1,s=_v(null,s,n,l,a)):(s.tag=0,s=Fd(null,s,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===se){s.tag=11,s=hv(null,s,n,l,a);break e}else if(f===D){s.tag=14,s=fv(null,s,n,l,a);break e}}throw s=qe(n)||n,Error(r(306,s,""))}}return s;case 0:return Fd(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=ia(l,s.pendingProps),_v(n,s,l,f,a);case 3:e:{if(Pt(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,gd(n,s),Rl(s,l,null,a);var v=s.memoizedState;if(l=v.cache,Br(s,At,l),l!==d.cache&&ud(s,[At],a,!0),Cl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=vv(n,s,l,a);break e}else if(l!==f){f=jn(Error(r(424)),s),_l(f),s=vv(n,s,l,a);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,st=Hn(n.firstChild),Gt=s,Ue=!0,jr=null,qn=!0,a=p_(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Qs(),l===f){s=or(n,s,a);break e}Yt(n,s,l,a)}s=s.child}return s;case 26:return Lu(n,s),n===null?(a=M0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ue||(a=s.type,n=s.pendingProps,l=eh(xe.current).createElement(a),l[St]=s,l[zt]=n,Qt(l,a,n),Ct(l),s.stateNode=l):s.memoizedState=M0(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return xs(s),n===null&&Ue&&(l=s.stateNode=k0(s.type,s.pendingProps,xe.current),Gt=s,qn=!0,f=st,es(s.type)?(xp=f,st=Hn(l.firstChild)):st=f),Yt(n,s,s.pendingProps.children,a),Lu(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ue&&((f=l=st)&&(l=QR(l,s.type,s.pendingProps,qn),l!==null?(s.stateNode=l,Gt=s,st=Hn(l.firstChild),qn=!1,f=!0):f=!1),f||zr(s)),xs(s),f=s.type,d=s.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,Cp(f,d)?l=null:v!==null&&Cp(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=Sd(n,s,uR,null,null,a),$l._currentValue=f),Lu(n,s),Yt(n,s,l,a),s.child;case 6:return n===null&&Ue&&((n=a=st)&&(a=XR(a,s.pendingProps,qn),a!==null?(s.stateNode=a,Gt=s,st=null,n=!0):n=!1),n||zr(s)),null;case 13:return Tv(n,s,a);case 4:return Pt(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=ta(s,null,l,a):Yt(n,s,l,a),s.child;case 11:return hv(n,s,s.type,s.pendingProps,a);case 7:return Yt(n,s,s.pendingProps,a),s.child;case 8:return Yt(n,s,s.pendingProps.children,a),s.child;case 12:return Yt(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Br(s,s.type,l.value),Yt(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Js(s),f=Kt(f),l=l(f),s.flags|=1,Yt(n,s,l,a),s.child;case 14:return fv(n,s,s.type,s.pendingProps,a);case 15:return dv(n,s,s.type,s.pendingProps,a);case 19:return bv(n,s,a);case 31:return _R(n,s,a);case 22:return pv(n,s,a,s.pendingProps);case 24:return Js(s),l=Kt(At),n===null?(f=dd(),f===null&&(f=it,d=hd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},md(s),Br(s,At,f)):((n.lanes&a)!==0&&(gd(n,s),Rl(s,null,null,a),Cl()),f=n.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Br(s,At,l)):(l=d.cache,Br(s,At,l),l!==f.cache&&ud(s,[At],a,!0))),Yt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function lr(n){n.flags|=4}function Jd(n,s,a,l,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(Xv())n.flags|=8192;else throw ea=bu,pd}else n.flags&=-16777217}function Cv(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!j0(s))if(Xv())n.flags|=8192;else throw ea=bu,pd}function ju(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?$c():536870912,n.lanes|=s,ao|=s)}function kl(n,s){if(!Ue)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function at(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function TR(n,s,a){var l=s.pendingProps;switch(sd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(s),null;case 1:return at(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),rr(At),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ka(s)?lr(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,od())),at(s),null;case 26:var f=s.type,d=s.memoizedState;return n===null?(lr(s),d!==null?(at(s),Cv(s,d)):(at(s),Jd(s,f,null,l,a))):d?d!==n.memoizedState?(lr(s),at(s),Cv(s,d)):(at(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&lr(s),at(s),Jd(s,f,n,l,a)),null;case 27:if(Ra(s),a=xe.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&lr(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return at(s),null}n=ue.current,Ka(s)?i_(s):(n=k0(f,l,a),s.stateNode=n,lr(s))}return at(s),null;case 5:if(Ra(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&lr(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return at(s),null}if(d=ue.current,Ka(s))i_(s);else{var v=eh(xe.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[St]=s,d[zt]=l;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=d;e:switch(Qt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&lr(s)}}return at(s),Jd(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&lr(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=xe.current,Ka(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=Gt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[St]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||T0(n.nodeValue,a)),n||zr(s,!0)}else n=eh(n).createTextNode(l),n[St]=s,s.stateNode=n}return at(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=Ka(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[St]=s}else Qs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;at(s),n=!1}else a=od(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(In(s),s):(In(s),null);if((s.flags&128)!==0)throw Error(r(558))}return at(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Ka(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[St]=s}else Qs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;at(s),f=!1}else f=od(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(In(s),s):(In(s),null)}return In(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),ju(s,s.updateQueue),at(s),null);case 4:return lt(),n===null&&vp(s.stateNode.containerInfo),at(s),null;case 10:return rr(s.type),at(s),null;case 19:if(ee(_t),l=s.memoizedState,l===null)return at(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)kl(l,!1);else{if(pt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(d=Au(n),d!==null){for(s.flags|=128,kl(l,!1),n=d.updateQueue,s.updateQueue=n,ju(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Wy(a,n),a=a.sibling;return oe(_t,_t.current&1|2),Ue&&nr(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&on()>Hu&&(s.flags|=128,f=!0,kl(l,!1),s.lanes=4194304)}else{if(!f)if(n=Au(d),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,ju(s,n),kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return at(s),null}else 2*on()-l.renderingStartTime>Hu&&a!==536870912&&(s.flags|=128,f=!0,kl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(n=l.last,n!==null?n.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=on(),n.sibling=null,a=_t.current,oe(_t,f?a&1|2:a&1),Ue&&nr(s,l.treeForkCount),n):(at(s),null);case 22:case 23:return In(s),Td(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(at(s),s.subtreeFlags&6&&(s.flags|=8192)):at(s),a=s.updateQueue,a!==null&&ju(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&ee(Ws),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),rr(At),at(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function ER(n,s){switch(sd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return rr(At),lt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ra(s),null;case 31:if(s.memoizedState!==null){if(In(s),s.alternate===null)throw Error(r(340));Qs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(In(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Qs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ee(_t),null;case 4:return lt(),null;case 10:return rr(s.type),null;case 22:case 23:return In(s),Td(),n!==null&&ee(Ws),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return rr(At),null;case 25:return null;default:return null}}function Rv(n,s){switch(sd(s),s.tag){case 3:rr(At),lt();break;case 26:case 27:case 5:Ra(s);break;case 4:lt();break;case 31:s.memoizedState!==null&&In(s);break;case 13:In(s);break;case 19:ee(_t);break;case 10:rr(s.type);break;case 22:case 23:In(s),Td(),n!==null&&ee(Ws);break;case 24:rr(At)}}function Nl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(b){Je(s,s.return,b)}}function Kr(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,f=s;var k=a,q=b;try{q()}catch(Q){Je(f,k,Q)}}}l=l.next}while(l!==d)}}catch(Q){Je(s,s.return,Q)}}function Av(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{g_(s,a)}catch(l){Je(n,n.return,l)}}}function Iv(n,s,a){a.props=ia(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Je(n,s,l)}}function Ol(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Je(n,s,f)}}function Pi(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Je(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(n,s,f)}else a.current=null}function wv(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Je(n,n.return,f)}}function Wd(n,s,a){try{var l=n.stateNode;FR(l,n.type,a,s),l[zt]=s}catch(f){Je(n,n.return,f)}}function xv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&es(n.type)||n.tag===4}function Zd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||xv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&es(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ep(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ti));else if(l!==4&&(l===27&&es(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(ep(n,s,a),n=n.sibling;n!==null;)ep(n,s,a),n=n.sibling}function zu(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&es(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(zu(n,s,a),n=n.sibling;n!==null;)zu(n,s,a),n=n.sibling}function Dv(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Qt(s,l,a),s[St]=n,s[zt]=a}catch(d){Je(n,n.return,d)}}var cr=!1,xt=!1,tp=!1,kv=typeof WeakSet=="function"?WeakSet:Set,qt=null;function bR(n,s){if(n=n.containerInfo,bp=oh,n=Fy(n),Yf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,k=-1,q=0,Q=0,W=n,H=null;t:for(;;){for(var Y;W!==a||f!==0&&W.nodeType!==3||(b=v+f),W!==d||l!==0&&W.nodeType!==3||(k=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(Y=W.firstChild)!==null;)H=W,W=Y;for(;;){if(W===n)break t;if(H===a&&++q===f&&(b=v),H===d&&++Q===l&&(k=v),(Y=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=Y}a=b===-1||k===-1?null:{start:b,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sp={focusedElem:n,selectionRange:a},oh=!1,qt=s;qt!==null;)if(s=qt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,qt=n;else for(;qt!==null;){switch(s=qt,d=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=ia(a.type,f);n=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(_e){Je(a,a.return,_e)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Ap(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Ap(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,qt=n;break}qt=s.return}}function Nv(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:hr(n,a),l&4&&Nl(5,a);break;case 1:if(hr(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(v){Je(a,a.return,v)}else{var f=ia(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(a,a.return,v)}}l&64&&Av(a),l&512&&Ol(a,a.return);break;case 3:if(hr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{g_(n,s)}catch(v){Je(a,a.return,v)}}break;case 27:s===null&&l&4&&Dv(a);case 26:case 5:hr(n,a),s===null&&l&4&&wv(a),l&512&&Ol(a,a.return);break;case 12:hr(n,a);break;case 31:hr(n,a),l&4&&Pv(n,a);break;case 13:hr(n,a),l&4&&Vv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=kR.bind(null,a),JR(n,a))));break;case 22:if(l=a.memoizedState!==null||cr,!l){s=s!==null&&s.memoizedState!==null||xt,f=cr;var d=xt;cr=l,(xt=s)&&!d?fr(n,a,(a.subtreeFlags&8772)!==0):hr(n,a),cr=f,xt=d}break;case 30:break;default:hr(n,a)}}function Ov(n){var s=n.alternate;s!==null&&(n.alternate=null,Ov(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Da(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ut=null,dn=!1;function ur(n,s,a){for(a=a.child;a!==null;)Mv(n,s,a),a=a.sibling}function Mv(n,s,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Jn,a)}catch{}switch(a.tag){case 26:xt||Pi(a,s),ur(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xt||Pi(a,s);var l=ut,f=dn;es(a.type)&&(ut=a.stateNode,dn=!1),ur(n,s,a),ql(a.stateNode),ut=l,dn=f;break;case 5:xt||Pi(a,s);case 6:if(l=ut,f=dn,ut=null,ur(n,s,a),ut=l,dn=f,ut!==null)if(dn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){Je(a,s,d)}else try{ut.removeChild(a.stateNode)}catch(d){Je(a,s,d)}break;case 18:ut!==null&&(dn?(n=ut,A0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),mo(n)):A0(ut,a.stateNode));break;case 4:l=ut,f=dn,ut=a.stateNode.containerInfo,dn=!0,ur(n,s,a),ut=l,dn=f;break;case 0:case 11:case 14:case 15:Kr(2,a,s),xt||Kr(4,a,s),ur(n,s,a);break;case 1:xt||(Pi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Iv(a,s,l)),ur(n,s,a);break;case 21:ur(n,s,a);break;case 22:xt=(l=xt)||a.memoizedState!==null,ur(n,s,a),xt=l;break;default:ur(n,s,a)}}function Pv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{mo(n)}catch(a){Je(s,s.return,a)}}}function Vv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{mo(n)}catch(a){Je(s,s.return,a)}}function SR(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new kv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new kv),s;default:throw Error(r(435,n.tag))}}function Bu(n,s){var a=SR(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=NR.bind(null,n,l);l.then(f,f)}})}function pn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,v=s,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(es(b.type)){ut=b.stateNode,dn=!1;break e}break;case 5:ut=b.stateNode,dn=!1;break e;case 3:case 4:ut=b.stateNode.containerInfo,dn=!0;break e}b=b.return}if(ut===null)throw Error(r(160));Mv(d,v,f),ut=null,dn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Lv(s,n),s=s.sibling}var oi=null;function Lv(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:pn(s,n),mn(n),l&4&&(Kr(3,n,n.return),Nl(3,n),Kr(5,n,n.return));break;case 1:pn(s,n),mn(n),l&512&&(xt||a===null||Pi(a,a.return)),l&64&&cr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=oi;if(pn(s,n),mn(n),l&512&&(xt||a===null||Pi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ei]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Qt(d,l,a),d[St]=n,Ct(d),l=d;break e;case"link":var v=L0("link","href",f).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=f.createElement(l),Qt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=L0("meta","content",f).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=f.createElement(l),Qt(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[St]=n,Ct(d),l=d}n.stateNode=l}else U0(f,n.type,n.stateNode);else n.stateNode=V0(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?U0(f,n.type,n.stateNode):V0(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Wd(n,n.memoizedProps,a.memoizedProps)}break;case 27:pn(s,n),mn(n),l&512&&(xt||a===null||Pi(a,a.return)),a!==null&&l&4&&Wd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(pn(s,n),mn(n),l&512&&(xt||a===null||Pi(a,a.return)),n.flags&32){f=n.stateNode;try{fn(f,"")}catch(he){Je(n,n.return,he)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Wd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(tp=!0);break;case 6:if(pn(s,n),mn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(he){Je(n,n.return,he)}}break;case 3:if(ih=null,f=oi,oi=th(s.containerInfo),pn(s,n),oi=f,mn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{mo(s.containerInfo)}catch(he){Je(n,n.return,he)}tp&&(tp=!1,Uv(n));break;case 4:l=oi,oi=th(n.stateNode.containerInfo),pn(s,n),mn(n),oi=l;break;case 12:pn(s,n),mn(n);break;case 31:pn(s,n),mn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Bu(n,l)));break;case 13:pn(s,n),mn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fu=on()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Bu(n,l)));break;case 22:f=n.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,q=cr,Q=xt;if(cr=q||f,xt=Q||k,pn(s,n),xt=Q,cr=q,mn(n),l&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||k||cr||xt||ra(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){k=a=s;try{if(d=k.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=k.stateNode;var W=k.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(he){Je(k,k.return,he)}}}else if(s.tag===6){if(a===null){k=s;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(he){Je(k,k.return,he)}}}else if(s.tag===18){if(a===null){k=s;try{var Y=k.stateNode;f?I0(Y,!0):I0(k.stateNode,!1)}catch(he){Je(k,k.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bu(n,a))));break;case 19:pn(s,n),mn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Bu(n,l)));break;case 30:break;case 21:break;default:pn(s,n),mn(n)}}function mn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(xv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Zd(n);zu(n,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(fn(v,""),a.flags&=-33);var b=Zd(n);zu(n,b,v);break;case 3:case 4:var k=a.stateNode.containerInfo,q=Zd(n);ep(n,q,k);break;default:throw Error(r(161))}}catch(Q){Je(n,n.return,Q)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Uv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Uv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function hr(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Nv(n,s.alternate,s),s=s.sibling}function ra(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Kr(4,s,s.return),ra(s);break;case 1:Pi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Iv(s,s.return,a),ra(s);break;case 27:ql(s.stateNode);case 26:case 5:Pi(s,s.return),ra(s);break;case 22:s.memoizedState===null&&ra(s);break;case 30:ra(s);break;default:ra(s)}n=n.sibling}}function fr(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,d=s,v=d.flags;switch(d.tag){case 0:case 11:case 15:fr(f,d,a),Nl(4,d);break;case 1:if(fr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Je(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)m_(k[f],b)}catch(q){Je(l,l.return,q)}}a&&v&64&&Av(d),Ol(d,d.return);break;case 27:Dv(d);case 26:case 5:fr(f,d,a),a&&l===null&&v&4&&wv(d),Ol(d,d.return);break;case 12:fr(f,d,a);break;case 31:fr(f,d,a),a&&v&4&&Pv(f,d);break;case 13:fr(f,d,a),a&&v&4&&Vv(f,d);break;case 22:d.memoizedState===null&&fr(f,d,a),Ol(d,d.return);break;case 30:break;default:fr(f,d,a)}s=s.sibling}}function np(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&vl(a))}function ip(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&vl(n))}function li(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)jv(n,s,a,l),s=s.sibling}function jv(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:li(n,s,a,l),f&2048&&Nl(9,s);break;case 1:li(n,s,a,l);break;case 3:li(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&vl(n)));break;case 12:if(f&2048){li(n,s,a,l),n=s.stateNode;try{var d=s.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){Je(s,s.return,k)}}else li(n,s,a,l);break;case 31:li(n,s,a,l);break;case 13:li(n,s,a,l);break;case 23:break;case 22:d=s.stateNode,v=s.alternate,s.memoizedState!==null?d._visibility&2?li(n,s,a,l):Ml(n,s):d._visibility&2?li(n,s,a,l):(d._visibility|=2,io(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&np(v,s);break;case 24:li(n,s,a,l),f&2048&&ip(s.alternate,s);break;default:li(n,s,a,l)}}function io(n,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=n,v=s,b=a,k=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:io(d,v,b,k,f),Nl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?io(d,v,b,k,f):Ml(d,v):(Q._visibility|=2,io(d,v,b,k,f)),f&&q&2048&&np(v.alternate,v);break;case 24:io(d,v,b,k,f),f&&q&2048&&ip(v.alternate,v);break;default:io(d,v,b,k,f)}s=s.sibling}}function Ml(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Ml(a,l),f&2048&&np(l.alternate,l);break;case 24:Ml(a,l),f&2048&&ip(l.alternate,l);break;default:Ml(a,l)}s=s.sibling}}var Pl=8192;function ro(n,s,a){if(n.subtreeFlags&Pl)for(n=n.child;n!==null;)zv(n,s,a),n=n.sibling}function zv(n,s,a){switch(n.tag){case 26:ro(n,s,a),n.flags&Pl&&n.memoizedState!==null&&cA(a,oi,n.memoizedState,n.memoizedProps);break;case 5:ro(n,s,a);break;case 3:case 4:var l=oi;oi=th(n.stateNode.containerInfo),ro(n,s,a),oi=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Pl,Pl=16777216,ro(n,s,a),Pl=l):ro(n,s,a));break;default:ro(n,s,a)}}function Bv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Vl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];qt=l,Fv(l,n)}Bv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qv(n),n=n.sibling}function qv(n){switch(n.tag){case 0:case 11:case 15:Vl(n),n.flags&2048&&Kr(9,n,n.return);break;case 3:Vl(n);break;case 12:Vl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,qu(n)):Vl(n);break;default:Vl(n)}}function qu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];qt=l,Fv(l,n)}Bv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Kr(8,s,s.return),qu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,qu(s));break;default:qu(s)}n=n.sibling}}function Fv(n,s){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Kr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=n;qt!==null;){l=qt;var f=l.sibling,d=l.return;if(Ov(l),l===a){qt=null;break e}if(f!==null){f.return=d,qt=f;break e}qt=d}}}var CR={getCacheForType:function(n){var s=Kt(At),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return Kt(At).controller.signal}},RR=typeof WeakMap=="function"?WeakMap:Map,Ge=0,it=null,ke=null,Oe=0,Xe=0,wn=null,Yr=!1,so=!1,rp=!1,dr=0,pt=0,Qr=0,sa=0,sp=0,xn=0,ao=0,Ll=null,gn=null,ap=!1,Fu=0,Hv=0,Hu=1/0,$u=null,Xr=null,Lt=0,Jr=null,oo=null,pr=0,op=0,lp=null,$v=null,Ul=0,cp=null;function Dn(){return(Ge&2)!==0&&Oe!==0?Oe&-Oe:$.T!==null?mp():Gc()}function Gv(){if(xn===0)if((Oe&536870912)===0||Ue){var n=Ns;Ns<<=1,(Ns&3932160)===0&&(Ns=262144),xn=n}else xn=536870912;return n=An.current,n!==null&&(n.flags|=32),xn}function yn(n,s,a){(n===it&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(lo(n,0),Wr(n,Oe,xn,!1)),Os(n,a),((Ge&2)===0||n!==it)&&(n===it&&((Ge&2)===0&&(sa|=a),pt===4&&Wr(n,Oe,xn,!1)),Vi(n))}function Kv(n,s,a){if((Ge&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||Wn(n,s),f=l?wR(n,s):hp(n,s,!0),d=l;do{if(f===0){so&&!l&&Wr(n,s,0,!1);break}else{if(a=n.current.alternate,d&&!AR(a)){f=hp(n,s,!1),d=!1;continue}if(f===2){if(d=s,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var b=n;f=Ll;var k=b.current.memoizedState.isDehydrated;if(k&&(lo(b,v).flags|=256),v=hp(b,v,!1),v!==2){if(rp&&!k){b.errorRecoveryDisabledLanes|=d,sa|=d,f=4;break e}d=gn,gn=f,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){lo(n,0),Wr(n,s,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Wr(l,s,xn,!Yr);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Fu+300-on(),10<f)){if(Wr(l,s,xn,!Yr),_i(l,0,!0)!==0)break e;pr=s,l.timeoutHandle=C0(Yv.bind(null,l,a,gn,$u,ap,s,xn,sa,ao,Yr,d,"Throttled",-0,0),f);break e}Yv(l,a,gn,$u,ap,s,xn,sa,ao,Yr,d,null,-0,0)}}break}while(!0);Vi(n)}function Yv(n,s,a,l,f,d,v,b,k,q,Q,W,H,Y){if(n.timeoutHandle=-1,W=s.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},zv(s,d,W);var he=(d&62914560)===d?Fu-on():(d&4194048)===d?Hv-on():0;if(he=uA(W,he),he!==null){pr=d,n.cancelPendingCommit=he(n0.bind(null,n,s,d,a,l,f,v,b,k,Q,W,null,H,Y)),Wr(n,d,v,!q);return}}n0(n,s,d,a,l,f,v,b,k)}function AR(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Cn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Wr(n,s,a,l){s&=~sp,s&=~sa,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var d=31-gt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&Ms(n,a,s)}function Gu(){return(Ge&6)===0?(jl(0),!1):!0}function up(){if(ke!==null){if(Xe===0)var n=ke.return;else n=ke,ir=Xs=null,Ad(n),Wa=null,El=0,n=ke;for(;n!==null;)Rv(n.alternate,n),n=n.return;ke=null}}function lo(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,GR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),pr=0,up(),it=n,ke=a=tr(n.current,null),Oe=s,Xe=0,wn=null,Yr=!1,so=Wn(n,s),rp=!1,ao=xn=sp=sa=Qr=pt=0,gn=Ll=null,ap=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-gt(l),d=1<<f;s|=n[f],l&=~d}return dr=s,du(),a}function Qv(n,s){we=null,$.H=xl,s===Ja||s===Eu?(s=h_(),Xe=3):s===pd?(s=h_(),Xe=4):Xe=s===qd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,wn=s,ke===null&&(pt=1,Pu(n,jn(s,n.current)))}function Xv(){var n=An.current;return n===null?!0:(Oe&4194048)===Oe?Fn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?n===Fn:!1}function Jv(){var n=$.H;return $.H=xl,n===null?xl:n}function Wv(){var n=$.A;return $.A=CR,n}function Ku(){pt=4,Yr||(Oe&4194048)!==Oe&&An.current!==null||(so=!0),(Qr&134217727)===0&&(sa&134217727)===0||it===null||Wr(it,Oe,xn,!1)}function hp(n,s,a){var l=Ge;Ge|=2;var f=Jv(),d=Wv();(it!==n||Oe!==s)&&($u=null,lo(n,s)),s=!1;var v=pt;e:do try{if(Xe!==0&&ke!==null){var b=ke,k=wn;switch(Xe){case 8:up(),v=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(s=!0);var q=Xe;if(Xe=0,wn=null,co(n,b,k,q),a&&so){v=0;break e}break;default:q=Xe,Xe=0,wn=null,co(n,b,k,q)}}IR(),v=pt;break}catch(Q){Qv(n,Q)}while(!0);return s&&n.shellSuspendCounter++,ir=Xs=null,Ge=l,$.H=f,$.A=d,ke===null&&(it=null,Oe=0,du()),v}function IR(){for(;ke!==null;)Zv(ke)}function wR(n,s){var a=Ge;Ge|=2;var l=Jv(),f=Wv();it!==n||Oe!==s?($u=null,Hu=on()+500,lo(n,s)):so=Wn(n,s);e:do try{if(Xe!==0&&ke!==null){s=ke;var d=wn;t:switch(Xe){case 1:Xe=0,wn=null,co(n,s,d,1);break;case 2:case 9:if(c_(d)){Xe=0,wn=null,e0(s);break}s=function(){Xe!==2&&Xe!==9||it!==n||(Xe=7),Vi(n)},d.then(s,s);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:c_(d)?(Xe=0,wn=null,e0(s)):(Xe=0,wn=null,co(n,s,d,7));break;case 5:var v=null;switch(ke.tag){case 26:v=ke.memoizedState;case 5:case 27:var b=ke;if(v?j0(v):b.stateNode.complete){Xe=0,wn=null;var k=b.sibling;if(k!==null)ke=k;else{var q=b.return;q!==null?(ke=q,Yu(q)):ke=null}break t}}Xe=0,wn=null,co(n,s,d,5);break;case 6:Xe=0,wn=null,co(n,s,d,6);break;case 8:up(),pt=6;break e;default:throw Error(r(462))}}xR();break}catch(Q){Qv(n,Q)}while(!0);return ir=Xs=null,$.H=l,$.A=f,Ge=a,ke!==null?0:(it=null,Oe=0,du(),pt)}function xR(){for(;ke!==null&&!Bf();)Zv(ke)}function Zv(n){var s=Sv(n.alternate,n,dr);n.memoizedProps=n.pendingProps,s===null?Yu(n):ke=s}function e0(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=yv(a,s,s.pendingProps,s.type,void 0,Oe);break;case 11:s=yv(a,s,s.pendingProps,s.type.render,s.ref,Oe);break;case 5:Ad(s);default:Rv(a,s),s=ke=Wy(s,dr),s=Sv(a,s,dr)}n.memoizedProps=n.pendingProps,s===null?Yu(n):ke=s}function co(n,s,a,l){ir=Xs=null,Ad(s),Wa=null,El=0;var f=s.return;try{if(yR(n,f,s,a,Oe)){pt=1,Pu(n,jn(a,n.current)),ke=null;return}}catch(d){if(f!==null)throw ke=f,d;pt=1,Pu(n,jn(a,n.current)),ke=null;return}s.flags&32768?(Ue||l===1?n=!0:so||(Oe&536870912)!==0?n=!1:(Yr=n=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),t0(s,n)):Yu(s)}function Yu(n){var s=n;do{if((s.flags&32768)!==0){t0(s,Yr);return}n=s.return;var a=TR(s.alternate,s,dr);if(a!==null){ke=a;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=n}while(s!==null);pt===0&&(pt=5)}function t0(n,s){do{var a=ER(n.alternate,n);if(a!==null){a.flags&=32767,ke=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){ke=n;return}ke=n=a}while(n!==null);pt=6,ke=null}function n0(n,s,a,l,f,d,v,b,k){n.cancelPendingCommit=null;do Qu();while(Lt!==0);if((Ge&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=Zf,Hf(n,a,d,v,b,k),n===it&&(ke=it=null,Oe=0),oo=s,Jr=n,pr=a,op=d,lp=f,$v=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,OR(wr,function(){return o0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=ie.p,ie.p=2,v=Ge,Ge|=4;try{bR(n,s,a)}finally{Ge=v,ie.p=f,$.T=l}}Lt=1,i0(),r0(),s0()}}function i0(){if(Lt===1){Lt=0;var n=Jr,s=oo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ie.p;ie.p=2;var f=Ge;Ge|=4;try{Lv(s,n);var d=Sp,v=Fy(n.containerInfo),b=d.focusedElem,k=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&qy(b.ownerDocument.documentElement,b)){if(k!==null&&Yf(b)){var q=k.start,Q=k.end;if(Q===void 0&&(Q=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(Q,b.value.length);else{var W=b.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var Y=H.getSelection(),he=b.textContent.length,_e=Math.min(k.start,he),nt=k.end===void 0?_e:Math.min(k.end,he);!Y.extend&&_e>nt&&(v=nt,nt=_e,_e=v);var U=By(b,_e),M=By(b,nt);if(U&&M&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var B=W.createRange();B.setStart(U.node,U.offset),Y.removeAllRanges(),_e>nt?(Y.addRange(B),Y.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),Y.addRange(B))}}}}for(W=[],Y=b;Y=Y.parentNode;)Y.nodeType===1&&W.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var J=W[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}oh=!!bp,Sp=bp=null}finally{Ge=f,ie.p=l,$.T=a}}n.current=s,Lt=2}}function r0(){if(Lt===2){Lt=0;var n=Jr,s=oo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ie.p;ie.p=2;var f=Ge;Ge|=4;try{Nv(n,s.alternate,s)}finally{Ge=f,ie.p=l,$.T=a}}Lt=3}}function s0(){if(Lt===4||Lt===3){Lt=0,jc();var n=Jr,s=oo,a=pr,l=$v;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Lt=5:(Lt=0,oo=Jr=null,a0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Xr=null),Ji(a),s=s.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Jn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=$.T,f=ie.p,ie.p=2,$.T=null;try{for(var d=n.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{$.T=s,ie.p=f}}(pr&3)!==0&&Qu(),Vi(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===cp?Ul++:(Ul=0,cp=n):Ul=0,jl(0)}}function a0(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,vl(s)))}function Qu(){return i0(),r0(),s0(),o0()}function o0(){if(Lt!==5)return!1;var n=Jr,s=op;op=0;var a=Ji(pr),l=$.T,f=ie.p;try{ie.p=32>a?32:a,$.T=null,a=lp,lp=null;var d=Jr,v=pr;if(Lt=0,oo=Jr=null,pr=0,(Ge&6)!==0)throw Error(r(331));var b=Ge;if(Ge|=4,qv(d.current),jv(d,d.current,v,a),Ge=b,jl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Jn,d)}catch{}return!0}finally{ie.p=f,$.T=l,a0(n,s)}}function l0(n,s,a){s=jn(a,s),s=Bd(n.stateNode,s,2),n=Hr(n,s,2),n!==null&&(Os(n,2),Vi(n))}function Je(n,s,a){if(n.tag===3)l0(n,n,a);else for(;s!==null;){if(s.tag===3){l0(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xr===null||!Xr.has(l))){n=jn(a,n),a=cv(2),l=Hr(s,a,2),l!==null&&(uv(a,l,s,n),Os(l,2),Vi(l));break}}s=s.return}}function fp(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new RR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(rp=!0,f.add(a),n=DR.bind(null,n,s,a),s.then(n,n))}function DR(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,it===n&&(Oe&a)===a&&(pt===4||pt===3&&(Oe&62914560)===Oe&&300>on()-Fu?(Ge&2)===0&&lo(n,0):sp|=a,ao===Oe&&(ao=0)),Vi(n)}function c0(n,s){s===0&&(s=$c()),n=Ks(n,s),n!==null&&(Os(n,s),Vi(n))}function kR(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),c0(n,a)}function NR(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),c0(n,a)}function OR(n,s){return Vt(n,s)}var Xu=null,uo=null,dp=!1,Ju=!1,pp=!1,Zr=0;function Vi(n){n!==uo&&n.next===null&&(uo===null?Xu=uo=n:uo=uo.next=n),Ju=!0,dp||(dp=!0,PR())}function jl(n,s){if(!pp&&Ju){pp=!0;do for(var a=!1,l=Xu;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-gt(42|n)+1)-1,d&=f&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,d0(l,d))}else d=Oe,d=_i(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(a=!0,d0(l,d));l=l.next}while(a);pp=!1}}function MR(){u0()}function u0(){Ju=dp=!1;var n=0;Zr!==0&&$R()&&(n=Zr);for(var s=on(),a=null,l=Xu;l!==null;){var f=l.next,d=h0(l,s);d===0?(l.next=null,a===null?Xu=f:a.next=f,f===null&&(uo=a)):(a=l,(n!==0||(d&3)!==0)&&(Ju=!0)),l=f}Lt!==0&&Lt!==5||jl(n),Zr!==0&&(Zr=0)}function h0(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-gt(d),b=1<<v,k=f[v];k===-1?((b&a)===0||(b&l)!==0)&&(f[v]=Ff(b,s)):k<=s&&(n.expiredLanes|=b),d&=~b}if(s=it,a=Oe,a=_i(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ir(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Wn(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Ir(l),Ji(a)){case 2:case 8:a=Qo;break;case 32:a=wr;break;case 268435456:a=zc;break;default:a=wr}return l=f0.bind(null,n),a=Vt(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Ir(l),n.callbackPriority=2,n.callbackNode=null,2}function f0(n,s){if(Lt!==0&&Lt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Qu()&&n.callbackNode!==a)return null;var l=Oe;return l=_i(n,n===it?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Kv(n,l,s),h0(n,on()),n.callbackNode!=null&&n.callbackNode===a?f0.bind(null,n):null)}function d0(n,s){if(Qu())return null;Kv(n,s,!0)}function PR(){KR(function(){(Ge&6)!==0?Vt(Yo,MR):u0()})}function mp(){if(Zr===0){var n=Qa;n===0&&(n=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Zr=n}return Zr}function p0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ma(""+n)}function m0(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function VR(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=p0((f[zt]||null).action),v=l.submitter;v&&(s=(s=v[zt]||null)?p0(s.formAction):v.getAttribute("formAction"),s!==null&&(d=s,v=null));var b=new xi("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zr!==0){var k=v?m0(f,v):new FormData(f);Pd(a,{pending:!0,data:k,method:f.method,action:d},null,k)}}else typeof d=="function"&&(b.preventDefault(),k=v?m0(f,v):new FormData(f),Pd(a,{pending:!0,data:k,method:f.method,action:d},d,k))},currentTarget:f}]})}}for(var gp=0;gp<Wf.length;gp++){var yp=Wf[gp],LR=yp.toLowerCase(),UR=yp[0].toUpperCase()+yp.slice(1);ai(LR,"on"+UR)}ai(Gy,"onAnimationEnd"),ai(Ky,"onAnimationIteration"),ai(Yy,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(eR,"onTransitionRun"),ai(tR,"onTransitionStart"),ai(nR,"onTransitionCancel"),ai(Qy,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function g0(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var v=l.length-1;0<=v;v--){var b=l[v],k=b.instance,q=b.currentTarget;if(b=b.listener,k!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=q;try{d(f)}catch(Q){fu(Q)}f.currentTarget=null,d=k}else for(v=0;v<l.length;v++){if(b=l[v],k=b.instance,q=b.currentTarget,b=b.listener,k!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=q;try{d(f)}catch(Q){fu(Q)}f.currentTarget=null,d=k}}}}function Ne(n,s){var a=s[xa];a===void 0&&(a=s[xa]=new Set);var l=n+"__bubble";a.has(l)||(y0(s,n,2,!1),a.add(l))}function _p(n,s,a){var l=0;s&&(l|=4),y0(a,n,l,s)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function vp(n){if(!n[Wu]){n[Wu]=!0,Wo.forEach(function(a){a!=="selectionchange"&&(jR.has(a)||_p(a,!1,n),_p(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Wu]||(s[Wu]=!0,_p("selectionchange",!1,s))}}function y0(n,s,a,l){switch(G0(s)){case 2:var f=dA;break;case 8:f=pA;break;default:f=Mp}a=f.bind(null,s,a,n),f=void 0,!js||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Tp(n,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===f)break;if(v===4)for(v=l.return;v!==null;){var k=v.tag;if((k===3||k===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;b!==null;){if(v=bi(b),v===null)return;if(k=v.tag,k===5||k===6||k===26||k===27){l=d=v;continue e}b=b.parentNode}}l=l.return}Mr(function(){var q=d,Q=Pn(a),W=[];e:{var H=Xy.get(n);if(H!==void 0){var Y=xi,he=n;switch(n){case"keypress":if(Bs(a)===0)break e;case"keydown":case"keyup":Y=cu;break;case"focusin":he="focus",Y=Fs;break;case"focusout":he="blur",Y=Fs;break;case"beforeblur":case"afterblur":Y=Fs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case Gy:case Ky:case Yy:Y=nu;break;case Qy:Y=C;break;case"scroll":case"scrollend":Y=ul;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=er;break;case"toggle":case"beforetoggle":Y=Ie}var _e=(s&4)!==0,nt=!_e&&(n==="scroll"||n==="scrollend"),U=_e?H!==null?H+"Capture":null:H;_e=[];for(var M=q,B;M!==null;){var J=M;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||U===null||(J=ni(M,U),J!=null&&_e.push(Bl(M,J,B))),nt)break;M=M.return}0<_e.length&&(H=new Y(H,he,null,a,Q),W.push({event:H,listeners:_e}))}}if((s&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",H&&a!==ol&&(he=a.relatedTarget||a.fromElement)&&(bi(he)||he[Ti]))break e;if((Y||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(he=a.relatedTarget||a.toElement,Y=q,he=he?bi(he):null,he!==null&&(nt=c(he),_e=he.tag,he!==nt||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(Y=null,he=q),Y!==he)){if(_e=hl,J="onMouseLeave",U="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(_e=er,J="onPointerLeave",U="onPointerEnter",M="pointer"),nt=Y==null?H:bn(Y),B=he==null?H:bn(he),H=new _e(J,M+"leave",Y,a,Q),H.target=nt,H.relatedTarget=B,J=null,bi(Q)===q&&(_e=new _e(U,M+"enter",he,a,Q),_e.target=B,_e.relatedTarget=nt,J=_e),nt=J,Y&&he)t:{for(_e=zR,U=Y,M=he,B=0,J=U;J;J=_e(J))B++;J=0;for(var ge=M;ge;ge=_e(ge))J++;for(;0<B-J;)U=_e(U),B--;for(;0<J-B;)M=_e(M),J--;for(;B--;){if(U===M||M!==null&&U===M.alternate){_e=U;break t}U=_e(U),M=_e(M)}_e=null}else _e=null;Y!==null&&_0(W,H,Y,_e,!1),he!==null&&nt!==null&&_0(W,nt,he,_e,!0)}}e:{if(H=q?bn(q):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var Fe=Py;else if(Oy(H))if(Vy)Fe=JC;else{Fe=QC;var pe=YC}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Oa(q.elementType)&&(Fe=Py):Fe=XC;if(Fe&&(Fe=Fe(n,q))){My(W,Fe,a,Q);break e}pe&&pe(n,H,q),n==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&rl(H,"number",H.value)}switch(pe=q?bn(q):window,n){case"focusin":(Oy(pe)||pe.contentEditable==="true")&&(Ba=pe,Qf=q,gl=null);break;case"focusout":gl=Qf=Ba=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,Hy(W,a,Q);break;case"selectionchange":if(ZC)break;case"keydown":case"keyup":Hy(W,a,Q)}var De;if($e)e:{switch(n){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else za?Hs(n,a)&&(Me="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Ni&&a.locale!=="ko"&&(za||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&za&&(De=cl()):(wi=Q,ll="value"in wi?wi.value:wi.textContent,za=!0)),pe=Zu(q,Me),0<pe.length&&(Me=new ki(Me,n,null,a,Q),W.push({event:Me,listeners:pe}),De?Me.data=De:(De=ja(a),De!==null&&(Me.data=De)))),(De=Ln?HC(n,a):$C(n,a))&&(Me=Zu(q,"onBeforeInput"),0<Me.length&&(pe=new ki("onBeforeInput","beforeinput",null,a,Q),W.push({event:pe,listeners:Me}),pe.data=De)),VR(W,n,q,a,Q)}g0(W,s)})}function Bl(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Zu(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ni(n,a),f!=null&&l.unshift(Bl(n,f,d)),f=ni(n,s),f!=null&&l.push(Bl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function zR(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function _0(n,s,a,l,f){for(var d=s._reactName,v=[];a!==null&&a!==l;){var b=a,k=b.alternate,q=b.stateNode;if(b=b.tag,k!==null&&k===l)break;b!==5&&b!==26&&b!==27||q===null||(k=q,f?(q=ni(a,d),q!=null&&v.unshift(Bl(a,q,k))):f||(q=ni(a,d),q!=null&&v.push(Bl(a,q,k)))),a=a.return}v.length!==0&&n.push({event:s,listeners:v})}var BR=/\r\n?/g,qR=/\u0000|\uFFFD/g;function v0(n){return(typeof n=="string"?n:""+n).replace(BR,`
`).replace(qR,"")}function T0(n,s){return s=v0(s),v0(n)===s}function tt(n,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||fn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&fn(n,""+l);break;case"className":Sn(n,"class",l);break;case"tabIndex":Sn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(n,a,l);break;case"style":al(n,l,d);break;case"data":if(s!=="object"){Sn(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ma(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&tt(n,s,"name",f.name,f,null),tt(n,s,"formEncType",f.formEncType,f,null),tt(n,s,"formMethod",f.formMethod,f,null),tt(n,s,"formTarget",f.formTarget,f,null)):(tt(n,s,"encType",f.encType,f,null),tt(n,s,"method",f.method,f,null),tt(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ma(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=ti);break;case"onScroll":l!=null&&Ne("scroll",n);break;case"onScrollEnd":l!=null&&Ne("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ma(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ne("beforetoggle",n),Ne("toggle",n),ka(n,"popover",l);break;case"xlinkActuate":Rt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ka(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zc.get(a)||a,ka(n,a,l))}}function Ep(n,s,a,l,f,d){switch(a){case"style":al(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?fn(n,l):(typeof l=="number"||typeof l=="bigint")&&fn(n,""+l);break;case"onScroll":l!=null&&Ne("scroll",n);break;case"onScrollEnd":l!=null&&Ne("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=n[zt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):ka(n,a,l)}}}function Qt(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",n),Ne("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(n,s,d,v,a,null)}}f&&tt(n,s,"srcSet",a.srcSet,a,null),l&&tt(n,s,"src",a.src,a,null);return;case"input":Ne("invalid",n);var b=d=v=f=null,k=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":v=Q;break;case"checked":k=Q;break;case"defaultChecked":q=Q;break;case"value":d=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:tt(n,s,l,Q,a,null)}}Xc(n,d,b,k,q,v,f,!1);return;case"select":Ne("invalid",n),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:tt(n,s,f,b,a,null)}s=d,a=v,n.multiple=!!l,s!=null?Dr(n,!!l,s,!1):a!=null&&Dr(n,!!l,a,!0);return;case"textarea":Ne("invalid",n),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:tt(n,s,v,b,a,null)}kr(n,l,f,d);return;case"option":for(k in a)a.hasOwnProperty(k)&&(l=a[k],l!=null)&&(k==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":tt(n,s,k,l,a,null));return;case"dialog":Ne("beforetoggle",n),Ne("toggle",n),Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":Ne("load",n);break;case"video":case"audio":for(l=0;l<zl.length;l++)Ne(zl[l],n);break;case"image":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"embed":case"source":case"link":Ne("error",n),Ne("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(n,s,q,l,a,null)}return;default:if(Oa(s)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Ep(n,s,Q,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&tt(n,s,b,l,a,null))}function FR(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,b=null,k=null,q=null,Q=null;for(Y in a){var W=a[Y];if(a.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":k=W;default:l.hasOwnProperty(Y)||tt(n,s,Y,null,l,W)}}for(var H in l){var Y=l[H];if(W=a[H],l.hasOwnProperty(H)&&(Y!=null||W!=null))switch(H){case"type":d=Y;break;case"name":f=Y;break;case"checked":q=Y;break;case"defaultChecked":Q=Y;break;case"value":v=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Y!==W&&tt(n,s,H,Y,l,W)}}Na(n,v,b,k,q,Q,d,f);return;case"select":Y=v=b=H=null;for(d in a)if(k=a[d],a.hasOwnProperty(d)&&k!=null)switch(d){case"value":break;case"multiple":Y=k;default:l.hasOwnProperty(d)||tt(n,s,d,null,l,k)}for(f in l)if(d=l[f],k=a[f],l.hasOwnProperty(f)&&(d!=null||k!=null))switch(f){case"value":H=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==k&&tt(n,s,f,d,l,k)}s=b,a=v,l=Y,H!=null?Dr(n,!!a,H,!1):!!l!=!!a&&(s!=null?Dr(n,!!a,s,!0):Dr(n,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:tt(n,s,b,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":H=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&tt(n,s,v,f,l,d)}Jc(n,H,Y);return;case"option":for(var he in a)H=a[he],a.hasOwnProperty(he)&&H!=null&&!l.hasOwnProperty(he)&&(he==="selected"?n.selected=!1:tt(n,s,he,null,l,H));for(k in l)H=l[k],Y=a[k],l.hasOwnProperty(k)&&H!==Y&&(H!=null||Y!=null)&&(k==="selected"?n.selected=H&&typeof H!="function"&&typeof H!="symbol":tt(n,s,k,H,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&tt(n,s,_e,null,l,H);for(q in l)if(H=l[q],Y=a[q],l.hasOwnProperty(q)&&H!==Y&&(H!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:tt(n,s,q,H,l,Y)}return;default:if(Oa(s)){for(var nt in a)H=a[nt],a.hasOwnProperty(nt)&&H!==void 0&&!l.hasOwnProperty(nt)&&Ep(n,s,nt,void 0,l,H);for(Q in l)H=l[Q],Y=a[Q],!l.hasOwnProperty(Q)||H===Y||H===void 0&&Y===void 0||Ep(n,s,Q,H,l,Y);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&tt(n,s,U,null,l,H);for(W in l)H=l[W],Y=a[W],!l.hasOwnProperty(W)||H===Y||H==null&&Y==null||tt(n,s,W,H,l,Y)}function E0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HR(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,b=f.duration;if(d&&b&&E0(v)){for(v=0,b=f.responseEnd,l+=1;l<a.length;l++){var k=a[l],q=k.startTime;if(q>b)break;var Q=k.transferSize,W=k.initiatorType;Q&&E0(W)&&(k=k.responseEnd,v+=Q*(k<b?1:(b-q)/(k-q)))}if(--l,s+=8*(d+v)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var bp=null,Sp=null;function eh(n){return n.nodeType===9?n:n.ownerDocument}function b0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S0(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Cp(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rp=null;function $R(){var n=window.event;return n&&n.type==="popstate"?n===Rp?!1:(Rp=n,!0):(Rp=null,!1)}var C0=typeof setTimeout=="function"?setTimeout:void 0,GR=typeof clearTimeout=="function"?clearTimeout:void 0,R0=typeof Promise=="function"?Promise:void 0,KR=typeof queueMicrotask=="function"?queueMicrotask:typeof R0<"u"?function(n){return R0.resolve(null).then(n).catch(YR)}:C0;function YR(n){setTimeout(function(){throw n})}function es(n){return n==="head"}function A0(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),mo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ql(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,ql(a);for(var d=a.firstChild;d;){var v=d.nextSibling,b=d.nodeName;d[Ei]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&ql(n.ownerDocument.body);a=f}while(a);mo(s)}function I0(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Ap(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ap(a),Da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function QR(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ei])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Hn(n.nextSibling),n===null)break}return null}function XR(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Hn(n.nextSibling),n===null))return null;return n}function w0(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Hn(n.nextSibling),n===null))return null;return n}function Ip(n){return n.data==="$?"||n.data==="$~"}function wp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function JR(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Hn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var xp=null;function x0(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return Hn(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function D0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function k0(n,s,a){switch(s=eh(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function ql(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Da(n)}var $n=new Map,N0=new Set;function th(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var mr=ie.d;ie.d={f:WR,r:ZR,D:eA,C:tA,L:nA,m:iA,X:sA,S:rA,M:aA};function WR(){var n=mr.f(),s=Gu();return n||s}function ZR(n){var s=Mn(n);s!==null&&s.tag===5&&s.type==="form"?Q_(s):mr.r(n)}var ho=typeof document>"u"?null:document;function O0(n,s,a){var l=ho;if(l&&typeof s=="string"&&s){var f=hn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),N0.has(f)||(N0.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Qt(s,"link",n),Ct(s),l.head.appendChild(s)))}}function eA(n){mr.D(n),O0("dns-prefetch",n,null)}function tA(n,s){mr.C(n,s),O0("preconnect",n,s)}function nA(n,s,a){mr.L(n,s,a);var l=ho;if(l&&n&&s){var f='link[rel="preload"][as="'+hn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+hn(a.imageSizes)+'"]')):f+='[href="'+hn(n)+'"]';var d=f;switch(s){case"style":d=fo(n);break;case"script":d=po(n)}$n.has(d)||(n=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),$n.set(d,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(Fl(d))||s==="script"&&l.querySelector(Hl(d))||(s=l.createElement("link"),Qt(s,"link",n),Ct(s),l.head.appendChild(s)))}}function iA(n,s){mr.m(n,s);var a=ho;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=po(n)}if(!$n.has(d)&&(n=T({rel:"modulepreload",href:n},s),$n.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hl(d)))return}l=a.createElement("link"),Qt(l,"link",n),Ct(l),a.head.appendChild(l)}}}function rA(n,s,a){mr.S(n,s,a);var l=ho;if(l&&n){var f=Si(l).hoistableStyles,d=fo(n);s=s||"default";var v=f.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Fl(d)))b.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":s},a),(a=$n.get(d))&&Dp(n,a);var k=v=l.createElement("link");Ct(k),Qt(k,"link",n),k._p=new Promise(function(q,Q){k.onload=q,k.onerror=Q}),k.addEventListener("load",function(){b.loading|=1}),k.addEventListener("error",function(){b.loading|=2}),b.loading|=4,nh(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:b},f.set(d,v)}}}function sA(n,s){mr.X(n,s);var a=ho;if(a&&n){var l=Si(a).hoistableScripts,f=po(n),d=l.get(f);d||(d=a.querySelector(Hl(f)),d||(n=T({src:n,async:!0},s),(s=$n.get(f))&&kp(n,s),d=a.createElement("script"),Ct(d),Qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function aA(n,s){mr.M(n,s);var a=ho;if(a&&n){var l=Si(a).hoistableScripts,f=po(n),d=l.get(f);d||(d=a.querySelector(Hl(f)),d||(n=T({src:n,async:!0,type:"module"},s),(s=$n.get(f))&&kp(n,s),d=a.createElement("script"),Ct(d),Qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function M0(n,s,a,l){var f=(f=xe.current)?th(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=fo(a.href),a=Si(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=fo(a.href);var d=Si(f).hoistableStyles,v=d.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=f.querySelector(Fl(n)))&&!d._p&&(v.instance=d,v.state.loading=5),$n.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(n,a),d||oA(f,n,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=po(a),a=Si(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function fo(n){return'href="'+hn(n)+'"'}function Fl(n){return'link[rel="stylesheet"]['+n+"]"}function P0(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function oA(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Qt(s,"link",a),Ct(s),n.head.appendChild(s))}function po(n){return'[src="'+hn(n)+'"]'}function Hl(n){return"script[async]"+n}function V0(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+hn(a.href)+'"]');if(l)return s.instance=l,Ct(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ct(l),Qt(l,"style",f),nh(l,a.precedence,n),s.instance=l;case"stylesheet":f=fo(a.href);var d=n.querySelector(Fl(f));if(d)return s.state.loading|=4,s.instance=d,Ct(d),d;l=P0(a),(f=$n.get(f))&&Dp(l,f),d=(n.ownerDocument||n).createElement("link"),Ct(d);var v=d;return v._p=new Promise(function(b,k){v.onload=b,v.onerror=k}),Qt(d,"link",l),s.state.loading|=4,nh(d,a.precedence,n),s.instance=d;case"script":return d=po(a.src),(f=n.querySelector(Hl(d)))?(s.instance=f,Ct(f),f):(l=a,(f=$n.get(d))&&(l=T({},a),kp(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ct(f),Qt(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,nh(l,a.precedence,n));return s.instance}function nh(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===s)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Dp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function kp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var ih=null;function L0(n,s,a){if(ih===null){var l=new Map,f=ih=new Map;f.set(a,l)}else f=ih,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[Ei]||d[St]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(s)||"";v=n+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function U0(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function lA(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function j0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function cA(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=fo(l.href),d=s.querySelector(Fl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=rh.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=d,Ct(d);return}d=s.ownerDocument||s,l=P0(l),(f=$n.get(f))&&Dp(l,f),d=d.createElement("link"),Ct(d);var v=d;v._p=new Promise(function(b,k){v.onload=b,v.onerror=k}),Qt(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=rh.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Np=0;function uA(n,s){return n.stylesheets&&n.count===0&&ah(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&ah(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+s);0<n.imgBytes&&Np===0&&(Np=62500*HR());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&ah(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Np?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function rh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ah(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var sh=null;function ah(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,sh=new Map,s.forEach(hA,n),sh=null,rh.call(n))}function hA(n,s){if(!(s.state.loading&4)){var a=sh.get(n);if(a)var l=a.get(null);else{a=new Map,sh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=rh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var $l={$$typeof:re,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function fA(n,s,a,l,f,d,v,b,k){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function z0(n,s,a,l,f,d,v,b,k,q,Q,W){return n=new fA(n,s,a,v,k,q,Q,W,b),s=1,d===!0&&(s|=24),d=Rn(3,null,null,s),n.current=d,d.stateNode=n,s=hd(),s.refCount++,n.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},md(d),n}function B0(n){return n?(n=Ha,n):Ha}function q0(n,s,a,l,f,d){f=B0(f),l.context===null?l.context=f:l.pendingContext=f,l=Fr(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Hr(n,l,s),a!==null&&(yn(a,n,s),Sl(a,n,s))}function F0(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Op(n,s){F0(n,s),(n=n.alternate)&&F0(n,s)}function H0(n){if(n.tag===13||n.tag===31){var s=Ks(n,67108864);s!==null&&yn(s,n,67108864),Op(n,67108864)}}function $0(n){if(n.tag===13||n.tag===31){var s=Dn();s=Ps(s);var a=Ks(n,s);a!==null&&yn(a,n,s),Op(n,s)}}var oh=!0;function dA(n,s,a,l){var f=$.T;$.T=null;var d=ie.p;try{ie.p=2,Mp(n,s,a,l)}finally{ie.p=d,$.T=f}}function pA(n,s,a,l){var f=$.T;$.T=null;var d=ie.p;try{ie.p=8,Mp(n,s,a,l)}finally{ie.p=d,$.T=f}}function Mp(n,s,a,l){if(oh){var f=Pp(l);if(f===null)Tp(n,s,l,lh,a),K0(n,l);else if(gA(f,n,s,a,l))l.stopPropagation();else if(K0(n,l),s&4&&-1<mA.indexOf(n)){for(;f!==null;){var d=Mn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=yi(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var k=1<<31-gt(v);b.entanglements[1]|=k,v&=~k}Vi(d),(Ge&6)===0&&(Hu=on()+500,jl(0))}}break;case 31:case 13:b=Ks(d,2),b!==null&&yn(b,d,2),Gu(),Op(d,2)}if(d=Pp(l),d===null&&Tp(n,s,l,lh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Tp(n,s,l,null,a)}}function Pp(n){return n=Pn(n),Vp(n)}var lh=null;function Vp(n){if(lh=null,n=bi(n),n!==null){var s=c(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=u(s),n!==null)return n;n=null}else if(a===31){if(n=p(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return lh=n,null}function G0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ks()){case Yo:return 2;case Qo:return 8;case wr:case qf:return 32;case zc:return 268435456;default:return 32}default:return 32}}var Lp=!1,ts=null,ns=null,is=null,Gl=new Map,Kl=new Map,rs=[],mA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K0(n,s){switch(n){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Gl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(s.pointerId)}}function Yl(n,s,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Mn(s),s!==null&&H0(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function gA(n,s,a,l,f){switch(s){case"focusin":return ts=Yl(ts,n,s,a,l,f),!0;case"dragenter":return ns=Yl(ns,n,s,a,l,f),!0;case"mouseover":return is=Yl(is,n,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return Gl.set(d,Yl(Gl.get(d)||null,n,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Kl.set(d,Yl(Kl.get(d)||null,n,s,a,l,f)),!0}return!1}function Y0(n){var s=bi(n.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){n.blockedOn=s,Zn(n.priority,function(){$0(a)});return}}else if(s===31){if(s=p(a),s!==null){n.blockedOn=s,Zn(n.priority,function(){$0(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ch(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Pp(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);ol=l,a.target.dispatchEvent(l),ol=null}else return s=Mn(a),s!==null&&H0(s),n.blockedOn=a,!1;s.shift()}return!0}function Q0(n,s,a){ch(n)&&a.delete(s)}function yA(){Lp=!1,ts!==null&&ch(ts)&&(ts=null),ns!==null&&ch(ns)&&(ns=null),is!==null&&ch(is)&&(is=null),Gl.forEach(Q0),Kl.forEach(Q0)}function uh(n,s){n.blockedOn===s&&(n.blockedOn=null,Lp||(Lp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,yA)))}var hh=null;function X0(n){hh!==n&&(hh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){hh===n&&(hh=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(Vp(l||a)===null)continue;break}var d=Mn(a);d!==null&&(n.splice(s,3),s-=3,Pd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function mo(n){function s(k){return uh(k,n)}ts!==null&&uh(ts,n),ns!==null&&uh(ns,n),is!==null&&uh(is,n),Gl.forEach(s),Kl.forEach(s);for(var a=0;a<rs.length;a++){var l=rs[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<rs.length&&(a=rs[0],a.blockedOn===null);)Y0(a),a.blockedOn===null&&rs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[zt]||null;if(typeof d=="function")v||X0(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[zt]||null)b=v.formAction;else if(Vp(f)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),X0(a)}}}function J0(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Up(n){this._internalRoot=n}fh.prototype.render=Up.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Dn();q0(a,l,n,s,null,null)},fh.prototype.unmount=Up.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;q0(n.current,2,null,n,null,null),Gu(),s[Ti]=null}};function fh(n){this._internalRoot=n}fh.prototype.unstable_scheduleHydration=function(n){if(n){var s=Gc();n={blockedOn:null,target:n,priority:s};for(var a=0;a<rs.length&&s!==0&&s<rs[a].priority;a++);rs.splice(a,0,n),a===0&&Y0(n)}};var W0=e.version;if(W0!=="19.2.4")throw Error(r(527,W0,"19.2.4"));ie.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(s),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var _A={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{Jn=dh.inject(_A),Ht=dh}catch{}}return Xl.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=sv,d=av,v=ov;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=z0(n,1,!1,null,null,a,l,null,f,d,v,J0),n[Ti]=s.current,vp(n),new Up(s)},Xl.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",d=sv,v=av,b=ov,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(k=a.formState)),s=z0(n,1,!0,s,a??null,l,f,k,d,v,b,J0),s.context=B0(null),a=s.current,l=Dn(),l=Ps(l),f=Fr(l),f.callback=null,Hr(a,f,l),a=l,s.current.lanes=a,Os(s,a),Vi(s),n[Ti]=s.current,vp(n),new fh(s)},Xl.version="19.2.4",Xl}var lT;function DA(){if(lT)return Bp.exports;lT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Bp.exports=xA(),Bp.exports}var kA=DA();const NA=Hm(kA);var cT="popstate";function OA(i={}){function e(r,o){let{pathname:c,search:u,hash:p}=r.location;return hm("",{pathname:c,search:u,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:fc(o)}return PA(e,t,null,i)}function ht(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Hi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MA(){return Math.random().toString(36).substring(2,10)}function uT(i,e){return{usr:i.state,key:i.key,idx:e}}function hm(i,e,t=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Lo(e):e,state:t,key:e&&e.key||r||MA()}}function fc({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Lo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function PA(i,e,t,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,u=o.history,p="POP",m=null,g=_();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function _(){return(u.state||{idx:null}).idx}function T(){p="POP";let G=_(),X=G==null?null:G-g;g=G,m&&m({action:p,location:F.location,delta:X})}function S(G,X){p="PUSH";let ne=hm(F.location,G,X);g=_()+1;let re=uT(ne,g),se=F.createHref(ne);try{u.pushState(re,"",se)}catch(Ee){if(Ee instanceof DOMException&&Ee.name==="DataCloneError")throw Ee;o.location.assign(se)}c&&m&&m({action:p,location:F.location,delta:1})}function x(G,X){p="REPLACE";let ne=hm(F.location,G,X);g=_();let re=uT(ne,g),se=F.createHref(ne);u.replaceState(re,"",se),c&&m&&m({action:p,location:F.location,delta:0})}function j(G){return VA(G)}let F={get action(){return p},get location(){return i(o,u)},listen(G){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(cT,T),m=G,()=>{o.removeEventListener(cT,T),m=null}},createHref(G){return e(o,G)},createURL:j,encodeLocation(G){let X=j(G);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:S,replace:x,go(G){return u.go(G)}};return F}function VA(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ht(t,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:fc(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function ob(i,e,t="/"){return LA(i,e,t,!1)}function LA(i,e,t,r){let o=typeof e=="string"?Lo(e):e,c=Er(o.pathname||"/",t);if(c==null)return null;let u=lb(i);UA(u);let p=null;for(let m=0;p==null&&m<u.length;++m){let g=QA(c);p=KA(u[m],g,r)}return p}function lb(i,e=[],t=[],r="",o=!1){let c=(u,p,m=o,g)=>{let _={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&m)return;ht(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let T=vr([r,_.relativePath]),S=t.concat(_);u.children&&u.children.length>0&&(ht(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),lb(u.children,e,S,T,m)),!(u.path==null&&!u.index)&&e.push({path:T,score:$A(T,u.index),routesMeta:S})};return i.forEach((u,p)=>{if(u.path===""||!u.path?.includes("?"))c(u,p);else for(let m of cb(u.path))c(u,p,!0,m)}),e}function cb(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let u=cb(r.join("/")),p=[];return p.push(...u.map(m=>m===""?c:[c,m].join("/"))),o&&p.push(...u),p.map(m=>i.startsWith("/")&&m===""?"/":m)}function UA(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:GA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var jA=/^:[\w-]+$/,zA=3,BA=2,qA=1,FA=10,HA=-2,hT=i=>i==="*";function $A(i,e){let t=i.split("/"),r=t.length;return t.some(hT)&&(r+=HA),e&&(r+=BA),t.filter(o=>!hT(o)).reduce((o,c)=>o+(jA.test(c)?zA:c===""?qA:FA),r)}function GA(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function KA(i,e,t=!1){let{routesMeta:r}=i,o={},c="/",u=[];for(let p=0;p<r.length;++p){let m=r[p],g=p===r.length-1,_=c==="/"?e:e.slice(c.length)||"/",T=zh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),S=m.route;if(!T&&g&&t&&!r[r.length-1].route.index&&(T=zh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),u.push({params:o,pathname:vr([c,T.pathname]),pathnameBase:ZA(vr([c,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(c=vr([c,T.pathnameBase]))}return u}function zh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=YA(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((g,{paramName:_,isOptional:T},S)=>{if(_==="*"){let j=p[S]||"";u=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const x=p[S];return T&&!x?g[_]=void 0:g[_]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:u,pattern:i}}function YA(i,e=!1,t=!0){Hi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,p,m)=>(r.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function QA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Er(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}var XA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function JA(i,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof i=="string"?Lo(i):i,c;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?c=fT(t.substring(1),"/"):c=fT(t,e)):c=e,{pathname:c,search:e2(r),hash:t2(o)}}function fT(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function $p(i,e,t,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WA(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ub(i){let e=WA(i);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function hb(i,e,t,r=!1){let o;typeof i=="string"?o=Lo(i):(o={...i},ht(!o.pathname||!o.pathname.includes("?"),$p("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),$p("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),$p("#","search","hash",o)));let c=i===""||o.pathname==="",u=c?"/":o.pathname,p;if(u==null)p=t;else{let T=e.length-1;if(!r&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}p=T>=0?e[T]:"/"}let m=JA(o,p),g=u&&u!=="/"&&u.endsWith("/"),_=(c||u===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var vr=i=>i.join("/").replace(/\/\/+/g,"/"),ZA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),e2=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,t2=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,n2=class{constructor(i,e,t,r=!1){this.status=i,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function i2(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function r2(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var fb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function db(i,e){let t=i;if(typeof t!="string"||!XA.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,o=!1;if(fb)try{let c=new URL(window.location.href),u=t.startsWith("//")?new URL(c.protocol+t):new URL(t),p=Er(u.pathname,e);u.origin===c.origin&&p!=null?t=p+u.search+u.hash:o=!0}catch{Hi(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pb=["POST","PUT","PATCH","DELETE"];new Set(pb);var s2=["GET",...pb];new Set(s2);var Uo=L.createContext(null);Uo.displayName="DataRouter";var df=L.createContext(null);df.displayName="DataRouterState";var a2=L.createContext(!1),mb=L.createContext({isTransitioning:!1});mb.displayName="ViewTransition";var o2=L.createContext(new Map);o2.displayName="Fetchers";var l2=L.createContext(null);l2.displayName="Await";var Xn=L.createContext(null);Xn.displayName="Navigation";var bc=L.createContext(null);bc.displayName="Location";var Yi=L.createContext({outlet:null,matches:[],isDataRoute:!1});Yi.displayName="Route";var Gm=L.createContext(null);Gm.displayName="RouteError";var gb="REACT_ROUTER_ERROR",c2="REDIRECT",u2="ROUTE_ERROR_RESPONSE";function h2(i){if(i.startsWith(`${gb}:${c2}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function f2(i){if(i.startsWith(`${gb}:${u2}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new n2(e.status,e.statusText,e.data)}catch{}}function d2(i,{relative:e}={}){ht(Sc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=L.useContext(Xn),{hash:o,pathname:c,search:u}=Cc(i,{relative:e}),p=c;return t!=="/"&&(p=c==="/"?t:vr([t,c])),r.createHref({pathname:p,search:u,hash:o})}function Sc(){return L.useContext(bc)!=null}function ya(){return ht(Sc(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(bc).location}var yb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _b(i){L.useContext(Xn).static||L.useLayoutEffect(i)}function pi(){let{isDataRoute:i}=L.useContext(Yi);return i?I2():p2()}function p2(){ht(Sc(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(Uo),{basename:e,navigator:t}=L.useContext(Xn),{matches:r}=L.useContext(Yi),{pathname:o}=ya(),c=JSON.stringify(ub(r)),u=L.useRef(!1);return _b(()=>{u.current=!0}),L.useCallback((m,g={})=>{if(Hi(u.current,yb),!u.current)return;if(typeof m=="number"){t.go(m);return}let _=hb(m,JSON.parse(c),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:vr([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,c,o,i])}L.createContext(null);function m2(){let{matches:i}=L.useContext(Yi),e=i[i.length-1];return e?e.params:{}}function Cc(i,{relative:e}={}){let{matches:t}=L.useContext(Yi),{pathname:r}=ya(),o=JSON.stringify(ub(t));return L.useMemo(()=>hb(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function g2(i,e){return vb(i,e)}function vb(i,e,t,r,o){ht(Sc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=L.useContext(Xn),{matches:u}=L.useContext(Yi),p=u[u.length-1],m=p?p.params:{},g=p?p.pathname:"/",_=p?p.pathnameBase:"/",T=p&&p.route;{let ne=T&&T.path||"";Eb(g,!T||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let S=ya(),x;if(e){let ne=typeof e=="string"?Lo(e):e;ht(_==="/"||ne.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),x=ne}else x=S;let j=x.pathname||"/",F=j;if(_!=="/"){let ne=_.replace(/^\//,"").split("/");F="/"+j.replace(/^\//,"").split("/").slice(ne.length).join("/")}let G=ob(i,{pathname:F});Hi(T||G!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Hi(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=E2(G&&G.map(ne=>Object.assign({},ne,{params:Object.assign({},m,ne.params),pathname:vr([_,c.encodeLocation?c.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?_:vr([_,c.encodeLocation?c.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),u,t,r,o);return e&&X?L.createElement(bc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},X):X}function y2(){let i=A2(),e=i2(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:c},"ErrorBoundary")," or"," ",L.createElement("code",{style:c},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:o},t):null,u)}var _2=L.createElement(y2,null),Tb=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const t=f2(i.digest);t&&(i=t)}let e=i!==void 0?L.createElement(Yi.Provider,{value:this.props.routeContext},L.createElement(Gm.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?L.createElement(v2,{error:i},e):e}};Tb.contextType=a2;var Gp=new WeakMap;function v2({children:i,error:e}){let{basename:t}=L.useContext(Xn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=h2(e.digest);if(r){let o=Gp.get(e);if(o)throw o;let c=db(r.location,t);if(fb&&!Gp.get(e))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw Gp.set(e,u),u}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return i}function T2({routeContext:i,match:e,children:t}){let r=L.useContext(Uo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Yi.Provider,{value:i},t)}function E2(i,e=[],t=null,r=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let c=i,u=t?.errors;if(u!=null){let _=c.findIndex(T=>T.route.id&&u?.[T.route.id]!==void 0);ht(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,_+1))}let p=!1,m=-1;if(t)for(let _=0;_<c.length;_++){let T=c[_];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(m=_),T.route.id){let{loaderData:S,errors:x}=t,j=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!x||x[T.route.id]===void 0);if(T.route.lazy||j){p=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let g=t&&r?(_,T)=>{r(_,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:r2(t.matches),errorInfo:T})}:void 0;return c.reduceRight((_,T,S)=>{let x,j=!1,F=null,G=null;t&&(x=u&&T.route.id?u[T.route.id]:void 0,F=T.route.errorElement||_2,p&&(m<0&&S===0?(Eb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,G=null):m===S&&(j=!0,G=T.route.hydrateFallbackElement||null)));let X=e.concat(c.slice(0,S+1)),ne=()=>{let re;return x?re=F:j?re=G:T.route.Component?re=L.createElement(T.route.Component,null):T.route.element?re=T.route.element:re=_,L.createElement(T2,{match:T,routeContext:{outlet:_,matches:X,isDataRoute:t!=null},children:re})};return t&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?L.createElement(Tb,{location:t.location,revalidation:t.revalidation,component:F,error:x,children:ne(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:g}):ne()},null)}function Km(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b2(i){let e=L.useContext(Uo);return ht(e,Km(i)),e}function S2(i){let e=L.useContext(df);return ht(e,Km(i)),e}function C2(i){let e=L.useContext(Yi);return ht(e,Km(i)),e}function Ym(i){let e=C2(i),t=e.matches[e.matches.length-1];return ht(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function R2(){return Ym("useRouteId")}function A2(){let i=L.useContext(Gm),e=S2("useRouteError"),t=Ym("useRouteError");return i!==void 0?i:e.errors?.[t]}function I2(){let{router:i}=b2("useNavigate"),e=Ym("useNavigate"),t=L.useRef(!1);return _b(()=>{t.current=!0}),L.useCallback(async(o,c={})=>{Hi(t.current,yb),t.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var dT={};function Eb(i,e,t){!e&&!dT[i]&&(dT[i]=!0,Hi(!1,t))}L.memo(w2);function w2({routes:i,future:e,state:t,onError:r}){return vb(i,void 0,t,r,e)}function kn(i){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function x2({basename:i="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:c=!1,unstable_useTransitions:u}){ht(!Sc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=i.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:p,navigator:o,static:c,unstable_useTransitions:u,future:{}}),[p,o,c,u]);typeof t=="string"&&(t=Lo(t));let{pathname:g="/",search:_="",hash:T="",state:S=null,key:x="default"}=t,j=L.useMemo(()=>{let F=Er(g,p);return F==null?null:{location:{pathname:F,search:_,hash:T,state:S,key:x},navigationType:r}},[p,g,_,T,S,x,r]);return Hi(j!=null,`<Router basename="${p}"> is not able to match the URL "${g}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:L.createElement(Xn.Provider,{value:m},L.createElement(bc.Provider,{children:e,value:j}))}function D2({children:i,location:e}){return g2(fm(i),e)}function fm(i,e=[]){let t=[];return L.Children.forEach(i,(r,o)=>{if(!L.isValidElement(r))return;let c=[...e,o];if(r.type===L.Fragment){t.push.apply(t,fm(r.props.children,c));return}ht(r.type===kn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=fm(r.props.children,c)),t.push(u)}),t}var bh="get",Sh="application/x-www-form-urlencoded";function pf(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function k2(i){return pf(i)&&i.tagName.toLowerCase()==="button"}function N2(i){return pf(i)&&i.tagName.toLowerCase()==="form"}function O2(i){return pf(i)&&i.tagName.toLowerCase()==="input"}function M2(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function P2(i,e){return i.button===0&&(!e||e==="_self")&&!M2(i)}var ph=null;function V2(){if(ph===null)try{new FormData(document.createElement("form"),0),ph=!1}catch{ph=!0}return ph}var L2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kp(i){return i!=null&&!L2.has(i)?(Hi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sh}"`),null):i}function U2(i,e){let t,r,o,c,u;if(N2(i)){let p=i.getAttribute("action");r=p?Er(p,e):null,t=i.getAttribute("method")||bh,o=Kp(i.getAttribute("enctype"))||Sh,c=new FormData(i)}else if(k2(i)||O2(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||p.getAttribute("action");if(r=m?Er(m,e):null,t=i.getAttribute("formmethod")||p.getAttribute("method")||bh,o=Kp(i.getAttribute("formenctype"))||Kp(p.getAttribute("enctype"))||Sh,c=new FormData(p,i),!V2()){let{name:g,type:_,value:T}=i;if(_==="image"){let S=g?`${g}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else g&&c.append(g,T)}}else{if(pf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=bh,r=null,o=Sh,u=i}return c&&o==="text/plain"&&(u=c,c=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function j2(i,e,t,r){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&Er(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function z2(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function B2(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function q2(i,e,t){let r=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await z2(c,t);return u.links?u.links():[]}return[]}));return G2(r.flat(1).filter(B2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function pT(i,e,t,r,o,c){let u=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,p=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return c==="assets"?e.filter((m,g)=>u(m,g)||p(m,g)):c==="data"?e.filter((m,g)=>{let _=r.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(u(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function F2(i,e,{includeHydrateFallback:t}={}){return H2(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function H2(i){return[...new Set(i)]}function $2(i){let e={},t=Object.keys(i).sort();for(let r of t)e[r]=i[r];return e}function G2(i,e){let t=new Set;return new Set(e),i.reduce((r,o)=>{let c=JSON.stringify($2(o));return t.has(c)||(t.add(c),r.push({key:c,link:o})),r},[])}function bb(){let i=L.useContext(Uo);return Qm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function K2(){let i=L.useContext(df);return Qm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Xm=L.createContext(void 0);Xm.displayName="FrameworkContext";function Sb(){let i=L.useContext(Xm);return Qm(i,"You must render this element inside a <HydratedRouter> element"),i}function Y2(i,e){let t=L.useContext(Xm),[r,o]=L.useState(!1),[c,u]=L.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,S=L.useRef(null);L.useEffect(()=>{if(i==="render"&&u(!0),i==="viewport"){let F=X=>{X.forEach(ne=>{u(ne.isIntersecting)})},G=new IntersectionObserver(F,{threshold:.5});return S.current&&G.observe(S.current),()=>{G.disconnect()}}},[i]),L.useEffect(()=>{if(r){let F=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(F)}}},[r]);let x=()=>{o(!0)},j=()=>{o(!1),u(!1)};return t?i!=="intent"?[c,S,{}]:[c,S,{onFocus:Jl(p,x),onBlur:Jl(m,j),onMouseEnter:Jl(g,x),onMouseLeave:Jl(_,j),onTouchStart:Jl(T,x)}]:[!1,S,{}]}function Jl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function Q2({page:i,...e}){let{router:t}=bb(),r=L.useMemo(()=>ob(t.routes,i,t.basename),[t.routes,i,t.basename]);return r?L.createElement(J2,{page:i,matches:r,...e}):null}function X2(i){let{manifest:e,routeModules:t}=Sb(),[r,o]=L.useState([]);return L.useEffect(()=>{let c=!1;return q2(i,e,t).then(u=>{c||o(u)}),()=>{c=!0}},[i,e,t]),r}function J2({page:i,matches:e,...t}){let r=ya(),{future:o,manifest:c,routeModules:u}=Sb(),{basename:p}=bb(),{loaderData:m,matches:g}=K2(),_=L.useMemo(()=>pT(i,e,g,c,r,"data"),[i,e,g,c,r]),T=L.useMemo(()=>pT(i,e,g,c,r,"assets"),[i,e,g,c,r]),S=L.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let F=new Set,G=!1;if(e.forEach(ne=>{let re=c.routes[ne.route.id];!re||!re.hasLoader||(!_.some(se=>se.route.id===ne.route.id)&&ne.route.id in m&&u[ne.route.id]?.shouldRevalidate||re.hasClientLoader?G=!0:F.add(ne.route.id))}),F.size===0)return[];let X=j2(i,p,o.unstable_trailingSlashAwareDataRequests,"data");return G&&F.size>0&&X.searchParams.set("_routes",e.filter(ne=>F.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[X.pathname+X.search]},[p,o.unstable_trailingSlashAwareDataRequests,m,r,c,_,e,i,u]),x=L.useMemo(()=>F2(T,c),[T,c]),j=X2(T);return L.createElement(L.Fragment,null,S.map(F=>L.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...t})),x.map(F=>L.createElement("link",{key:F,rel:"modulepreload",href:F,...t})),j.map(({key:F,link:G})=>L.createElement("link",{key:F,nonce:t.nonce,...G,crossOrigin:G.crossOrigin??t.crossOrigin})))}function W2(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Z2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z2&&(window.__reactRouterVersion="7.13.0")}catch{}function eI({basename:i,children:e,unstable_useTransitions:t,window:r}){let o=L.useRef();o.current==null&&(o.current=OA({window:r,v5Compat:!0}));let c=o.current,[u,p]=L.useState({action:c.action,location:c.location}),m=L.useCallback(g=>{t===!1?p(g):L.startTransition(()=>p(g))},[t]);return L.useLayoutEffect(()=>c.listen(m),[c,m]),L.createElement(x2,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:c,unstable_useTransitions:t})}var Cb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rb=L.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:c,replace:u,state:p,target:m,to:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:S,...x},j){let{basename:F,unstable_useTransitions:G}=L.useContext(Xn),X=typeof g=="string"&&Cb.test(g),ne=db(g,F);g=ne.to;let re=d2(g,{relative:o}),[se,Ee,Te]=Y2(r,x),D=rI(g,{replace:u,state:p,target:m,preventScrollReset:_,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:G});function I(O){e&&e(O),O.defaultPrevented||D(O)}let A=L.createElement("a",{...x,...Te,href:ne.absoluteURL||re,onClick:ne.isExternal||c?e:I,ref:W2(j,Ee),target:m,"data-discover":!X&&t==="render"?"true":void 0});return se&&!X?L.createElement(L.Fragment,null,A,L.createElement(Q2,{page:re})):A});Rb.displayName="Link";var tI=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:c,to:u,viewTransition:p,children:m,...g},_){let T=Cc(u,{relative:g.relative}),S=ya(),x=L.useContext(df),{navigator:j,basename:F}=L.useContext(Xn),G=x!=null&&cI(T)&&p===!0,X=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,ne=S.pathname,re=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(ne=ne.toLowerCase(),re=re?re.toLowerCase():null,X=X.toLowerCase()),re&&F&&(re=Er(re,F)||re);const se=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let Ee=ne===X||!o&&ne.startsWith(X)&&ne.charAt(se)==="/",Te=re!=null&&(re===X||!o&&re.startsWith(X)&&re.charAt(X.length)==="/"),D={isActive:Ee,isPending:Te,isTransitioning:G},I=Ee?e:void 0,A;typeof r=="function"?A=r(D):A=[r,Ee?"active":null,Te?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let O=typeof c=="function"?c(D):c;return L.createElement(Rb,{...g,"aria-current":I,className:A,ref:_,style:O,to:u,viewTransition:p},typeof m=="function"?m(D):m)});tI.displayName="NavLink";var nI=L.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:c,method:u=bh,action:p,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:S,...x},j)=>{let{unstable_useTransitions:F}=L.useContext(Xn),G=oI(),X=lI(p,{relative:g}),ne=u.toLowerCase()==="get"?"get":"post",re=typeof p=="string"&&Cb.test(p),se=Ee=>{if(m&&m(Ee),Ee.defaultPrevented)return;Ee.preventDefault();let Te=Ee.nativeEvent.submitter,D=Te?.getAttribute("formmethod")||u,I=()=>G(Te||Ee.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:o,state:c,relative:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:S});F&&t!==!1?L.startTransition(()=>I()):I()};return L.createElement("form",{ref:j,method:ne,action:X,onSubmit:r?m:se,...x,"data-discover":!re&&i==="render"?"true":void 0})});nI.displayName="Form";function iI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ab(i){let e=L.useContext(Uo);return ht(e,iI(i)),e}function rI(i,{target:e,replace:t,state:r,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:p,unstable_useTransitions:m}={}){let g=pi(),_=ya(),T=Cc(i,{relative:c});return L.useCallback(S=>{if(P2(S,e)){S.preventDefault();let x=t!==void 0?t:fc(_)===fc(T),j=()=>g(i,{replace:x,state:r,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:p});m?L.startTransition(()=>j()):j()}},[_,g,T,t,r,e,i,o,c,u,p,m])}var sI=0,aI=()=>`__${String(++sI)}__`;function oI(){let{router:i}=Ab("useSubmit"),{basename:e}=L.useContext(Xn),t=R2(),r=i.fetch,o=i.navigate;return L.useCallback(async(c,u={})=>{let{action:p,method:m,encType:g,formData:_,body:T}=U2(c,e);if(u.navigate===!1){let S=u.fetcherKey||aI();await r(S,t,u.action||p,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:_,body:T,formMethod:u.method||m,formEncType:u.encType||g,flushSync:u.flushSync})}else await o(u.action||p,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:_,body:T,formMethod:u.method||m,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,o,e,t])}function lI(i,{relative:e}={}){let{basename:t}=L.useContext(Xn),r=L.useContext(Yi);ht(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Cc(i||".",{relative:e})},u=ya();if(i==null){c.search=u.search;let p=new URLSearchParams(c.search),m=p.getAll("index");if(m.some(_=>_==="")){p.delete("index"),m.filter(T=>T).forEach(T=>p.append("index",T));let _=p.toString();c.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:vr([t,c.pathname])),fc(c)}function cI(i,{relative:e}={}){let t=L.useContext(mb);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ab("useViewTransitionState"),o=Cc(i,{relative:e});if(!t.isTransitioning)return!1;let c=Er(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Er(t.nextLocation.pathname,r)||t.nextLocation.pathname;return zh(o.pathname,u)!=null||zh(o.pathname,c)!=null}const Ib=(...i)=>i.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();const uI=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const hI=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());const mT=i=>{const e=hI(i);return e.charAt(0).toUpperCase()+e.slice(1)};var fI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dI=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const pI=L.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:u,...p},m)=>L.createElement("svg",{ref:m,...fI,width:e,height:e,stroke:i,strokeWidth:r?Number(t)*24/Number(e):t,className:Ib("lucide",o),...!c&&!dI(p)&&{"aria-hidden":"true"},...p},[...u.map(([g,_])=>L.createElement(g,_)),...Array.isArray(c)?c:[c]]));const We=(i,e)=>{const t=L.forwardRef(({className:r,...o},c)=>L.createElement(pI,{ref:c,iconNode:e,className:Ib(`lucide-${uI(mT(i))}`,`lucide-${i}`,r),...o}));return t.displayName=mT(i),t};const mI=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],gI=We("bell",mI);const yI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_I=We("circle-question-mark",yI);const vI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],TI=We("clock",vI);const EI=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bI=We("download",EI);const SI=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],CI=We("flag",SI);const RI=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],AI=We("flame",RI);const II=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],wI=We("history",II);const xI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],DI=We("house",xI);const kI=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M10 12H3",key:"1ulcyk"}],["path",{d:"M10 19H3",key:"108z41"}],["path",{d:"M15 12.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997a1 1 0 0 1-1.517-.86z",key:"ms4nik"}]],NI=We("list-video",kI);const OI=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],MI=We("mic",OI);const PI=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],VI=We("monitor",PI);const LI=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],UI=We("music",LI);const jI=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],zI=We("palette",jI);const BI=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],qI=We("phone-off",BI);const FI=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],HI=We("play",FI);const $I=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],GI=We("plus",$I);const KI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],YI=We("search",KI);const QI=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],wb=We("send",QI);const XI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],JI=We("settings",XI);const WI=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ZI=We("share-2",WI);const ew=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],tw=We("shopping-bag",ew);const nw=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],iw=We("skip-forward",nw);const rw=[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}],["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}]],sw=We("square-play",rw);const aw=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],xb=We("thumbs-up",aw);const ow=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],lw=We("timer",ow);const cw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],uw=We("user-plus",cw);const hw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fw=We("user",hw);const dw=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Db=We("video",dw);const pw=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],mw=We("youtube",pw),gw=()=>{};var gT={};const kb=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},yw=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const o=i[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[t++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[t++],u=i[t++],p=i[t++],m=((o&7)<<18|(c&63)<<12|(u&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const c=i[t++],u=i[t++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},Nb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const c=i[o],u=o+1<i.length,p=u?i[o+1]:0,m=o+2<i.length,g=m?i[o+2]:0,_=c>>2,T=(c&3)<<4|p>>4;let S=(p&15)<<2|g>>6,x=g&63;m||(x=64,u||(S=64)),r.push(t[_],t[T],t[S],t[x])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(kb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):yw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const c=t[i.charAt(o++)],p=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,c==null||p==null||g==null||T==null)throw new _w;const S=c<<2|p>>4;if(r.push(S),g!==64){const x=p<<4&240|g>>2;if(r.push(x),T!==64){const j=g<<6&192|T;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class _w extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vw=function(i){const e=kb(i);return Nb.encodeByteArray(e,!0)},Bh=function(i){return vw(i).replace(/\./g,"")},Ob=function(i){try{return Nb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Tw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ew=()=>Tw().__FIREBASE_DEFAULTS__,bw=()=>{if(typeof process>"u"||typeof gT>"u")return;const i=gT.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Sw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Ob(i[1]);return e&&JSON.parse(e)},mf=()=>{try{return gw()||Ew()||bw()||Sw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Mb=i=>mf()?.emulatorHosts?.[i],Pb=i=>{const e=Mb(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Vb=()=>mf()?.config,Lb=i=>mf()?.[`_${i}`];class Cw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function _a(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jm(i){return(await fetch(i,{credentials:"include"})).ok}function Ub(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Bh(JSON.stringify(t)),Bh(JSON.stringify(u)),""].join(".")}const sc={};function Rw(){const i={prod:[],emulator:[]};for(const e of Object.keys(sc))sc[e]?i.emulator.push(e):i.prod.push(e);return i}function Aw(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let yT=!1;function Wm(i,e){if(typeof window>"u"||typeof document>"u"||!_a(window.location.host)||sc[i]===e||sc[i]||yT)return;sc[i]=e;function t(S){return`__firebase__banner__${S}`}const r="__firebase__banner",c=Rw().prod.length>0;function u(){const S=document.getElementById(r);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,x){S.setAttribute("width","24"),S.setAttribute("id",x),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{yT=!0,u()},S}function _(S,x){S.setAttribute("id",x),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=Aw(r),x=t("text"),j=document.getElementById(x)||document.createElement("span"),F=t("learnmore"),G=document.getElementById(F)||document.createElement("a"),X=t("preprendIcon"),ne=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const re=S.element;p(re),_(G,F);const se=g();m(ne,X),re.append(ne,j,G,se),document.body.appendChild(re)}c?(j.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Iw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function ww(){const i=mf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Dw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function kw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nw(){const i=sn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Ow(){return!ww()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mw(){try{return typeof indexedDB=="object"}catch{return!1}}function Pw(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const Vw="FirebaseError";class Qi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Vw,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?Lw(c,r):"Error",p=`${this.serviceName}: ${u} (${o}).`;return new Qi(o,p,r)}}function Lw(i,e){return i.replace(Uw,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Uw=/\{\$([^}]+)}/g;function jw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function _s(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const c=i[o],u=e[o];if(_T(c)&&_T(u)){if(!_s(c,u))return!1}else if(c!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function _T(i){return i!==null&&typeof i=="object"}function Ac(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zw(i,e){const t=new Bw(i,e);return t.subscribe.bind(t)}class Bw{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");qw(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Yp),o.error===void 0&&(o.error=Yp),o.complete===void 0&&(o.complete=Yp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qw(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Yp(){}function jt(i){return i&&i._delegate?i._delegate:i}class vs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const aa="[DEFAULT]";class Fw{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Cw;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($w(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[c,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&u.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Hw(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hw(i){return i===aa?void 0:i}function $w(i){return i.instantiationMode==="EAGER"}class Gw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Fw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const Kw={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Yw=Pe.INFO,Qw={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Xw=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=Qw[e];if(o)console[o](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zm{constructor(e){this.name=e,this._logLevel=Yw,this._logHandler=Xw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Kw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Jw=(i,e)=>e.some(t=>i instanceof t);let vT,TT;function Ww(){return vT||(vT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zw(){return TT||(TT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jb=new WeakMap,dm=new WeakMap,zb=new WeakMap,Qp=new WeakMap,eg=new WeakMap;function ex(i){const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",u)},c=()=>{t(ds(i.result)),o()},u=()=>{r(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&jb.set(t,i)}).catch(()=>{}),eg.set(e,i),e}function tx(i){if(dm.has(i))return;const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",u),i.removeEventListener("abort",u)},c=()=>{t(),o()},u=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",u),i.addEventListener("abort",u)});dm.set(i,e)}let pm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return dm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||zb.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ds(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function nx(i){pm=i(pm)}function ix(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(Xp(this),e,...t);return zb.set(r,e.sort?e.sort():[e]),ds(r)}:Zw().includes(i)?function(...e){return i.apply(Xp(this),e),ds(jb.get(this))}:function(...e){return ds(i.apply(Xp(this),e))}}function rx(i){return typeof i=="function"?ix(i):(i instanceof IDBTransaction&&tx(i),Jw(i,Ww())?new Proxy(i,pm):i)}function ds(i){if(i instanceof IDBRequest)return ex(i);if(Qp.has(i))return Qp.get(i);const e=rx(i);return e!==i&&(Qp.set(i,e),eg.set(e,i)),e}const Xp=i=>eg.get(i);function sx(i,e,{blocked:t,upgrade:r,blocking:o,terminated:c}={}){const u=indexedDB.open(i,e),p=ds(u);return r&&u.addEventListener("upgradeneeded",m=>{r(ds(u.result),m.oldVersion,m.newVersion,ds(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const ax=["get","getKey","getAll","getAllKeys","count"],ox=["put","add","delete","clear"],Jp=new Map;function ET(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Jp.get(e))return Jp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=ox.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||ax.includes(t)))return;const c=async function(u,...p){const m=this.transaction(u,o?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(p.shift())),(await Promise.all([g[t](...p),o&&m.done]))[0]};return Jp.set(e,c),c}nx(i=>({...i,get:(e,t,r)=>ET(e,t)||i.get(e,t,r),has:(e,t)=>!!ET(e,t)||i.has(e,t)}));class lx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cx(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function cx(i){return i.getComponent()?.type==="VERSION"}const mm="@firebase/app",bT="0.14.8";const br=new Zm("@firebase/app"),ux="@firebase/app-compat",hx="@firebase/analytics-compat",fx="@firebase/analytics",dx="@firebase/app-check-compat",px="@firebase/app-check",mx="@firebase/auth",gx="@firebase/auth-compat",yx="@firebase/database",_x="@firebase/data-connect",vx="@firebase/database-compat",Tx="@firebase/functions",Ex="@firebase/functions-compat",bx="@firebase/installations",Sx="@firebase/installations-compat",Cx="@firebase/messaging",Rx="@firebase/messaging-compat",Ax="@firebase/performance",Ix="@firebase/performance-compat",wx="@firebase/remote-config",xx="@firebase/remote-config-compat",Dx="@firebase/storage",kx="@firebase/storage-compat",Nx="@firebase/firestore",Ox="@firebase/ai",Mx="@firebase/firestore-compat",Px="firebase",Vx="12.9.0";const gm="[DEFAULT]",Lx={[mm]:"fire-core",[ux]:"fire-core-compat",[fx]:"fire-analytics",[hx]:"fire-analytics-compat",[px]:"fire-app-check",[dx]:"fire-app-check-compat",[mx]:"fire-auth",[gx]:"fire-auth-compat",[yx]:"fire-rtdb",[_x]:"fire-data-connect",[vx]:"fire-rtdb-compat",[Tx]:"fire-fn",[Ex]:"fire-fn-compat",[bx]:"fire-iid",[Sx]:"fire-iid-compat",[Cx]:"fire-fcm",[Rx]:"fire-fcm-compat",[Ax]:"fire-perf",[Ix]:"fire-perf-compat",[wx]:"fire-rc",[xx]:"fire-rc-compat",[Dx]:"fire-gcs",[kx]:"fire-gcs-compat",[Nx]:"fire-fst",[Mx]:"fire-fst-compat",[Ox]:"fire-vertex","fire-js":"fire-js",[Px]:"fire-js-all"};const qh=new Map,Ux=new Map,ym=new Map;function ST(i,e){try{i.container.addComponent(e)}catch(t){br.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function fa(i){const e=i.name;if(ym.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;ym.set(e,i);for(const t of qh.values())ST(t,i);for(const t of Ux.values())ST(t,i);return!0}function gf(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Kn(i){return i==null?!1:i.settings!==void 0}const jx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new Rc("app","Firebase",jx);class zx{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}const va=Vx;function Bb(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r={name:gm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ps.create("bad-app-name",{appName:String(o)});if(t||(t=Vb()),!t)throw ps.create("no-options");const c=qh.get(o);if(c){if(_s(t,c.options)&&_s(r,c.config))return c;throw ps.create("duplicate-app",{appName:o})}const u=new Gw(o);for(const m of ym.values())u.addComponent(m);const p=new zx(t,r,u);return qh.set(o,p),p}function tg(i=gm){const e=qh.get(i);if(!e&&i===gm&&Vb())return Bb();if(!e)throw ps.create("no-app",{appName:i});return e}function ji(i,e,t){let r=Lx[i]??i;t&&(r+=`-${t}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(u.join(" "));return}fa(new vs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Bx="firebase-heartbeat-database",qx=1,dc="firebase-heartbeat-store";let Wp=null;function qb(){return Wp||(Wp=sx(Bx,qx,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(dc)}catch(t){console.warn(t)}}}}).catch(i=>{throw ps.create("idb-open",{originalErrorMessage:i.message})})),Wp}async function Fx(i){try{const t=(await qb()).transaction(dc),r=await t.objectStore(dc).get(Fb(i));return await t.done,r}catch(e){if(e instanceof Qi)br.warn(e.message);else{const t=ps.create("idb-get",{originalErrorMessage:e?.message});br.warn(t.message)}}}async function CT(i,e){try{const r=(await qb()).transaction(dc,"readwrite");await r.objectStore(dc).put(e,Fb(i)),await r.done}catch(t){if(t instanceof Qi)br.warn(t.message);else{const r=ps.create("idb-set",{originalErrorMessage:t?.message});br.warn(r.message)}}}function Fb(i){return`${i.name}!${i.options.appId}`}const Hx=1024,$x=30;class Gx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Yx(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=RT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>$x){const o=Qx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){br.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=RT(),{heartbeatsToSend:t,unsentEntries:r}=Kx(this._heartbeatsCache.heartbeats),o=Bh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return br.warn(e),""}}}function RT(){return new Date().toISOString().substring(0,10)}function Kx(i,e=Hx){const t=[];let r=i.slice();for(const o of i){const c=t.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),AT(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),AT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Yx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mw()?Pw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Fx(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return CT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return CT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function AT(i){return Bh(JSON.stringify({version:2,heartbeats:i})).length}function Qx(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}function Xx(i){fa(new vs("platform-logger",e=>new lx(e),"PRIVATE")),fa(new vs("heartbeat",e=>new Gx(e),"PRIVATE")),ji(mm,bT,i),ji(mm,bT,"esm2020"),ji("fire-js","")}Xx("");function Hb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jx=Hb,$b=new Rc("auth","Firebase",Hb());const Fh=new Zm("@firebase/auth");function Wx(i,...e){Fh.logLevel<=Pe.WARN&&Fh.warn(`Auth (${va}): ${i}`,...e)}function Ch(i,...e){Fh.logLevel<=Pe.ERROR&&Fh.error(`Auth (${va}): ${i}`,...e)}function $i(i,...e){throw ig(i,...e)}function hi(i,...e){return ig(i,...e)}function ng(i,e,t){const r={...Jx(),[e]:t};return new Rc("auth","Firebase",r).create(e,{appName:i.name})}function ca(i){return ng(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zx(i,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&$i(i,"argument-error"),ng(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ig(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return $b.create(i,...e)}function be(i,e,...t){if(!i)throw ig(e,...t)}function yr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ch(e),new Error(e)}function Sr(i,e){i||yr(e)}function _m(){return typeof self<"u"&&self.location?.href||""}function eD(){return IT()==="http:"||IT()==="https:"}function IT(){return typeof self<"u"&&self.location?.protocol||null}function tD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eD()||Dw()||"connection"in navigator)?navigator.onLine:!0}function nD(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Ic{constructor(e,t){this.shortDelay=e,this.longDelay=t,Sr(t>e,"Short delay should be less than long delay!"),this.isMobile=Iw()||kw()}get(){return tD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rg(i,e){Sr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Gb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const iD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const rD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sD=new Ic(3e4,6e4);function sg(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function jo(i,e,t,r,o={}){return Kb(i,o,async()=>{let c={},u={};r&&(e==="GET"?u=r:c={body:JSON.stringify(r)});const p=Ac({key:i.config.apiKey,...u}).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:m,...c};return xw()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&_a(i.emulatorConfig.host)&&(g.credentials="include"),Gb.fetch()(await Yb(i,i.config.apiHost,t,p),g)})}async function Kb(i,e,t){i._canInitEmulator=!1;const r={...iD,...e};try{const o=new oD(i),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw mh(i,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const p=c.ok?u.errorMessage:u.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(i,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw mh(i,"email-already-in-use",u);if(m==="USER_DISABLED")throw mh(i,"user-disabled",u);const _=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ng(i,_,g);$i(i,_)}}catch(o){if(o instanceof Qi)throw o;$i(i,"network-request-failed",{message:String(o)})}}async function aD(i,e,t,r,o={}){const c=await jo(i,e,t,r,o);return"mfaPendingCredential"in c&&$i(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function Yb(i,e,t,r){const o=`${e}${t}?${r}`,c=i,u=c.config.emulator?rg(i.config,o):`${i.config.apiScheme}://${o}`;return rD.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}class oD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(hi(this.auth,"network-request-failed")),sD.get())})}}function mh(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=hi(i,e,r);return o.customData._tokenResponse=t,o}async function lD(i,e){return jo(i,"POST","/v1/accounts:delete",e)}async function Hh(i,e){return jo(i,"POST","/v1/accounts:lookup",e)}function ac(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cD(i,e=!1){const t=jt(i),r=await t.getIdToken(e),o=ag(r);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:r,authTime:ac(Zp(o.auth_time)),issuedAtTime:ac(Zp(o.iat)),expirationTime:ac(Zp(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Zp(i){return Number(i)*1e3}function ag(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ob(t);return o?JSON.parse(o):(Ch("Failed to decode base64 JWT payload"),null)}catch(o){return Ch("Caught error parsing JWT payload as JSON",o?.toString()),null}}function wT(i){const e=ag(i);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function pc(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Qi&&uD(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function uD({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class hD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ac(this.lastLoginAt),this.creationTime=ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $h(i){const e=i.auth,t=await i.getIdToken(),r=await pc(i,Hh(e,{idToken:t}));be(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?Qb(o.providerUserInfo):[],u=dD(i.providerData,c),p=i.isAnonymous,m=!(i.email&&o.passwordHash)&&!u?.length,g=p?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function fD(i){const e=jt(i);await $h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dD(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Qb(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function pD(i,e){const t=await Kb(i,{},async()=>{const r=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,u=await Yb(i,o,"/v1/token",`key=${c}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:r};return i.emulatorConfig&&_a(i.emulatorConfig.host)&&(m.credentials="include"),Gb.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mD(i,e){return jo(i,"POST","/v2/accounts:revokeToken",sg(i,e))}class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=wT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:c}=await pD(e,t);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:c}=t,u=new bo;return r&&(be(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(be(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(be(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return yr("not implemented")}}function as(i,e){be(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ci{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new hD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await pc(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return cD(this,e)}reload(){return fD(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ci({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await $h(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(ca(this.auth));const e=await this.getIdToken();return await pc(this,lD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,u=t.photoURL??void 0,p=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:x,providerData:j,stsTokenManager:F}=t;be(T&&F,e,"internal-error");const G=bo.fromJSON(this.name,F);be(typeof T=="string",e,"internal-error"),as(r,e.name),as(o,e.name),be(typeof S=="boolean",e,"internal-error"),be(typeof x=="boolean",e,"internal-error"),as(c,e.name),as(u,e.name),as(p,e.name),as(m,e.name),as(g,e.name),as(_,e.name);const X=new ci({uid:T,auth:e,email:o,emailVerified:S,displayName:r,isAnonymous:x,photoURL:u,phoneNumber:c,tenantId:p,stsTokenManager:G,createdAt:g,lastLoginAt:_});return j&&Array.isArray(j)&&(X.providerData=j.map(ne=>({...ne}))),m&&(X._redirectEventId=m),X}static async _fromIdTokenResponse(e,t,r=!1){const o=new bo;o.updateFromServerResponse(t);const c=new ci({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await $h(c),c}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];be(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Qb(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,p=new bo;p.updateFromIdToken(r);const m=new ci({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(m,g),m}}const xT=new Map;function _r(i){Sr(i instanceof Function,"Expected a class definition");let e=xT.get(i);return e?(Sr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,xT.set(i,e),e)}class Xb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Xb.type="NONE";const DT=Xb;function Rh(i,e,t){return`firebase:${i}:${e}:${t}`}class So{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Rh(this.userKey,o.apiKey,c),this.fullPersistenceKey=Rh("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Hh(this.auth,{idToken:e}).catch(()=>{});return t?ci._fromGetAccountInfoResponse(this.auth,t,e):null}return ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new So(_r(DT),e,r);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||_r(DT);const u=Rh(r,e.config.apiKey,e.name);let p=null;for(const g of t)try{const _=await g._get(u);if(_){let T;if(typeof _=="string"){const S=await Hh(e,{idToken:_}).catch(()=>{});if(!S)break;T=await ci._fromGetAccountInfoResponse(e,S,_)}else T=ci._fromJSON(e,_);g!==c&&(p=T),c=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new So(c,e,r):(c=m[0],p&&await c._set(u,p.toJSON()),await Promise.all(t.map(async g=>{if(g!==c)try{await g._remove(u)}catch{}})),new So(c,e,r))}}function kT(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nS(e))return"Blackberry";if(iS(e))return"Webos";if(Wb(e))return"Safari";if((e.includes("chrome/")||Zb(e))&&!e.includes("edge/"))return"Chrome";if(tS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if(r?.length===2)return r[1]}return"Other"}function Jb(i=sn()){return/firefox\//i.test(i)}function Wb(i=sn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zb(i=sn()){return/crios\//i.test(i)}function eS(i=sn()){return/iemobile/i.test(i)}function tS(i=sn()){return/android/i.test(i)}function nS(i=sn()){return/blackberry/i.test(i)}function iS(i=sn()){return/webos/i.test(i)}function og(i=sn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function gD(i=sn()){return og(i)&&!!window.navigator?.standalone}function yD(){return Nw()&&document.documentMode===10}function rS(i=sn()){return og(i)||tS(i)||iS(i)||nS(i)||/windows phone/i.test(i)||eS(i)}function sS(i,e=[]){let t;switch(i){case"Browser":t=kT(sn());break;case"Worker":t=`${kT(sn())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${va}/${r}`}class _D{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=c=>new Promise((u,p)=>{try{const m=e(c);u(m)}catch(m){p(m)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function vD(i,e={}){return jo(i,"GET","/v2/passwordPolicy",sg(i,e))}const TD=6;class ED{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??TD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class bD{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NT(this),this.idTokenSubscription=new NT(this),this.beforeStateQueue=new _D(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$b,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_r(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await So.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Hh(this,{idToken:e}),r=await ci._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===u)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $h(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(ca(this));const t=e?jt(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vD(this),t=new ED(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await mD(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_r(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[_r(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let u=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{u||c(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,o);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Wx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function yf(i){return jt(i)}class NT{constructor(e){this.auth=e,this.observer=null,this.addObserver=zw(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SD(i){lg=i}function CD(i){return lg.loadJS(i)}function RD(){return lg.gapiScript}function AD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function ID(i,e){const t=gf(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(_s(c,e??{}))return o;$i(o,"already-initialized")}return t.initialize({options:e})}function wD(i,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(_r);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function xD(i,e,t){const r=yf(i);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=aS(e),{host:u,port:p}=DD(e),m=p===null?"":`:${p}`,g={url:`${c}//${u}${m}/`},_=Object.freeze({host:u,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(_s(g,r.config.emulator)&&_s(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,_a(u)?(Jm(`${c}//${u}${m}`),Wm("Auth",!0)):kD()}function aS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function DD(i){const e=aS(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:OT(r.substr(c.length+1))}}else{const[c,u]=r.split(":");return{host:c,port:OT(u)}}}function OT(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function kD(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class oS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yr("not implemented")}_getIdTokenResponse(e){return yr("not implemented")}_linkToIdToken(e,t){return yr("not implemented")}_getReauthenticationResolver(e){return yr("not implemented")}}async function Co(i,e){return aD(i,"POST","/v1/accounts:signInWithIdp",sg(i,e))}const ND="http://localhost";class da extends oS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$i("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=t;if(!r||!o)return null;const u=new da(r,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Co(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Co(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Co(e,t)}buildRequest(){const e={requestUri:ND,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ac(t)}return e}}class cg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class wc extends cg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class os extends wc{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";class gr extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return da._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return gr.credential(t,r)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";class ls extends wc{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";class cs extends wc{constructor(){super("twitter.com")}static credential(e,t){return da._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return cs.credential(t,r)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const c=await ci._fromIdTokenResponse(e,r,o),u=MT(r);return new wo({user:c,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=MT(r);return new wo({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function MT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Gh extends Qi{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Gh(e,t,r,o)}}function lS(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Gh._fromErrorAndOperation(i,c,e,r):c})}async function OD(i,e,t=!1){const r=await pc(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return wo._forOperation(i,"link",r)}async function MD(i,e,t=!1){const{auth:r}=i;if(Kn(r.app))return Promise.reject(ca(r));const o="reauthenticate";try{const c=await pc(i,lS(r,o,e,i),t);be(c.idToken,r,"internal-error");const u=ag(c.idToken);be(u,r,"internal-error");const{sub:p}=u;return be(i.uid===p,r,"user-mismatch"),wo._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&$i(r,"user-mismatch"),c}}async function PD(i,e,t=!1){if(Kn(i.app))return Promise.reject(ca(i));const r="signIn",o=await lS(i,r,e),c=await wo._fromIdTokenResponse(i,r,o);return t||await i._updateCurrentUser(c.user),c}function VD(i,e,t,r){return jt(i).onIdTokenChanged(e,t,r)}function LD(i,e,t){return jt(i).beforeAuthStateChanged(e,t)}function xc(i,e,t,r){return jt(i).onAuthStateChanged(e,t,r)}function UD(i){return jt(i).signOut()}const Kh="__sak";class cS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Kh,"1"),this.storage.removeItem(Kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const jD=1e3,zD=10;class uS extends cS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,p,m)=>{this.notifyListeners(u,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},c=this.storage.getItem(r);yD()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,zD):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},jD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}uS.type="LOCAL";const BD=uS;class hS extends cS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hS.type="SESSION";const fS=hS;function qD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class _f{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new _f(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:c}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(u).map(async g=>g(t.origin,c)),m=await qD(p);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_f.receivers=[];function ug(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}class FD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((p,m)=>{const g=ug("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(S.data.response);break;default:clearTimeout(_),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function zi(){return window}function HD(i){zi().location.href=i}function dS(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function $D(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GD(){return navigator?.serviceWorker?.controller||null}function KD(){return dS()?self:null}const pS="firebaseLocalStorageDb",YD=1,Yh="firebaseLocalStorage",mS="fbase_key";class Dc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vf(i,e){return i.transaction([Yh],e?"readwrite":"readonly").objectStore(Yh)}function QD(){const i=indexedDB.deleteDatabase(pS);return new Dc(i).toPromise()}function Tm(){const i=indexedDB.open(pS,YD);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Yh,{keyPath:mS})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Yh)?e(r):(r.close(),await QD(),e(await Tm()))})})}async function PT(i,e,t){const r=vf(i,!0).put({[mS]:e,value:t});return new Dc(r).toPromise()}async function XD(i,e){const t=vf(i,!1).get(e),r=await new Dc(t).toPromise();return r===void 0?null:r.value}function VT(i,e){const t=vf(i,!0).delete(e);return new Dc(t).toPromise()}const JD=800,WD=3;class gS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>WD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_f._getInstance(KD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $D(),!this.activeServiceWorker)return;this.sender=new FD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tm();return await PT(e,Kh,"1"),await VT(e,Kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>PT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>XD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>VT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=vf(o,!1).getAll();return new Dc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gS.type="LOCAL";const ZD=gS;new Ic(3e4,6e4);function yS(i,e){return e?_r(e):(be(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class hg extends oS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Co(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ek(i){return PD(i.auth,new hg(i),i.bypassAuthState)}function tk(i){const{auth:e,user:t}=i;return be(t,e,"internal-error"),MD(t,new hg(i),i.bypassAuthState)}async function nk(i){const{auth:e,user:t}=i;return be(t,e,"internal-error"),OD(t,new hg(i),i.bypassAuthState)}class _S{constructor(e,t,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:c,error:u,type:p}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ek;case"linkViaPopup":case"linkViaRedirect":return nk;case"reauthViaPopup":case"reauthViaRedirect":return tk;default:$i(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ik=new Ic(2e3,1e4);async function rk(i,e,t){if(Kn(i.app))return Promise.reject(hi(i,"operation-not-supported-in-this-environment"));const r=yf(i);Zx(i,e,cg);const o=yS(r,t);return new oa(r,"signInViaPopup",e,o).executeNotNull()}class oa extends _S{constructor(e,t,r,o,c){super(e,t,o,c),this.provider=r,this.authWindow=null,this.pollId=null,oa.currentPopupAction&&oa.currentPopupAction.cancel(),oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Sr(this.filter.length===1,"Popup operations only handle one event");const e=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ik.get())};e()}}oa.currentPopupAction=null;const sk="pendingRedirect",Ah=new Map;class ak extends _S{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const r=await ok(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ok(i,e){const t=uk(e),r=ck(i);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function lk(i,e){Ah.set(i._key(),e)}function ck(i){return _r(i._redirectPersistence)}function uk(i){return Rh(sk,i.config.apiKey,i.name)}async function hk(i,e,t=!1){if(Kn(i.app))return Promise.reject(ca(i));const r=yf(i),o=yS(r,e),u=await new ak(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const fk=600*1e3;class dk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!vS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(hi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fk&&this.cachedEventUids.clear(),this.cachedEventUids.has(LT(e))}saveEventToCache(e){this.cachedEventUids.add(LT(e)),this.lastProcessedEventTime=Date.now()}}function LT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function vS({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function pk(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vS(i);default:return!1}}async function mk(i,e={}){return jo(i,"GET","/v1/projects",e)}const gk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yk=/^https?/;async function _k(i){if(i.config.emulator)return;const{authorizedDomains:e}=await mk(i);for(const t of e)try{if(vk(t))return}catch{}$i(i,"unauthorized-domain")}function vk(i){const e=_m(),{protocol:t,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&r===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!yk.test(t))return!1;if(gk.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const Tk=new Ic(3e4,6e4);function UT(){const i=zi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function Ek(i){return new Promise((e,t)=>{function r(){UT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UT(),t(hi(i,"network-request-failed"))},timeout:Tk.get()})}if(zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zi().gapi?.load)r();else{const o=AD("iframefcb");return zi()[o]=()=>{gapi.load?r():t(hi(i,"network-request-failed"))},CD(`${RD()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function bk(i){return Ih=Ih||Ek(i),Ih}const Sk=new Ic(5e3,15e3),Ck="__/auth/iframe",Rk="emulator/auth/iframe",Ak={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ik=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wk(i){const e=i.config;be(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?rg(e,Rk):`https://${i.config.authDomain}/${Ck}`,r={apiKey:e.apiKey,appName:i.name,v:va},o=Ik.get(i.config.apiHost);o&&(r.eid=o);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${t}?${Ac(r).slice(1)}`}async function xk(i){const e=await bk(i),t=zi().gapi;return be(t,i,"internal-error"),e.open({where:document.body,url:wk(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ak,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const u=hi(i,"network-request-failed"),p=zi().setTimeout(()=>{c(u)},Sk.get());function m(){zi().clearTimeout(p),o(r)}r.ping(m).then(m,()=>{c(u)})}))}const Dk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kk=500,Nk=600,Ok="_blank",Mk="http://localhost";class jT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Pk(i,e,t,r=kk,o=Nk){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const m={...Dk,width:r.toString(),height:o.toString(),top:c,left:u},g=sn().toLowerCase();t&&(p=Zb(g)?Ok:t),Jb(g)&&(e=e||Mk,m.scrollbars="yes");const _=Object.entries(m).reduce((S,[x,j])=>`${S}${x}=${j},`,"");if(gD(g)&&p!=="_self")return Vk(e||"",p),new jT(null);const T=window.open(e||"",p,_);be(T,i,"popup-blocked");try{T.focus()}catch{}return new jT(T)}function Vk(i,e){const t=document.createElement("a");t.href=i,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const Lk="__/auth/handler",Uk="emulator/auth/handler",jk=encodeURIComponent("fac");async function zT(i,e,t,r,o,c){be(i.config.authDomain,i,"auth-domain-config-required"),be(i.config.apiKey,i,"invalid-api-key");const u={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:va,eventId:o};if(e instanceof cg){e.setDefaultLanguage(i.languageCode),u.providerId=e.providerId||"",jw(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))u[_]=T}if(e instanceof wc){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(u.scopes=_.join(","))}i.tenantId&&(u.tid=i.tenantId);const p=u;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const m=await i._getAppCheckToken(),g=m?`#${jk}=${encodeURIComponent(m)}`:"";return`${zk(i)}?${Ac(p).slice(1)}${g}`}function zk({config:i}){return i.emulator?rg(i,Uk):`https://${i.authDomain}/${Lk}`}const em="webStorageSupport";class Bk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fS,this._completeRedirectFn=hk,this._overrideRedirectResult=lk}async _openPopup(e,t,r,o){Sr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await zT(e,t,r,_m(),o);return Pk(e,c,ug())}async _openRedirect(e,t,r,o){await this._originValidation(e);const c=await zT(e,t,r,_m(),o);return HD(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(Sr(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await xk(e),r=new dk(e);return t.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(em,{type:em},o=>{const c=o?.[0]?.[em];c!==void 0&&t(!!c),$i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_k(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rS()||Wb()||og()}}const qk=Bk;var BT="@firebase/auth",qT="1.12.0";class Fk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Hk(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $k(i){fa(new vs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:p}=r.options;be(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sS(i)},g=new bD(r,o,c,m);return wD(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),fa(new vs("auth-internal",e=>{const t=yf(e.getProvider("auth").getImmediate());return(r=>new Fk(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(BT,qT,Hk(i)),ji(BT,qT,"esm2020")}const Gk=300,Kk=Lb("authIdTokenMaxAge")||Gk;let FT=null;const Yk=i=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Kk)return;const o=t?.token;FT!==o&&(FT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kc(i=tg()){const e=gf(i,"auth");if(e.isInitialized())return e.getImmediate();const t=ID(i,{popupRedirectResolver:qk,persistence:[ZD,BD,fS]}),r=Lb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const u=Yk(c.toString());LD(t,u,()=>u(t.currentUser)),VD(t,p=>u(p))}}const o=Mb("auth");return o&&xD(t,`http://${o}`),t}function Qk(){return document.getElementsByTagName("head")?.[0]??document}SD({loadJS(i){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const c=hi("internal-error");c.customData=o,t(c)},r.type="text/javascript",r.charset="UTF-8",Qk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$k("Browser");var Xk="firebase",Jk="12.9.0";ji(Xk,Jk,"app");var HT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ms,TS;(function(){var i;function e(D,I){function A(){}A.prototype=I.prototype,D.F=I.prototype,D.prototype=new A,D.prototype.constructor=D,D.D=function(O,N,V){for(var w=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)w[qe-2]=arguments[qe];return I.prototype[N].apply(O,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,I,A){A||(A=0);const O=Array(16);if(typeof I=="string")for(var N=0;N<16;++N)O[N]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(N=0;N<16;++N)O[N]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=D.g[0],A=D.g[1],N=D.g[2];let V=D.g[3],w;w=I+(V^A&(N^V))+O[0]+3614090360&4294967295,I=A+(w<<7&4294967295|w>>>25),w=V+(N^I&(A^N))+O[1]+3905402710&4294967295,V=I+(w<<12&4294967295|w>>>20),w=N+(A^V&(I^A))+O[2]+606105819&4294967295,N=V+(w<<17&4294967295|w>>>15),w=A+(I^N&(V^I))+O[3]+3250441966&4294967295,A=N+(w<<22&4294967295|w>>>10),w=I+(V^A&(N^V))+O[4]+4118548399&4294967295,I=A+(w<<7&4294967295|w>>>25),w=V+(N^I&(A^N))+O[5]+1200080426&4294967295,V=I+(w<<12&4294967295|w>>>20),w=N+(A^V&(I^A))+O[6]+2821735955&4294967295,N=V+(w<<17&4294967295|w>>>15),w=A+(I^N&(V^I))+O[7]+4249261313&4294967295,A=N+(w<<22&4294967295|w>>>10),w=I+(V^A&(N^V))+O[8]+1770035416&4294967295,I=A+(w<<7&4294967295|w>>>25),w=V+(N^I&(A^N))+O[9]+2336552879&4294967295,V=I+(w<<12&4294967295|w>>>20),w=N+(A^V&(I^A))+O[10]+4294925233&4294967295,N=V+(w<<17&4294967295|w>>>15),w=A+(I^N&(V^I))+O[11]+2304563134&4294967295,A=N+(w<<22&4294967295|w>>>10),w=I+(V^A&(N^V))+O[12]+1804603682&4294967295,I=A+(w<<7&4294967295|w>>>25),w=V+(N^I&(A^N))+O[13]+4254626195&4294967295,V=I+(w<<12&4294967295|w>>>20),w=N+(A^V&(I^A))+O[14]+2792965006&4294967295,N=V+(w<<17&4294967295|w>>>15),w=A+(I^N&(V^I))+O[15]+1236535329&4294967295,A=N+(w<<22&4294967295|w>>>10),w=I+(N^V&(A^N))+O[1]+4129170786&4294967295,I=A+(w<<5&4294967295|w>>>27),w=V+(A^N&(I^A))+O[6]+3225465664&4294967295,V=I+(w<<9&4294967295|w>>>23),w=N+(I^A&(V^I))+O[11]+643717713&4294967295,N=V+(w<<14&4294967295|w>>>18),w=A+(V^I&(N^V))+O[0]+3921069994&4294967295,A=N+(w<<20&4294967295|w>>>12),w=I+(N^V&(A^N))+O[5]+3593408605&4294967295,I=A+(w<<5&4294967295|w>>>27),w=V+(A^N&(I^A))+O[10]+38016083&4294967295,V=I+(w<<9&4294967295|w>>>23),w=N+(I^A&(V^I))+O[15]+3634488961&4294967295,N=V+(w<<14&4294967295|w>>>18),w=A+(V^I&(N^V))+O[4]+3889429448&4294967295,A=N+(w<<20&4294967295|w>>>12),w=I+(N^V&(A^N))+O[9]+568446438&4294967295,I=A+(w<<5&4294967295|w>>>27),w=V+(A^N&(I^A))+O[14]+3275163606&4294967295,V=I+(w<<9&4294967295|w>>>23),w=N+(I^A&(V^I))+O[3]+4107603335&4294967295,N=V+(w<<14&4294967295|w>>>18),w=A+(V^I&(N^V))+O[8]+1163531501&4294967295,A=N+(w<<20&4294967295|w>>>12),w=I+(N^V&(A^N))+O[13]+2850285829&4294967295,I=A+(w<<5&4294967295|w>>>27),w=V+(A^N&(I^A))+O[2]+4243563512&4294967295,V=I+(w<<9&4294967295|w>>>23),w=N+(I^A&(V^I))+O[7]+1735328473&4294967295,N=V+(w<<14&4294967295|w>>>18),w=A+(V^I&(N^V))+O[12]+2368359562&4294967295,A=N+(w<<20&4294967295|w>>>12),w=I+(A^N^V)+O[5]+4294588738&4294967295,I=A+(w<<4&4294967295|w>>>28),w=V+(I^A^N)+O[8]+2272392833&4294967295,V=I+(w<<11&4294967295|w>>>21),w=N+(V^I^A)+O[11]+1839030562&4294967295,N=V+(w<<16&4294967295|w>>>16),w=A+(N^V^I)+O[14]+4259657740&4294967295,A=N+(w<<23&4294967295|w>>>9),w=I+(A^N^V)+O[1]+2763975236&4294967295,I=A+(w<<4&4294967295|w>>>28),w=V+(I^A^N)+O[4]+1272893353&4294967295,V=I+(w<<11&4294967295|w>>>21),w=N+(V^I^A)+O[7]+4139469664&4294967295,N=V+(w<<16&4294967295|w>>>16),w=A+(N^V^I)+O[10]+3200236656&4294967295,A=N+(w<<23&4294967295|w>>>9),w=I+(A^N^V)+O[13]+681279174&4294967295,I=A+(w<<4&4294967295|w>>>28),w=V+(I^A^N)+O[0]+3936430074&4294967295,V=I+(w<<11&4294967295|w>>>21),w=N+(V^I^A)+O[3]+3572445317&4294967295,N=V+(w<<16&4294967295|w>>>16),w=A+(N^V^I)+O[6]+76029189&4294967295,A=N+(w<<23&4294967295|w>>>9),w=I+(A^N^V)+O[9]+3654602809&4294967295,I=A+(w<<4&4294967295|w>>>28),w=V+(I^A^N)+O[12]+3873151461&4294967295,V=I+(w<<11&4294967295|w>>>21),w=N+(V^I^A)+O[15]+530742520&4294967295,N=V+(w<<16&4294967295|w>>>16),w=A+(N^V^I)+O[2]+3299628645&4294967295,A=N+(w<<23&4294967295|w>>>9),w=I+(N^(A|~V))+O[0]+4096336452&4294967295,I=A+(w<<6&4294967295|w>>>26),w=V+(A^(I|~N))+O[7]+1126891415&4294967295,V=I+(w<<10&4294967295|w>>>22),w=N+(I^(V|~A))+O[14]+2878612391&4294967295,N=V+(w<<15&4294967295|w>>>17),w=A+(V^(N|~I))+O[5]+4237533241&4294967295,A=N+(w<<21&4294967295|w>>>11),w=I+(N^(A|~V))+O[12]+1700485571&4294967295,I=A+(w<<6&4294967295|w>>>26),w=V+(A^(I|~N))+O[3]+2399980690&4294967295,V=I+(w<<10&4294967295|w>>>22),w=N+(I^(V|~A))+O[10]+4293915773&4294967295,N=V+(w<<15&4294967295|w>>>17),w=A+(V^(N|~I))+O[1]+2240044497&4294967295,A=N+(w<<21&4294967295|w>>>11),w=I+(N^(A|~V))+O[8]+1873313359&4294967295,I=A+(w<<6&4294967295|w>>>26),w=V+(A^(I|~N))+O[15]+4264355552&4294967295,V=I+(w<<10&4294967295|w>>>22),w=N+(I^(V|~A))+O[6]+2734768916&4294967295,N=V+(w<<15&4294967295|w>>>17),w=A+(V^(N|~I))+O[13]+1309151649&4294967295,A=N+(w<<21&4294967295|w>>>11),w=I+(N^(A|~V))+O[4]+4149444226&4294967295,I=A+(w<<6&4294967295|w>>>26),w=V+(A^(I|~N))+O[11]+3174756917&4294967295,V=I+(w<<10&4294967295|w>>>22),w=N+(I^(V|~A))+O[2]+718787259&4294967295,N=V+(w<<15&4294967295|w>>>17),w=A+(V^(N|~I))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+V&4294967295}r.prototype.v=function(D,I){I===void 0&&(I=D.length);const A=I-this.blockSize,O=this.C;let N=this.h,V=0;for(;V<I;){if(N==0)for(;V<=A;)o(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<I;)if(O[N++]=D.charCodeAt(V++),N==this.blockSize){o(this,O),N=0;break}}else for(;V<I;)if(O[N++]=D[V++],N==this.blockSize){o(this,O),N=0;break}}this.h=N,this.o+=I},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;I=this.o*8;for(var A=D.length-8;A<D.length;++A)D[A]=I&255,I/=256;for(this.v(D),D=Array(16),I=0,A=0;A<4;++A)for(let O=0;O<32;O+=8)D[I++]=this.g[A]>>>O&255;return D};function c(D,I){var A=p;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=I(D)}function u(D,I){this.h=I;const A=[];let O=!0;for(let N=D.length-1;N>=0;N--){const V=D[N]|0;O&&V==I||(A[N]=V,O=!1)}this.g=A}var p={};function m(D){return-128<=D&&D<128?c(D,function(I){return new u([I|0],I<0?-1:0)}):new u([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(D<0)return G(g(-D));const I=[];let A=1;for(let O=0;D>=A;O++)I[O]=D/A|0,A*=4294967296;return new u(I,0)}function _(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return G(_(D.substring(1),I));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=g(Math.pow(I,8));let O=T;for(let V=0;V<D.length;V+=8){var N=Math.min(8,D.length-V);const w=parseInt(D.substring(V,V+N),I);N<8?(N=g(Math.pow(I,N)),O=O.j(N).add(g(w))):(O=O.j(A),O=O.add(g(w)))}return O}var T=m(0),S=m(1),x=m(16777216);i=u.prototype,i.m=function(){if(F(this))return-G(this).m();let D=0,I=1;for(let A=0;A<this.g.length;A++){const O=this.i(A);D+=(O>=0?O:4294967296+O)*I,I*=4294967296}return D},i.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(j(this))return"0";if(F(this))return"-"+G(this).toString(D);const I=g(Math.pow(D,6));var A=this;let O="";for(;;){const N=se(A,I).g;A=X(A,N.j(I));let V=((A.g.length>0?A.g[0]:A.h)>>>0).toString(D);if(A=N,j(A))return V+O;for(;V.length<6;)V="0"+V;O=V+O}},i.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function j(D){if(D.h!=0)return!1;for(let I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function F(D){return D.h==-1}i.l=function(D){return D=X(this,D),F(D)?-1:j(D)?0:1};function G(D){const I=D.g.length,A=[];for(let O=0;O<I;O++)A[O]=~D.g[O];return new u(A,~D.h).add(S)}i.abs=function(){return F(this)?G(this):this},i.add=function(D){const I=Math.max(this.g.length,D.g.length),A=[];let O=0;for(let N=0;N<=I;N++){let V=O+(this.i(N)&65535)+(D.i(N)&65535),w=(V>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);O=w>>>16,V&=65535,w&=65535,A[N]=w<<16|V}return new u(A,A[A.length-1]&-2147483648?-1:0)};function X(D,I){return D.add(G(I))}i.j=function(D){if(j(this)||j(D))return T;if(F(this))return F(D)?G(this).j(G(D)):G(G(this).j(D));if(F(D))return G(this.j(G(D)));if(this.l(x)<0&&D.l(x)<0)return g(this.m()*D.m());const I=this.g.length+D.g.length,A=[];for(var O=0;O<2*I;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(let N=0;N<D.g.length;N++){const V=this.i(O)>>>16,w=this.i(O)&65535,qe=D.i(N)>>>16,me=D.i(N)&65535;A[2*O+2*N]+=w*me,ne(A,2*O+2*N),A[2*O+2*N+1]+=V*me,ne(A,2*O+2*N+1),A[2*O+2*N+1]+=w*qe,ne(A,2*O+2*N+1),A[2*O+2*N+2]+=V*qe,ne(A,2*O+2*N+2)}for(D=0;D<I;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=I;D<2*I;D++)A[D]=0;return new u(A,0)};function ne(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function re(D,I){this.g=D,this.h=I}function se(D,I){if(j(I))throw Error("division by zero");if(j(D))return new re(T,T);if(F(D))return I=se(G(D),I),new re(G(I.g),G(I.h));if(F(I))return I=se(D,G(I)),new re(G(I.g),I.h);if(D.g.length>30){if(F(D)||F(I))throw Error("slowDivide_ only works with positive integers.");for(var A=S,O=I;O.l(D)<=0;)A=Ee(A),O=Ee(O);var N=Te(A,1),V=Te(O,1);for(O=Te(O,2),A=Te(A,2);!j(O);){var w=V.add(O);w.l(D)<=0&&(N=N.add(A),V=w),O=Te(O,1),A=Te(A,1)}return I=X(D,N.j(I)),new re(N,I)}for(N=T;D.l(I)>=0;){for(A=Math.max(1,Math.floor(D.m()/I.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),V=g(A),w=V.j(I);F(w)||w.l(D)>0;)A-=O,V=g(A),w=V.j(I);j(V)&&(V=S),N=N.add(V),D=X(D,w)}return new re(N,D)}i.B=function(D){return se(this,D).h},i.and=function(D){const I=Math.max(this.g.length,D.g.length),A=[];for(let O=0;O<I;O++)A[O]=this.i(O)&D.i(O);return new u(A,this.h&D.h)},i.or=function(D){const I=Math.max(this.g.length,D.g.length),A=[];for(let O=0;O<I;O++)A[O]=this.i(O)|D.i(O);return new u(A,this.h|D.h)},i.xor=function(D){const I=Math.max(this.g.length,D.g.length),A=[];for(let O=0;O<I;O++)A[O]=this.i(O)^D.i(O);return new u(A,this.h^D.h)};function Ee(D){const I=D.g.length+1,A=[];for(let O=0;O<I;O++)A[O]=D.i(O)<<1|D.i(O-1)>>>31;return new u(A,D.h)}function Te(D,I){const A=I>>5;I%=32;const O=D.g.length-A,N=[];for(let V=0;V<O;V++)N[V]=I>0?D.i(V+A)>>>I|D.i(V+A+1)<<32-I:D.i(V+A);return new u(N,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,TS=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=_,ms=u}).apply(typeof HT<"u"?HT:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ES,ec,bS,wh,Em,SS,CS,RS;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function o(h,y){if(y)e:{var E=r;h=h.split(".");for(var C=0;C<h.length-1;C++){var z=h[C];if(!(z in E))break e;E=E[z]}h=h[h.length-1],C=E[h],y=y(C),y!=C&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],C;for(C in y)Object.prototype.hasOwnProperty.call(y,C)&&E.push([C,y[C]]);return E}});var c=c||{},u=this||self;function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=m,g.apply(null,arguments)}function _(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(C,z,K){for(var ae=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ae[Ie-2]=arguments[Ie];return y.prototype[z].apply(C,ae)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function x(h){const y=h.length;if(y>0){const E=Array(y);for(let C=0;C<y;C++)E[C]=h[C];return E}return[]}function j(h,y){for(let C=1;C<arguments.length;C++){const z=arguments[C];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=h.length||0;const K=z.length||0;h.length=E+K;for(let ae=0;ae<K;ae++)h[E+ae]=z[ae]}else h.push(z)}}class F{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(h){u.setTimeout(()=>{throw h},0)}function X(){var h=D;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,E){const C=re.get();C.set(y,E),this.h?this.h.next=C:this.g=C,this.h=C}}var re=new F(()=>new se,h=>h.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,Te=!1,D=new ne,I=()=>{const h=Promise.resolve(void 0);Ee=()=>{h.then(A)}};function A(){for(var h;h=X();){try{h.h.call(h.g)}catch(E){G(E)}var y=re;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}Te=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};u.addEventListener("test",E,y),u.removeEventListener("test",E,y)}catch{}return h})();function w(h){return/^[\s\xa0]*$/.test(h)}function qe(h,y){N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(qe,N),qe.prototype.init=function(h,y){const E=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),$=0;function ie(h,y,E,C,z){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!C,this.ha=z,this.key=++$,this.da=this.fa=!1}function de(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Be(h,y,E){for(const C in h)y.call(E,h[C],C,h)}function Ye(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function P(h){const y={};for(const E in h)y[E]=h[E];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(h,y){let E,C;for(let z=1;z<arguments.length;z++){C=arguments[z];for(E in C)h[E]=C[E];for(let K=0;K<ee.length;K++)E=ee[K],Object.prototype.hasOwnProperty.call(C,E)&&(h[E]=C[E])}}function ue(h){this.src=h,this.g={},this.h=0}ue.prototype.add=function(h,y,E,C,z){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const ae=xe(h,y,C,z);return ae>-1?(y=h[ae],E||(y.fa=!1)):(y=new ie(y,this.src,K,!!C,z),y.fa=E,h.push(y)),y};function Se(h,y){const E=y.type;if(E in h.g){var C=h.g[E],z=Array.prototype.indexOf.call(C,y,void 0),K;(K=z>=0)&&Array.prototype.splice.call(C,z,1),K&&(de(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function xe(h,y,E,C){for(let z=0;z<h.length;++z){const K=h[z];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==C)return z}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Pt={};function lt(h,y,E,C,z){if(Array.isArray(y)){for(let K=0;K<y.length;K++)lt(h,y[K],E,C,z);return null}return E=Ko(E),h&&h[me]?h.J(y,E,p(C)?!!C.capture:!1,z):xs(h,y,E,!1,C,z)}function xs(h,y,E,C,z,K){if(!y)throw Error("Invalid event type");const ae=p(z)?!!z.capture:!!z;let Ie=Ds(h);if(Ie||(h[je]=Ie=new ue(h)),E=Ie.add(y,E,C,ae,K),E.proxy)return E;if(C=Ra(),E.proxy=C,C.src=h,C.listener=E,h.addEventListener)V||(z=ae),z===void 0&&(z=!1),h.addEventListener(y.toString(),C,z);else if(h.attachEvent)h.attachEvent(mi(y.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ra(){function h(E){return y.call(h.src,h.listener,E)}const y=$o;return h}function Aa(h,y,E,C,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)Aa(h,y[K],E,C,z);else C=p(C)?!!C.capture:!!C,E=Ko(E),h&&h[me]?(h=h.i,K=String(y).toString(),K in h.g&&(y=h.g[K],E=xe(y,E,C,z),E>-1&&(de(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[K],h.h--)))):h&&(h=Ds(h))&&(y=h.g[y.toString()],h=-1,y&&(h=xe(y,E,C,z)),(E=h>-1?y[h]:null)&&Ia(E))}function Ia(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[me])Se(y.i,h);else{var E=h.type,C=h.proxy;y.removeEventListener?y.removeEventListener(E,C,h.capture):y.detachEvent?y.detachEvent(mi(E),C):y.addListener&&y.removeListener&&y.removeListener(C),(E=Ds(y))?(Se(E,h),E.h==0&&(E.src=null,y[je]=null)):de(h)}}}function mi(h){return h in Pt?Pt[h]:Pt[h]="on"+h}function $o(h,y){if(h.da)h=!0;else{y=new qe(y,this);const E=h.listener,C=h.ha||h.src;h.fa&&Ia(h),h=E.call(C,y)}return h}function Ds(h){return h=h[je],h instanceof ue?h:null}var Go="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ko(h){return typeof h=="function"?h:(h[Go]||(h[Go]=function(y){return h.handleEvent(y)}),h[Go])}function Et(){O.call(this),this.i=new ue(this),this.M=this,this.G=null}T(Et,O),Et.prototype[me]=!0,Et.prototype.removeEventListener=function(h,y,E,C){Aa(this,h,y,E,C)};function Vt(h,y){var E,C=h.G;if(C)for(E=[];C;C=C.G)E.push(C);if(h=h.M,C=y.type||y,typeof y=="string")y=new N(y,h);else if(y instanceof N)y.target=y.target||h;else{var z=y;y=new N(C,h),oe(y,z)}z=!0;let K,ae;if(E)for(ae=E.length-1;ae>=0;ae--)K=y.g=E[ae],z=Ir(K,C,!0,y)&&z;if(K=y.g=h,z=Ir(K,C,!0,y)&&z,z=Ir(K,C,!1,y)&&z,E)for(ae=0;ae<E.length;ae++)K=y.g=E[ae],z=Ir(K,C,!1,y)&&z}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let C=0;C<E.length;C++)de(E[C]);delete h.g[y],h.h--}}this.G=null},Et.prototype.J=function(h,y,E,C){return this.i.add(String(h),y,!1,E,C)},Et.prototype.K=function(h,y,E,C){return this.i.add(String(h),y,!0,E,C)};function Ir(h,y,E,C){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let K=0;K<y.length;++K){const ae=y[K];if(ae&&!ae.da&&ae.capture==E){const Ie=ae.listener,yt=ae.ha||ae.src;ae.fa&&Se(h.i,ae),z=Ie.call(yt,C)!==!1&&z}}return z&&!C.defaultPrevented}function Bf(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:u.setTimeout(h,y||0)}function jc(h){h.g=Bf(()=>{h.g=null,h.i&&(h.i=!1,jc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class on extends O{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:jc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(h){O.call(this),this.h=h,this.g={}}T(ks,O);var Yo=[];function Qo(h){Be(h.g,function(y,E){this.g.hasOwnProperty(E)&&Ia(y)},h),h.g={}}ks.prototype.N=function(){ks.Z.N.call(this),Qo(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wr=u.JSON.stringify,qf=u.JSON.parse,zc=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Bc(){}function qc(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){N.call(this,"d")}T(Ht,N);function On(){N.call(this,"c")}T(On,N);var gt={},Fc=null;function wa(){return Fc=Fc||new Et}gt.Ia="serverreachability";function Hc(h){N.call(this,gt.Ia,h)}T(Hc,N);function gi(h){const y=wa();Vt(y,new Hc(y))}gt.STAT_EVENT="statevent";function Ns(h,y){N.call(this,gt.STAT_EVENT,h),this.stat=y}T(Ns,N);function bt(h){const y=wa();Vt(y,new Ns(y,h))}gt.Ja="timingevent";function yi(h,y){N.call(this,gt.Ja,h),this.size=y}T(yi,N);function _i(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},y)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Ff(h,y,E,C,z,K){h.info(function(){if(h.g)if(K){var ae="",Ie=K.split("&");for(let $e=0;$e<Ie.length;$e++){var yt=Ie[$e].split("=");if(yt.length>1){const ct=yt[0];yt=yt[1];const Ln=ct.split("_");ae=Ln.length>=2&&Ln[1]=="type"?ae+(ct+"="+yt+"&"):ae+(ct+"=redacted&")}}}else ae=null;else ae=K;return"XMLHTTP REQ ("+C+") [attempt "+z+"]: "+y+`
`+E+`
`+ae})}function $c(h,y,E,C,z,K,ae){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+z+"]: "+y+`
`+E+`
`+K+" "+ae})}function vi(h,y,E,C){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Hf(h,E)+(C?" "+C:"")})}function Os(h,y){h.info(function(){return"TIMEOUT: "+y})}Wn.prototype.info=function(){};function Hf(h,y){if(!h.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var E=K[h];if(!(E.length<2)){var C=E[1];if(Array.isArray(C)&&!(C.length<1)){var z=C[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ae=1;ae<C.length;ae++)C[ae]=""}}}}return wr(K)}catch{return y}}var Ms={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jo;function Ps(){}T(Ps,Bc),Ps.prototype.g=function(){return new XMLHttpRequest},Jo=new Ps;function Ji(h){return encodeURIComponent(String(h))}function Gc(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function Zn(h,y,E,C){this.j=h,this.i=y,this.l=E,this.S=C||1,this.V=new ks(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var St={},zt={};function Ti(h,y,E){h.M=1,h.A=Vs(Rt(y)),h.u=E,h.R=!0,xa(h,null)}function xa(h,y){h.F=Date.now(),Ei(h),h.B=Rt(h.A);var E=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),Oa(E.i,"t",C),h.C=0,E=h.j.L,h.h=new ei,h.g=ou(h.j,E?y:null,!h.u),h.P>0&&(h.O=new on(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,C=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(Yo[0]=z.toString()),z=Yo);for(let K=0;K<z.length;K++){const ae=lt(E,z[K],C||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),gi(),Ff(h.i,h.v,h.B,h.l,h.S,h.u)}Zn.prototype.ba=function(h){h=h.target;const y=this.O;y&&ii(h)==3?y.j():this.Y(h)},Zn.prototype.Y=function(h){try{if(h==this.g)e:{const Ie=ii(this.g),yt=this.g.ya(),$e=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Ie!=4||yt==7||(yt==8||$e<=0?gi(3):gi(2)),bi(this);var y=this.g.ca();this.X=y;var E=$f(this);if(this.o=y==200,$c(this.i,this.v,this.B,this.l,this.S,Ie,y),this.o){if(this.U&&!this.L){t:{if(this.g){var C,z=this.g;if((C=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(C)){var K=C;break t}}K=null}if(h=K)vi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,h);else{this.o=!1,this.m=3,bt(12),bn(this),Mn(this);break e}}if(this.R){h=!0;let ct;for(;!this.K&&this.C<E.length;)if(ct=Yc(this,E),ct==zt){Ie==4&&(this.m=4,bt(14),h=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==St){this.m=4,bt(15),vi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else vi(this.i,this.l,ct,null),Si(this,ct);if(Kc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||E.length!=0||this.h.h||(this.m=1,bt(16),h=!1),this.o=this.o&&h,!h)vi(this.i,this.l,E,"[Invalid Chunked Response]"),bn(this),Mn(this);else if(E.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),fl(ae),ae.P=!0,bt(11))}}else vi(this.i,this.l,E,null),Si(this,E);Ie==4&&bn(this),this.o&&!this.K&&(Ie==4?iu(this.j,this):(this.o=!1,Ei(this)))}else Zi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),bn(this),Mn(this)}}}catch{}};function $f(h){if(!Kc(h))return h.g.la();const y=$t(h.g);if(y==="")return"";let E="";const C=y.length,z=ii(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return bn(h),Mn(h),"";h.h.i=new u.TextDecoder}for(let K=0;K<C;K++)h.h.h=!0,E+=h.h.i.decode(y[K],{stream:!(z&&K==C-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function Kc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Yc(h,y){var E=h.C,C=y.indexOf(`
`,E);return C==-1?zt:(E=Number(y.substring(E,C)),isNaN(E)?St:(C+=1,C+E>y.length?zt:(y=y.slice(C,C+E),h.C=C+E,y)))}Zn.prototype.cancel=function(){this.K=!0,bn(this)};function Ei(h){h.T=Date.now()+h.H,Da(h,h.H)}function Da(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=_i(g(h.aa,h),y)}function bi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Zn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Os(this.i,this.B),this.M!=2&&(gi(),bt(17)),bn(this),this.m=2,Mn(this)):Da(this,this.T-h)};function Mn(h){h.j.I==0||h.K||iu(h.j,h)}function bn(h){bi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Qo(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Si(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Ri(E.h,h))){if(!h.L&&Ri(E.h,h)&&E.I==3){try{var C=E.Ba.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var z=C;if(z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ua(E),Vr(E);else break e;Fs(E),bt(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=_i(g(E.Va,E),6e3));Ci(E.h)<=1&&E.ta&&(E.ta=void 0)}else ki(E,11)}else if((h.L||E.g==h)&&Ua(E),!w(y))for(z=E.Ba.g.parse(y),y=0;y<z.length;y++){let $e=z[y];const ct=$e[0];if(!(ct<=E.K))if(E.K=ct,$e=$e[1],E.I==2)if($e[0]=="c"){E.M=$e[1],E.ba=$e[2];const Ln=$e[3];Ln!=null&&(E.ka=Ln,E.j.info("VER="+E.ka));const Ni=$e[4];Ni!=null&&(E.za=Ni,E.j.info("SVER="+E.za));const ri=$e[5];ri!=null&&typeof ri=="number"&&ri>0&&(C=1.5*ri,E.O=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const si=h.g;if(si){const Hs=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hs){var K=C.h;K.g||Hs.indexOf("spdy")==-1&&Hs.indexOf("quic")==-1&&Hs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(el(K,K.h),K.h=null))}if(C.G){const ja=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(C.wa=ja,Qe(C.J,C.G,ja))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),C=E;var ae=h;if(C.na=au(C,C.L?C.ba:null,C.W),ae.L){tl(C.h,ae);var Ie=ae,yt=C.O;yt&&(Ie.H=yt),Ie.D&&(bi(Ie),Ei(Ie)),C.g=ae}else tu(C);E.i.length>0&&Di(E)}else $e[0]!="stop"&&$e[0]!="close"||ki(E,7);else E.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?ki(E,7):ul(E):$e[0]!="noop"&&E.l&&E.l.qa($e),E.A=0)}}gi(4)}catch{}}var Ct=class{constructor(h,y){this.g=h,this.map=y}};function Wo(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ci(h){return h.h?1:h.g?h.g.size:0}function Ri(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function el(h,y){h.g?h.g.add(y):h.h=y}function tl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Wo.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function nl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return x(h.i)}var Qc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ka(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const C=h[E].indexOf("=");let z,K=null;C>=0?(z=h[E].substring(0,C),K=h[E].substring(C+1)):z=h[E],y(z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Sn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Sn?(this.l=h.l,Bt(this,h.j),this.o=h.o,this.g=h.g,xr(this,h.u),this.h=h.h,il(this,Zc(h.i)),this.m=h.m):h&&(y=String(h).match(Qc))?(this.l=!1,Bt(this,y[1]||"",!0),this.o=Ai(y[2]||""),this.g=Ai(y[3]||"",!0),xr(this,y[4]),this.h=Ai(y[5]||"",!0),il(this,y[6]||"",!0),this.m=Ai(y[7]||"")):(this.l=!1,this.i=new kr(null,this.l))}Sn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Ls(y,Na,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ls(y,Na,!0),"@"),h.push(Ji(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ls(E,E.charAt(0)=="/"?rl:Xc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ls(E,Jc)),h.join("")},Sn.prototype.resolve=function(h){const y=Rt(this);let E=!!h.j;E?Bt(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var C=h.h;if(E)xr(y,h.u);else if(E=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var z=y.h.lastIndexOf("/");z!=-1&&(C=y.h.slice(0,z+1)+C)}if(z=C,z==".."||z==".")C="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){C=z.lastIndexOf("/",0)==0,z=z.split("/");const K=[];for(let ae=0;ae<z.length;){const Ie=z[ae++];Ie=="."?C&&ae==z.length&&K.push(""):Ie==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),C&&ae==z.length&&K.push("")):(K.push(Ie),C=!0)}C=K.join("/")}else C=z}return E?y.h=C:E=h.i.toString()!=="",E?il(y,Zc(h.i)):E=!!h.m,E&&(y.m=h.m),y};function Rt(h){return new Sn(h)}function Bt(h,y,E){h.j=E?Ai(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function xr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function il(h,y,E){y instanceof kr?(h.i=y,Ma(h.i,h.l)):(E||(y=Ls(y,Dr)),h.i=new kr(y,h.l))}function Qe(h,y,E){h.i.set(y,E)}function Vs(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ai(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ls(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,hn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function hn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Na=/[#\/\?@]/g,Xc=/[#\?:]/g,rl=/[#\?]/g,Dr=/[#\?@]/g,Jc=/#/g;function kr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function fn(h){h.g||(h.g=new Map,h.h=0,h.i&&ka(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=kr.prototype,i.add=function(h,y){fn(this),this.i=null,h=Nr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function Wc(h,y){fn(h),y=Nr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function sl(h,y){return fn(h),y=Nr(h,y),h.g.has(y)}i.forEach=function(h,y){fn(this),this.g.forEach(function(E,C){E.forEach(function(z){h.call(y,z,C,this)},this)},this)};function al(h,y){fn(h);let E=[];if(typeof y=="string")sl(h,y)&&(E=E.concat(h.g.get(Nr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}i.set=function(h,y){return fn(this),this.i=null,h=Nr(this,h),sl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=al(this,h),h.length>0?String(h[0]):y):y};function Oa(h,y,E){Wc(h,y),E.length>0&&(h.i=null,h.g.set(Nr(h,y),x(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let C=0;C<y.length;C++){var E=y[C];const z=Ji(E);E=al(this,E);for(let K=0;K<E.length;K++){let ae=z;E[K]!==""&&(ae+="="+Ji(E[K])),h.push(ae)}}return this.i=h.join("&")};function Zc(h){const y=new kr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Nr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ma(h,y){y&&!h.j&&(fn(h),h.i=null,h.g.forEach(function(E,C){const z=C.toLowerCase();C!=z&&(Wc(this,C),Oa(this,z,E))},h)),h.j=y}function ti(h,y){const E=new Wn;if(u.Image){const C=new Image;C.onload=_(Pn,E,"TestLoadImage: loaded",!0,y,C),C.onerror=_(Pn,E,"TestLoadImage: error",!1,y,C),C.onabort=_(Pn,E,"TestLoadImage: abort",!1,y,C),C.ontimeout=_(Pn,E,"TestLoadImage: timeout",!1,y,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else y(!1)}function ol(h,y){const E=new Wn,C=new AbortController,z=setTimeout(()=>{C.abort(),Pn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:C.signal}).then(K=>{clearTimeout(z),K.ok?Pn(E,"TestPingServer: ok",!0,y):Pn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Pn(E,"TestPingServer: error",!1,y)})}function Pn(h,y,E,C,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),C(E)}catch{}}function Or(){this.g=new zc}function Ii(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Ii,Bc),Ii.prototype.g=function(){return new Us(this.i,this.h)};function Us(h,y){Et.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Us,Et),i=Us.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ni(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||u).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Mr(this):ni(this),this.readyState==3&&Pa(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Mr(this))},i.Na=function(h){this.g&&(this.response=h,Mr(this))},i.ga=function(){this.g&&Mr(this)};function Mr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ni(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function ni(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vn(h){let y="";return Be(h,function(E,C){y+=C,y+=":",y+=E,y+=`\r
`}),y}function js(h,y,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=Vn(E),typeof h=="string"?E!=null&&Ji(E):Qe(h,y,E))}function Ze(h){Et.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ze,Et);var wi=/^https?$/i,ll=["POST","PUT"];i=Ze.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jo.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(K){zs(this,K);return}if(h=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var z in C)E.set(z,C[z]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const K of C.keys())E.set(K,C.get(K));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),z=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(ll,y,void 0)>=0)||C||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of E)this.g.setRequestHeader(K,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){zs(this,K)}};function zs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,cl(h),Wi(h)}function cl(h){h.A||(h.A=!0,Vt(h,"complete"),Vt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Vt(this,"complete"),Vt(this,"abort"),Wi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),Ze.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Bs(this):this.Xa())},i.Xa=function(){Bs(this)};function Bs(h){if(h.h&&typeof c<"u"){if(h.v&&ii(h)==4)setTimeout(h.Ca.bind(h),0);else if(Vt(h,"readystatechange"),ii(h)==4){h.h=!1;try{const K=h.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var C;if(C=K===0){let ae=String(h.D).match(Qc)[1]||null;!ae&&u.self&&u.self.location&&(ae=u.self.location.protocol.slice(0,-1)),C=!wi.test(ae?ae.toLowerCase():"")}E=C}if(E)Vt(h,"complete"),Vt(h,"success");else{h.o=6;try{var z=ii(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",cl(h)}}finally{Wi(h)}}}}function Wi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Vt(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ii(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),qf(y)}};function $t(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(h){const y={};h=(h.g&&ii(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(w(h[C]))continue;var E=Gc(h[C]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[z]||[];y[z]=K,K.push(E)}Ye(y,function(C){return C.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Pr(h){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,h),this.Za=xi("retryDelaySeedMs",1e4,h),this.Ta=xi("forwardChannelMaxRetries",2,h),this.va=xi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Wo(h&&h.concurrentRequestLimit),this.Ba=new Or,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Pr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,E,C){bt(0),this.W=h,this.H=y||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.J=au(this,null,this.W),Di(this)};function ul(h){if(Va(h),h.I==3){var y=h.V++,E=Rt(h.J);if(Qe(E,"SID",h.M),Qe(E,"RID",y),Qe(E,"TYPE","terminate"),qs(h,E),y=new Zn(h,h.j,y),y.M=2,y.A=Vs(Rt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=y.A,E=!0),E||(y.g=ou(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ei(y)}su(h)}function Vr(h){h.g&&(fl(h),h.g.cancel(),h.g=null)}function Va(h){Vr(h),h.v&&(u.clearTimeout(h.v),h.v=null),Ua(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Di(h){if(!Zo(h.h)&&!h.m){h.m=!0;var y=h.Ea;Ee||I(),Te||(Ee(),Te=!0),D.add(y,h),h.D=0}}function La(h,y){return Ci(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=_i(g(h.Ea,h,y),ru(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new Zn(this,this.j,h);let K=this.o;if(this.U&&(K?(K=P(K),oe(K,this.U)):K=this.U),this.u!==null||this.R||(z.J=K,K=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=eu(this,z,y),E=Rt(this.J),Qe(E,"RID",h),Qe(E,"CVER",22),this.G&&Qe(E,"X-HTTP-Session-Id",this.G),qs(this,E),K&&(this.R?y="headers="+Ji(Vn(K))+"&"+y:this.u&&js(E,this.u,K)),el(this.h,z),this.Ra&&Qe(E,"TYPE","init"),this.S?(Qe(E,"$req",y),Qe(E,"SID","null"),z.U=!0,Ti(z,E,null)):Ti(z,E,y),this.I=2}}else this.I==3&&(h?hl(this,h):this.i.length==0||Zo(this.h)||hl(this))};function hl(h,y){var E;y?E=y.l:E=h.V++;const C=Rt(h.J);Qe(C,"SID",h.M),Qe(C,"RID",E),Qe(C,"AID",h.K),qs(h,C),h.u&&h.o&&js(C,h.u,h.o),E=new Zn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=eu(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),el(h.h,E),Ti(E,C,y)}function qs(h,y){h.H&&Be(h.H,function(E,C){Qe(y,C,E)}),h.l&&Be({},function(E,C){Qe(y,C,E)})}function eu(h,y,E){E=Math.min(h.i.length,E);const C=h.l?g(h.l.Ka,h.l,h):null;e:{var z=h.i;let Ie=-1;for(;;){const yt=["count="+E];Ie==-1?E>0?(Ie=z[0].g,yt.push("ofs="+Ie)):Ie=0:yt.push("ofs="+Ie);let $e=!0;for(let ct=0;ct<E;ct++){var K=z[ct].g;const Ln=z[ct].map;if(K-=Ie,K<0)Ie=Math.max(0,z[ct].g-100),$e=!1;else try{K="req"+K+"_"||"";try{var ae=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Ni,ri]of ae){let si=ri;p(ri)&&(si=wr(ri)),yt.push(K+Ni+"="+encodeURIComponent(si))}}catch(Ni){throw yt.push(K+"type="+encodeURIComponent("_badmap")),Ni}}catch{C&&C(Ln)}}if($e){ae=yt.join("&");break e}}ae=void 0}return h=h.i.splice(0,E),y.G=h,ae}function tu(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;Ee||I(),Te||(Ee(),Te=!0),D.add(y,h),h.A=0}}function Fs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=_i(g(h.Da,h),ru(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=_i(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Vr(this),nu(this))};function fl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function nu(h){h.g=new Zn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Rt(h.na);Qe(y,"RID","rpc"),Qe(y,"SID",h.M),Qe(y,"AID",h.K),Qe(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(y,"TO",h.ia),Qe(y,"TYPE","xmlhttp"),qs(h,y),h.u&&h.o&&js(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Vs(Rt(y)),E.u=null,E.R=!0,xa(E,h)}i.Va=function(){this.C!=null&&(this.C=null,Vr(this),Fs(this),bt(19))};function Ua(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function iu(h,y){var E=null;if(h.g==y){Ua(h),fl(h),h.g=null;var C=2}else if(Ri(h.h,y))E=y.G,tl(h.h,y),C=1;else return;if(h.I!=0){if(y.o)if(C==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var z=h.D;C=wa(),Vt(C,new yi(C,E)),Di(h)}else tu(h);else if(z=y.m,z==3||z==0&&y.X>0||!(C==1&&La(h,y)||C==2&&Fs(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),z){case 1:ki(h,5);break;case 4:ki(h,10);break;case 3:ki(h,6);break;default:ki(h,2)}}}function ru(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function ki(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),C=h.Ua;const z=!C;C=new Sn(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Bt(C,"https"),Vs(C),z?ti(C.toString(),E):ol(C.toString(),E)}else bt(2);h.I=0,h.l&&h.l.pa(y),su(h),Va(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function su(h){if(h.I=0,h.ja=[],h.l){const y=nl(h.h);(y.length!=0||h.i.length!=0)&&(j(h.ja,y),j(h.ja,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.oa()}}function au(h,y,E){var C=E instanceof Sn?Rt(E):new Sn(E);if(C.g!="")y&&(C.g=y+"."+C.g),xr(C,C.u);else{var z=u.location;C=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const K=new Sn(null);C&&Bt(K,C),y&&(K.g=y),z&&xr(K,z),E&&(K.h=E),C=K}return E=h.G,y=h.wa,E&&y&&Qe(C,E,y),Qe(C,"VER",h.ka),qs(h,C),C}function ou(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Ze(new Ii({ab:E})):new Ze(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function lu(){}i=lu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Lr(){}Lr.prototype.g=function(h,y){return new ln(h,y)};function ln(h,y){Et.call(this),this.g=new Pr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!w(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!w(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new er(this)}T(ln,Et),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){ul(this.g)},ln.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=wr(h),h=E);y.i.push(new Ct(y.Ya++,h)),y.I==3&&Di(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,ln.Z.N.call(this)};function cu(h){Ht.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(cu,Ht);function uu(){On.call(this),this.status=1}T(uu,On);function er(h){this.g=h}T(er,lu),er.prototype.ra=function(){Vt(this.g,"a")},er.prototype.qa=function(h){Vt(this.g,new cu(h))},er.prototype.pa=function(h){Vt(this.g,new uu)},er.prototype.oa=function(){Vt(this.g,"b")},Lr.prototype.createWebChannel=Lr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,RS=function(){return new Lr},CS=function(){return wa()},SS=gt,Em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ms.NO_ERROR=0,Ms.TIMEOUT=8,Ms.HTTP_ERROR=6,wh=Ms,Xo.COMPLETE="complete",bS=Xo,qc.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,ec=qc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,ES=Ze}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let zo="12.9.0";function Wk(i){zo=i}const pa=new Zm("@firebase/firestore");function _o(){return pa.logLevel}function ce(i,...e){if(pa.logLevel<=Pe.DEBUG){const t=e.map(fg);pa.debug(`Firestore (${zo}): ${i}`,...t)}}function Cr(i,...e){if(pa.logLevel<=Pe.ERROR){const t=e.map(fg);pa.error(`Firestore (${zo}): ${i}`,...t)}}function ma(i,...e){if(pa.logLevel<=Pe.WARN){const t=e.map(fg);pa.warn(`Firestore (${zo}): ${i}`,...t)}}function fg(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function ve(i,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,AS(i,r,t)}function AS(i,e,t){let r=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Cr(r),new Error(r)}function Ke(i,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,i||AS(e,o,r)}function Ae(i,e){return i}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Qi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class IS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(tn.UNAUTHENTICATED)))}shutdown(){}}class eN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class tN{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let c=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Tr,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const m=c;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},p=m=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Tr)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new IS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class nN{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class iN{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new nN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $T{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const r=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $T(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new $T(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}class dg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=sN(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<t&&(r+=e.charAt(o[c]%62))}return r}}function Ve(i,e){return i<e?-1:i>e?1:0}function bm(i,e){const t=Math.min(i.length,e.length);for(let r=0;r<t;r++){const o=i.charAt(r),c=e.charAt(r);if(o!==c)return tm(o)===tm(c)?Ve(o,c):tm(o)?1:-1}return Ve(i.length,e.length)}const aN=55296,oN=57343;function tm(i){const e=i.charCodeAt(0);return e>=aN&&e<=oN}function xo(i,e,t){return i.length===e.length&&i.every(((r,o)=>t(r,e[o])))}const GT="__name__";class Li{constructor(e,t,r){t===void 0?t=0:t>e.length&&ve(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ve(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const c=Li.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return Ve(e.length,t.length)}static compareSegments(e,t){const r=Li.isNumericId(e),o=Li.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Li.extractNumericId(e).compare(Li.extractNumericId(t)):bm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ms.fromString(e.substring(4,e.length-2))}}class rt extends Li{construct(e,t,r){return new rt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new rt(t)}static emptyPath(){return new rt([])}}const lN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Li{construct(e,t,r){return new Jt(e,t,r)}static isValidIdentifier(e){return lN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GT}static keyField(){return new Jt([GT])}static fromServerFormat(e){const t=[];let r="",o=0;const c=()=>{if(r.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,o+=2}else p==="`"?(u=!u,o++):p!=="."||u?(r+=p,o++):(c(),o++)}if(c(),u)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}function wS(i,e,t){if(!t)throw new le(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function cN(i,e,t,r){if(e===!0&&r===!0)throw new le(Z.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function KT(i){if(!ye.isDocumentKey(i))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function YT(i){if(ye.isDocumentKey(i))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function xS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Tf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve(12329,{type:typeof i})}function En(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Tf(i);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Mt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Nc(i,e){if(!xS(i))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){t=`JSON missing required field: '${r}'`;break}const u=i[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){t=`Expected '${r}' field to equal '${c.value}'`;break}}if(t)throw new le(Z.INVALID_ARGUMENT,t);return!0}const QT=-62135596800,XT=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*XT);return new ot(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<QT)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XT}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nc(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-QT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Mt("string",ot._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ot(0,0))}static max(){return new Ce(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const mc=-1;function uN(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(r===1e9?new ot(t+1,0):new ot(t,r));return new Ts(o,ye.empty(),e)}function hN(i){return new Ts(i.readTime,i.key,mc)}class Ts{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ts(Ce.min(),ye.empty(),mc)}static max(){return new Ts(Ce.max(),ye.empty(),mc)}}function fN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(i.documentKey,e.documentKey),t!==0?t:Ve(i.largestBatchId,e.largestBatchId))}const dN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Bo(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==dN)throw i;ce("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,r)=>{t(e)}))}static reject(e){return new te(((t,r)=>{r(e)}))}static waitFor(e){return new te(((t,r)=>{let o=0,c=0,u=!1;e.forEach((p=>{++o,p.next((()=>{++c,u&&c===o&&t()}),(m=>r(m)))})),u=!0,c===o&&t()}))}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next((o=>o?te.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,c)=>{r.push(t.call(this,o,c))})),this.waitFor(r)}static mapArray(e,t){return new te(((r,o)=>{const c=e.length,u=new Array(c);let p=0;for(let m=0;m<c;m++){const g=m;t(e[g]).next((_=>{u[g]=_,++p,p===c&&r(u)}),(_=>o(_)))}}))}static doWhile(e,t){return new te(((r,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):r()};c()}))}}function mN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function qo(i){return i.name==="IndexedDbTransactionError"}class Ef{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ef.ce=-1;const pg=-1;function bf(i){return i==null}function Qh(i){return i===0&&1/i==-1/0}function gN(i){return typeof i=="number"&&Number.isInteger(i)&&!Qh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const DS="";function yN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=JT(e)),e=_N(i.get(t),e);return JT(e)}function _N(i,e){let t=e;const r=i.length;for(let o=0;o<r;o++){const c=i.charAt(o);switch(c){case"\0":t+="";break;case DS:t+="";break;default:t+=c}}return t}function JT(i){return i+DS+""}function WT(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function As(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function kS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ft{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}}class yh{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,r,o,c){this.key=e,this.value=t,this.color=r??Xt.RED,this.left=o??Xt.EMPTY,this.right=c??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,c){return new Xt(e??this.key,t??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,r),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,t,r,o,c){return this}insert(e,t,r){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ZT(this.data.getIterator())}getIteratorFrom(e){return new ZT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class ZT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Nn([])}unionWith(e){let t=new Ut(Jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Nn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class NS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new NS("Invalid base64 string: "+c):c}})(e);return new Wt(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new Wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const vN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const t=vN.exec(i);if(Ke(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(i.seconds),nanos:Tt(i.nanos)}}function Tt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function bs(i){return typeof i=="string"?Wt.fromBase64String(i):Wt.fromUint8Array(i)}const OS="server_timestamp",MS="__type__",PS="__previous_value__",VS="__local_write_time__";function mg(i){return(i?.mapValue?.fields||{})[MS]?.stringValue===OS}function Sf(i){const e=i.mapValue.fields[PS];return mg(e)?Sf(e):e}function gc(i){const e=Es(i.mapValue.fields[VS].timestampValue);return new ot(e.seconds,e.nanos)}class TN{constructor(e,t,r,o,c,u,p,m,g,_,T){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_,this.apiKey=T}}const Xh="(default)";class yc{constructor(e,t){this.projectId=e,this.database=t||Xh}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}function EN(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(i.options.projectId,e)}const LS="__type__",bN="__max__",_h={mapValue:{}},US="__vector__",Jh="value";function Ss(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?mg(i)?4:CN(i)?9007199254740991:SN(i)?10:11:ve(28295,{value:i})}function Gi(i,e){if(i===e)return!0;const t=Ss(i);if(t!==Ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return gc(i).isEqual(gc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Es(o.timestampValue),p=Es(c.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return bs(o.bytesValue).isEqual(bs(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return Tt(o.geoPointValue.latitude)===Tt(c.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Tt(o.integerValue)===Tt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=Tt(o.doubleValue),p=Tt(c.doubleValue);return u===p?Qh(u)===Qh(p):isNaN(u)&&isNaN(p)}return!1})(i,e);case 9:return xo(i.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},p=c.mapValue.fields||{};if(WT(u)!==WT(p))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(p[m]===void 0||!Gi(u[m],p[m])))return!1;return!0})(i,e);default:return ve(52216,{left:i})}}function _c(i,e){return(i.values||[]).find((t=>Gi(t,e)))!==void 0}function Do(i,e){if(i===e)return 0;const t=Ss(i),r=Ss(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(c,u){const p=Tt(c.integerValue||c.doubleValue),m=Tt(u.integerValue||u.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1})(i,e);case 3:return eE(i.timestampValue,e.timestampValue);case 4:return eE(gc(i),gc(e));case 5:return bm(i.stringValue,e.stringValue);case 6:return(function(c,u){const p=bs(c),m=bs(u);return p.compareTo(m)})(i.bytesValue,e.bytesValue);case 7:return(function(c,u){const p=c.split("/"),m=u.split("/");for(let g=0;g<p.length&&g<m.length;g++){const _=Ve(p[g],m[g]);if(_!==0)return _}return Ve(p.length,m.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,u){const p=Ve(Tt(c.latitude),Tt(u.latitude));return p!==0?p:Ve(Tt(c.longitude),Tt(u.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return tE(i.arrayValue,e.arrayValue);case 10:return(function(c,u){const p=c.fields||{},m=u.fields||{},g=p[Jh]?.arrayValue,_=m[Jh]?.arrayValue,T=Ve(g?.values?.length||0,_?.values?.length||0);return T!==0?T:tE(g,_)})(i.mapValue,e.mapValue);case 11:return(function(c,u){if(c===_h.mapValue&&u===_h.mapValue)return 0;if(c===_h.mapValue)return 1;if(u===_h.mapValue)return-1;const p=c.fields||{},m=Object.keys(p),g=u.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let T=0;T<m.length&&T<_.length;++T){const S=bm(m[T],_[T]);if(S!==0)return S;const x=Do(p[m[T]],g[_[T]]);if(x!==0)return x}return Ve(m.length,_.length)})(i.mapValue,e.mapValue);default:throw ve(23264,{he:t})}}function eE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const t=Es(i),r=Es(e),o=Ve(t.seconds,r.seconds);return o!==0?o:Ve(t.nanos,r.nanos)}function tE(i,e){const t=i.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const c=Do(t[o],r[o]);if(c)return c}return Ve(t.length,r.length)}function ko(i){return Sm(i)}function Sm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const r=Es(t);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return bs(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return ye.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let r="[",o=!0;for(const c of t.values||[])o?o=!1:r+=",",r+=Sm(c);return r+"]"})(i.arrayValue):"mapValue"in i?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const u of r)c?c=!1:o+=",",o+=`${u}:${Sm(t.fields[u])}`;return o+"}"})(i.mapValue):ve(61005,{value:i})}function xh(i){switch(Ss(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sf(i);return e?16+xh(e):16;case 5:return 2*i.stringValue.length;case 6:return bs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+xh(c)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return As(r.fields,((c,u)=>{o+=c.length+xh(u)})),o})(i.mapValue);default:throw ve(13486,{value:i})}}function nE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Cm(i){return!!i&&"integerValue"in i}function gg(i){return!!i&&"arrayValue"in i}function iE(i){return!!i&&"nullValue"in i}function rE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Dh(i){return!!i&&"mapValue"in i}function SN(i){return(i?.mapValue?.fields||{})[LS]?.stringValue===US}function oc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return As(i.mapValue.fields,((t,r)=>e.mapValue.fields[t]=oc(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=oc(i.arrayValue.values[t]);return e}return{...i}}function CN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===bN}class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(t)}setAll(e){let t=Jt.emptyPath(),r={},o=[];e.forEach(((u,p)=>{if(!t.isImmediateParentOf(p)){const m=this.getFieldsMap(t);this.applyChanges(m,r,o),r={},o=[],t=p.popLast()}u?r[p.lastSegment()]=oc(u):o.push(p.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,r,o)}delete(e){const t=this.field(e.popLast());Dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){As(t,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Tn(oc(this.value))}}function jS(i){const e=[];return As(i.fields,((t,r)=>{const o=new Jt([t]);if(Dh(r)){const c=jS(r.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new Nn(e)}class rn{constructor(e,t,r,o,c,u,p){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=c,this.data=u,this.documentState=p}static newInvalidDocument(e){return new rn(e,0,Ce.min(),Ce.min(),Ce.min(),Tn.empty(),0)}static newFoundDocument(e,t,r,o){return new rn(e,1,t,Ce.min(),r,o,0)}static newNoDocument(e,t){return new rn(e,2,t,Ce.min(),Ce.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,Ce.min(),Ce.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wh{constructor(e,t){this.position=e,this.inclusive=t}}function sE(i,e,t){let r=0;for(let o=0;o<i.position.length;o++){const c=e[o],u=i.position[o];if(c.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),t.key):r=Do(u,t.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function aE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Gi(i.position[t],e.position[t]))return!1;return!0}class Zh{constructor(e,t="asc"){this.field=e,this.dir=t}}function RN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class zS{}class Ot extends zS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new IN(e,t,r):t==="array-contains"?new DN(e,r):t==="in"?new kN(e,r):t==="not-in"?new NN(e,r):t==="array-contains-any"?new ON(e,r):new Ot(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new wN(e,r):new xN(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Do(t,this.value)):t!==null&&Ss(this.value)===Ss(t)&&this.matchesComparison(Do(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends zS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new di(e,t)}matches(e){return BS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BS(i){return i.op==="and"}function qS(i){return AN(i)&&BS(i)}function AN(i){for(const e of i.filters)if(e instanceof di)return!1;return!0}function Rm(i){if(i instanceof Ot)return i.field.canonicalString()+i.op.toString()+ko(i.value);if(qS(i))return i.filters.map((e=>Rm(e))).join(",");{const e=i.filters.map((t=>Rm(t))).join(",");return`${i.op}(${e})`}}function FS(i,e){return i instanceof Ot?(function(r,o){return o instanceof Ot&&r.op===o.op&&r.field.isEqual(o.field)&&Gi(r.value,o.value)})(i,e):i instanceof di?(function(r,o){return o instanceof di&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,u,p)=>c&&FS(u,o.filters[p])),!0):!1})(i,e):void ve(19439)}function HS(i){return i instanceof Ot?(function(t){return`${t.field.canonicalString()} ${t.op} ${ko(t.value)}`})(i):i instanceof di?(function(t){return t.op.toString()+" {"+t.getFilters().map(HS).join(" ,")+"}"})(i):"Filter"}class IN extends Ot{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class wN extends Ot{constructor(e,t){super(e,"in",t),this.keys=$S("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class xN extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=$S("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function $S(i,e){return(e.arrayValue?.values||[]).map((t=>ye.fromName(t.referenceValue)))}class DN extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gg(t)&&_c(t.arrayValue,this.value)}}class kN extends Ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_c(this.value.arrayValue,t)}}class NN extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_c(this.value.arrayValue,t)}}class ON extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>_c(this.value.arrayValue,r)))}}class MN{constructor(e,t=null,r=[],o=[],c=null,u=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=u,this.endAt=p,this.Te=null}}function oE(i,e=null,t=[],r=[],o=null,c=null,u=null){return new MN(i,e,t,r,o,c,u)}function yg(i){const e=Ae(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Rm(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),bf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ko(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ko(r))).join(",")),e.Te=t}return e.Te}function _g(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!RN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!FS(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!aE(i.startAt,e.startAt)&&aE(i.endAt,e.endAt)}function Am(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Oc{constructor(e,t=null,r=[],o=[],c=null,u="F",p=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=u,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function PN(i,e,t,r,o,c,u,p){return new Oc(i,e,t,r,o,c,u,p)}function Cf(i){return new Oc(i)}function lE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function VN(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function GS(i){return i.collectionGroup!==null}function lc(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let p=new Ut(Jt.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Zh(c,r))})),t.has(Jt.keyField().canonicalString())||e.Ie.push(new Zh(Jt.keyField(),r))}return e.Ie}function Bi(i){const e=Ae(i);return e.Ee||(e.Ee=LN(e,lc(i))),e.Ee}function LN(i,e){if(i.limitType==="F")return oE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Zh(o.field,c)}));const t=i.endAt?new Wh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Wh(i.startAt.position,i.startAt.inclusive):null;return oE(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function Im(i,e){const t=i.filters.concat([e]);return new Oc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function ef(i,e,t){return new Oc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Rf(i,e){return _g(Bi(i),Bi(e))&&i.limitType===e.limitType}function KS(i){return`${yg(Bi(i))}|lt:${i.limitType}`}function vo(i){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>HS(o))).join(", ")}]`),bf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>ko(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>ko(o))).join(",")),`Target(${r})`})(Bi(i))}; limitType=${i.limitType})`}function Af(i,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ye.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(i,e)&&(function(r,o){for(const c of lc(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(u,p,m){const g=sE(u,p,m);return u.inclusive?g<=0:g<0})(r.startAt,lc(r),o)||r.endAt&&!(function(u,p,m){const g=sE(u,p,m);return u.inclusive?g>=0:g>0})(r.endAt,lc(r),o))})(i,e)}function UN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function YS(i){return(e,t)=>{let r=!1;for(const o of lc(i)){const c=jN(o,e,t);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function jN(i,e,t){const r=i.field.isKeyField()?ye.comparator(e.key,t.key):(function(c,u,p){const m=u.data.field(c),g=p.data.field(c);return m!==null&&g!==null?Do(m,g):ve(42886)})(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return ve(19790,{direction:i.dir})}}class Ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,((t,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return kS(this.inner)}size(){return this.innerSize}}const zN=new ft(ye.comparator);function Rr(){return zN}const QS=new ft(ye.comparator);function tc(...i){let e=QS;for(const t of i)e=e.insert(t.key,t);return e}function XS(i){let e=QS;return i.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function la(){return cc()}function JS(){return cc()}function cc(){return new Ta((i=>i.toString()),((i,e)=>i.isEqual(e)))}const BN=new ft(ye.comparator),qN=new Ut(ye.comparator);function Le(...i){let e=qN;for(const t of i)e=e.add(t);return e}const FN=new Ut(Ve);function HN(){return FN}function vg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function WS(i){return{integerValue:""+i}}function ZS(i,e){return gN(e)?WS(e):vg(i,e)}class If{constructor(){this._=void 0}}function $N(i,e,t){return i instanceof tf?(function(o,c){const u={fields:{[MS]:{stringValue:OS},[VS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&mg(c)&&(c=Sf(c)),c&&(u.fields[PS]=c),{mapValue:u}})(t,e):i instanceof No?t1(i,e):i instanceof vc?n1(i,e):(function(o,c){const u=e1(o,c),p=cE(u)+cE(o.Ae);return Cm(u)&&Cm(o.Ae)?WS(p):vg(o.serializer,p)})(i,e)}function GN(i,e,t){return i instanceof No?t1(i,e):i instanceof vc?n1(i,e):t}function e1(i,e){return i instanceof Tc?(function(r){return Cm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class tf extends If{}class No extends If{constructor(e){super(),this.elements=e}}function t1(i,e){const t=i1(e);for(const r of i.elements)t.some((o=>Gi(o,r)))||t.push(r);return{arrayValue:{values:t}}}class vc extends If{constructor(e){super(),this.elements=e}}function n1(i,e){let t=i1(e);for(const r of i.elements)t=t.filter((o=>!Gi(o,r)));return{arrayValue:{values:t}}}class Tc extends If{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function cE(i){return Tt(i.integerValue||i.doubleValue)}function i1(i){return gg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class r1{constructor(e,t){this.field=e,this.transform=t}}function KN(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof No&&o instanceof No||r instanceof vc&&o instanceof vc?xo(r.elements,o.elements,Gi):r instanceof Tc&&o instanceof Tc?Gi(r.Ae,o.Ae):r instanceof tf&&o instanceof tf})(i.transform,e.transform)}class YN{constructor(e,t){this.version=e,this.transformResults=t}}class Qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class wf{}function s1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Tg(i.key,Qn.none()):new Mc(i.key,i.data,Qn.none());{const t=i.data,r=Tn.empty();let o=new Ut(Jt.comparator);for(let c of e.fields)if(!o.has(c)){let u=t.field(c);u===null&&c.length>1&&(c=c.popLast(),u=t.field(c)),u===null?r.delete(c):r.set(c,u),o=o.add(c)}return new Is(i.key,r,new Nn(o.toArray()),Qn.none())}}function QN(i,e,t){i instanceof Mc?(function(o,c,u){const p=o.value.clone(),m=hE(o.fieldTransforms,c,u.transformResults);p.setAll(m),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(i,e,t):i instanceof Is?(function(o,c,u){if(!kh(o.precondition,c))return void c.convertToUnknownDocument(u.version);const p=hE(o.fieldTransforms,c,u.transformResults),m=c.data;m.setAll(a1(o)),m.setAll(p),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(i,e,t):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function uc(i,e,t,r){return i instanceof Mc?(function(c,u,p,m){if(!kh(c.precondition,u))return p;const g=c.value.clone(),_=fE(c.fieldTransforms,m,u);return g.setAll(_),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(i,e,t,r):i instanceof Is?(function(c,u,p,m){if(!kh(c.precondition,u))return p;const g=fE(c.fieldTransforms,m,u),_=u.data;return _.setAll(a1(c)),_.setAll(g),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(i,e,t,r):(function(c,u,p){return kh(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p})(i,e,t)}function XN(i,e){let t=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),c=e1(r.transform,o||null);c!=null&&(t===null&&(t=Tn.empty()),t.set(r.field,c))}return t||null}function uE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&xo(r,o,((c,u)=>KN(c,u)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Mc extends wf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Is extends wf{constructor(e,t,r,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function a1(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}})),e}function hE(i,e,t){const r=new Map;Ke(i.length===t.length,32656,{Ve:t.length,de:i.length});for(let o=0;o<t.length;o++){const c=i[o],u=c.transform,p=e.data.field(c.field);r.set(c.field,GN(u,p,t[o]))}return r}function fE(i,e,t){const r=new Map;for(const o of i){const c=o.transform,u=t.data.field(o.field);r.set(o.field,$N(c,u,e))}return r}class Tg extends wf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JN extends wf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class WN{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&QN(c,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=uc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=uc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=JS();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let p=this.applyToLocalView(u,c.mutatedFields);p=t.has(o.key)?null:p;const m=s1(u,p);m!==null&&r.set(o.key,m),u.isValidDocument()||u.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Le())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,((t,r)=>uE(t,r)))&&xo(this.baseMutations,e.baseMutations,((t,r)=>uE(t,r)))}}class Eg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return BN})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,r[u].version);return new Eg(e,t,r,o)}}class ZN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class eO{constructor(e,t){this.count=e,this.unchangedNames=t}}var kt,ze;function tO(i){switch(i){case Z.OK:return ve(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ve(15467,{code:i})}}function o1(i){if(i===void 0)return Cr("GRPC error has no .code"),Z.UNKNOWN;switch(i){case kt.OK:return Z.OK;case kt.CANCELLED:return Z.CANCELLED;case kt.UNKNOWN:return Z.UNKNOWN;case kt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case kt.INTERNAL:return Z.INTERNAL;case kt.UNAVAILABLE:return Z.UNAVAILABLE;case kt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case kt.NOT_FOUND:return Z.NOT_FOUND;case kt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case kt.ABORTED:return Z.ABORTED;case kt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case kt.DATA_LOSS:return Z.DATA_LOSS;default:return ve(39323,{code:i})}}(ze=kt||(kt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function nO(){return new TextEncoder}const iO=new ms([4294967295,4294967295],0);function dE(i){const e=nO().encode(i),t=new TS;return t.update(e),new Uint8Array(t.digest())}function pE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ms([t,r],0),new ms([o,c],0)]}class bg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new nc(`Invalid padding: ${t}`);if(r<0)throw new nc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new nc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ms.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(ms.fromNumber(r)));return o.compare(iO)===1&&(o=new ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=dE(e),[r,o]=pE(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,o,c);if(!this.we(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new bg(c,o,t);return r.forEach((p=>u.insert(p))),u}insert(e){if(this.ge===0)return;const t=dE(e),[r,o]=pE(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,o,c);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xf{constructor(e,t,r,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new xf(Ce.min(),o,new ft(Ve),Rr(),Le())}}class Pc{constructor(e,t,r,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Pc(r,t,Le(),Le(),Le())}}class Nh{constructor(e,t,r,o){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=o}}class l1{constructor(e,t){this.targetId=e,this.Ce=t}}class c1{constructor(e,t,r=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class mE{constructor(){this.ve=0,this.Fe=gE(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),t=Le(),r=Le();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ve(38017,{changeType:c})}})),new Pc(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=gE()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class rO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rr(),this.He=vh(),this.Je=vh(),this.Ze=new ft(Ve)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(Am(c))if(r===0){const u=new ye(c.path);this.et(t,u,rn.newNoDocument(u,Ce.min()))}else Ke(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const p=this.ut(e),m=p?this.ct(p,e,u):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=t;let u,p;try{u=bs(r).toUint8Array()}catch(m){if(m instanceof NS)return ma("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new bg(u,o,c)}catch(m){return ma(m instanceof nc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((c=>{const u=this.Ge.ht(),p=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,u)=>{const p=this.ot(u);if(p){if(c.current&&Am(p.target)){const m=new ye(p.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,rn.newNoDocument(m,e))}c.Be&&(t.set(u,c.ke()),c.Ke())}}));let r=Le();this.Je.forEach(((c,u)=>{let p=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new xf(e,t,this.Ze,this.je,r);return this.je=Rr(),this.He=vh(),this.Je=vh(),this.Ze=new ft(Ve),o}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new mE,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Ut(Ve),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Ut(Ve),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function vh(){return new ft(ye.comparator)}function gE(){return new ft(ye.comparator)}const sO={asc:"ASCENDING",desc:"DESCENDING"},aO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oO={and:"AND",or:"OR"};class lO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wm(i,e){return i.useProto3Json||bf(e)?e:{value:e}}function nf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function cO(i,e){return nf(i,e.toTimestamp())}function qi(i){return Ke(!!i,49232),Ce.fromTimestamp((function(t){const r=Es(t);return new ot(r.seconds,r.nanos)})(i))}function Sg(i,e){return xm(i,e).canonicalString()}function xm(i,e){const t=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function h1(i){const e=rt.fromString(i);return Ke(g1(e),10190,{key:e.toString()}),e}function Dm(i,e){return Sg(i.databaseId,e.path)}function nm(i,e){const t=h1(e);if(t.get(1)!==i.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ye(d1(t))}function f1(i,e){return Sg(i.databaseId,e)}function uO(i){const e=h1(i);return e.length===4?rt.emptyPath():d1(e)}function km(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function d1(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function yE(i,e,t){return{name:Dm(i,e),fields:t.value.mapValue.fields}}function hO(i,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ve(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,_){return g.useProto3Json?(Ke(_===void 0||typeof _=="string",58123),Wt.fromBase64String(_||"")):(Ke(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Wt.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&(function(g){const _=g.code===void 0?Z.UNKNOWN:o1(g.code);return new le(_,g.message||"")})(u);t=new c1(r,o,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=nm(i,r.document.name),c=qi(r.document.updateTime),u=r.document.createTime?qi(r.document.createTime):Ce.min(),p=new Tn({mapValue:{fields:r.document.fields}}),m=rn.newFoundDocument(o,c,u,p),g=r.targetIds||[],_=r.removedTargetIds||[];t=new Nh(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=nm(i,r.document),c=r.readTime?qi(r.readTime):Ce.min(),u=rn.newNoDocument(o,c),p=r.removedTargetIds||[];t=new Nh([],p,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=nm(i,r.document),c=r.removedTargetIds||[];t=new Nh([],c,o,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,u=new eO(o,c),p=r.targetId;t=new l1(p,u)}}return t}function fO(i,e){let t;if(e instanceof Mc)t={update:yE(i,e.key,e.value)};else if(e instanceof Tg)t={delete:Dm(i,e.key)};else if(e instanceof Is)t={update:yE(i,e.key,e.data),updateMask:EO(e.fieldMask)};else{if(!(e instanceof JN))return ve(16599,{dt:e.type});t={verify:Dm(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(c,u){const p=u.transform;if(p instanceof tf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof No)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof vc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Tc)return{fieldPath:u.field.canonicalString(),increment:p.Ae};throw ve(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:cO(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(i,e.precondition)),t}function dO(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map((t=>(function(o,c){let u=o.updateTime?qi(o.updateTime):qi(c);return u.isEqual(Ce.min())&&(u=qi(c)),new YN(u,o.transformResults||[])})(t,e)))):[]}function pO(i,e){return{documents:[f1(i,e.path)]}}function mO(i,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=f1(i,o);const c=(function(g){if(g.length!==0)return m1(di.create(g,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const u=(function(g){if(g.length!==0)return g.map((_=>(function(S){return{field:To(S.field),direction:_O(S.dir)}})(_)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const p=wm(i,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function gO(i){let e=uO(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Ke(r===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];t.where&&(c=(function(T){const S=p1(T);return S instanceof di&&qS(S)?S.getFilters():[S]})(t.where));let u=[];t.orderBy&&(u=(function(T){return T.map((S=>(function(j){return new Zh(Eo(j.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(S)))})(t.orderBy));let p=null;t.limit&&(p=(function(T){let S;return S=typeof T=="object"?T.value:T,bf(S)?null:S})(t.limit));let m=null;t.startAt&&(m=(function(T){const S=!!T.before,x=T.values||[];return new Wh(x,S)})(t.startAt));let g=null;return t.endAt&&(g=(function(T){const S=!T.before,x=T.values||[];return new Wh(x,S)})(t.endAt)),PN(e,o,u,c,p,"F",m,g)}function yO(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function p1(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Eo(t.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(t.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Eo(t.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Eo(t.unaryFilter.field);return Ot.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Ot.create(Eo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return di.create(t.compositeFilter.filters.map((r=>p1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(t.compositeFilter.op))})(i):ve(30097,{filter:i})}function _O(i){return sO[i]}function vO(i){return aO[i]}function TO(i){return oO[i]}function To(i){return{fieldPath:i.canonicalString()}}function Eo(i){return Jt.fromServerFormat(i.fieldPath)}function m1(i){return i instanceof Ot?(function(t){if(t.op==="=="){if(rE(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NAN"}};if(iE(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rE(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NAN"}};if(iE(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(t.field),op:vO(t.op),value:t.value}}})(i):i instanceof di?(function(t){const r=t.getFilters().map((o=>m1(o)));return r.length===1?r[0]:{compositeFilter:{op:TO(t.op),filters:r}}})(i):ve(54877,{filter:i})}function EO(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function g1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function y1(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class hs{constructor(e,t,r,o,c=Ce.min(),u=Ce.min(),p=Wt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bO{constructor(e){this.yt=e}}function SO(i){const e=gO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ef(e,e.limit,"L"):e}class CO{constructor(){this.Sn=new RO}addToCollectionParentIndex(e,t){return this.Sn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Ts.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class RO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Ut(rt.comparator),c=!o.has(r);return this.index[t]=o.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ut(rt.comparator)).toArray()}}const _E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_1=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(_1,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class Oo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Oo(0)}static ar(){return new Oo(-1)}}const vE="LruGarbageCollector",AO=1048576;function TE([i,e],[t,r]){const o=Ve(i,t);return o===0?Ve(e,r):o}class IO{constructor(e){this.Pr=e,this.buffer=new Ut(TE),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();TE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(vE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){qo(t)?ce(vE,"Ignoring IndexedDB error during garbage collection: ",t):await Bo(t)}await this.Ar(3e5)}))}}class xO{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Ef.ce);const r=new IO(t);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(_E)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_E):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,o,c,u,p,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,u=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(r=T,p=Date.now(),this.removeTargets(e,r,t)))).next((T=>(c=T,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(g=Date.now(),_o()<=Pe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(p-u)+`ms
	Removed ${c} targets in `+(m-p)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function DO(i,e){return new xO(i,e)}class kO{constructor(){this.changes=new Ta((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class NO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class OO{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&uc(r.mutation,o,Nn.empty(),ot.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Le()){const o=la();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((c=>{let u=tc();return c.forEach(((p,m)=>{u=u.insert(p,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=la();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Le())))}populateOverlays(e,t,r){const o=[];return r.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,p)=>{t.set(u,p)}))}))}computeViews(e,t,r,o){let c=Rr();const u=cc(),p=(function(){return cc()})();return t.forEach(((m,g)=>{const _=r.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Is)?c=c.insert(g.key,g):_!==void 0?(u.set(g.key,_.mutation.getFieldMask()),uc(_.mutation,g,_.mutation.getFieldMask(),ot.now())):u.set(g.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,c).next((m=>(m.forEach(((g,_)=>u.set(g,_))),t.forEach(((g,_)=>p.set(g,new NO(_,u.get(g)??null)))),p)))}recalculateAndSaveOverlays(e,t){const r=cc();let o=new ft(((u,p)=>u-p)),c=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const p of u)p.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let _=r.get(m)||Nn.empty();_=p.applyToLocalView(g,_),r.set(m,_);const T=(o.get(p.batchId)||Le()).add(m);o=o.insert(p.batchId,T)}))})).next((()=>{const u=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,_=m.value,T=JS();_.forEach((S=>{if(!c.has(S)){const x=s1(t.get(S),r.get(S));x!==null&&T.set(S,x),c=c.add(S)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,T))}return te.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return VN(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-c.size):te.resolve(la());let p=mc,m=c;return u.next((g=>te.forEach(g,((_,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),c.get(_)?te.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{m=m.insert(_,S)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,m,g,Le()))).next((_=>({batchId:p,changes:XS(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((r=>{let o=tc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const c=t.collectionGroup;let u=tc();return this.indexManager.getCollectionParents(e,c).next((p=>te.forEach(p,(m=>{const g=(function(T,S){return new Oc(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,m.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next((_=>{_.forEach(((T,S)=>{u=u.insert(T,S)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,c,o)))).next((u=>{c.forEach(((m,g)=>{const _=g.getKey();u.get(_)===null&&(u=u.insert(_,rn.newInvalidDocument(_)))}));let p=tc();return u.forEach(((m,g)=>{const _=c.get(m);_!==void 0&&uc(_.mutation,g,Nn.empty(),ot.now()),Af(t,g)&&(p=p.insert(m,g))})),p}))}}class MO{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return te.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:qi(o.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:SO(o.bundledQuery),readTime:qi(o.readTime)}})(t)),te.resolve()}}class PO{constructor(){this.overlays=new ft(ye.comparator),this.Lr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=la();return te.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,c)=>{this.bt(e,t,c)})),te.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const o=la(),c=t.length+1,u=new ye(t.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===c&&m.largestBatchId>r&&o.set(m.getKey(),m)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let c=new ft(((g,_)=>g-_));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let _=c.get(g.largestBatchId);_===null&&(_=la(),c=c.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const p=la(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,_)=>p.set(g,_))),!(p.size()>=o)););return te.resolve(p)}bt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new ZN(t,r));let c=this.Lr.get(t);c===void 0&&(c=Le(),this.Lr.set(t,c)),this.Lr.set(t,c.add(r.key))}}class VO{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}class Cg{constructor(){this.kr=new Ut(Ft.Kr),this.qr=new Ut(Ft.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Ft(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Ft(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new ye(new rt([])),r=new Ft(t,e),o=new Ft(t,e+1),c=[];return this.qr.forEachInRange([r,o],(u=>{this.Wr(u),c.push(u.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new ye(new rt([])),r=new Ft(t,e),o=new Ft(t,e+1);let c=Le();return this.qr.forEachInRange([r,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const t=new Ft(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ye.comparator(e.key,t.key)||Ve(e.Hr,t.Hr)}static Ur(e,t){return Ve(e.Hr,t.Hr)||ye.comparator(e.key,t.key)}}class LO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Ut(Ft.Kr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new WN(c,t,r,o);this.mutationQueue.push(u);for(const p of o)this.Jr=this.Jr.add(new Ft(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(u)}lookupMutationBatch(e,t){return te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Xr(r),c=o<0?0:o;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?pg:this.Yn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ft(t,0),o=new Ft(t,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(u=>{const p=this.Zr(u.Hr);c.push(p)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ut(Ve);return t.forEach((o=>{const c=new Ft(o,0),u=new Ft(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,u],(p=>{r=r.add(p.Hr)}))})),te.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let c=r;ye.isDocumentKey(c)||(c=c.child(""));const u=new Ft(new ye(c),0);let p=new Ut(Ve);return this.Jr.forEachWhile((m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Hr)),!0)}),u),te.resolve(this.Yr(p))}Yr(e){const t=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ke(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return te.forEach(t.mutations,(o=>{const c=new Ft(o.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Ft(t,0),o=this.Jr.firstAfterOrEqual(r);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class UO{constructor(e){this.ti=e,this.docs=(function(){return new ft(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),c=o?o.size:0,u=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let r=Rr();return t.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():rn.newInvalidDocument(o))})),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let c=Rr();const u=t.path,p=new ye(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||fN(hN(_),r)<=0||(o.has(_.key)||Af(t,_))&&(c=c.insert(_.key,_.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,t,r,o){ve(9500)}ni(e,t){return te.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new jO(this)}getSize(e){return te.resolve(this.size)}}class jO extends kO{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),te.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class zO{constructor(e){this.persistence=e,this.ri=new Ta((t=>yg(t)),_g),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.ii=0,this.si=new Cg,this.targetCount=0,this.oi=Oo._r()}forEachTarget(e,t){return this.ri.forEach(((r,o)=>t(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),te.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Oo(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.lr(t),te.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let o=0;const c=[];return this.ri.forEach(((u,p)=>{p.sequenceNumber<=t&&r.get(p.targetId)===null&&(this.ri.delete(u),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),te.waitFor(c).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),te.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.si.containsKey(t))}}class v1{constructor(e,t){this._i={},this.overlays={},this.ai=new Ef(0),this.ui=!1,this.ui=!0,this.ci=new VO,this.referenceDelegate=e(this),this.li=new zO(this),this.indexManager=new CO,this.remoteDocumentCache=(function(o){return new UO(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new bO(t),this.Pi=new MO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new LO(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const o=new BO(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,t){return te.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class BO extends pN{constructor(e){super(),this.currentSequenceNumber=e}}class Rg{constructor(e){this.persistence=e,this.Ri=new Cg,this.Ai=null}static Vi(e){return new Rg(e)}get di(){if(this.Ai)return this.Ai;throw ve(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,(r=>{const o=ye.fromPath(r);return this.mi(e,o).next((c=>{c||t.removeEntry(o,Ce.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return te.or([()=>te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class rf{constructor(e,t){this.persistence=e,this.fi=new Ta((r=>yN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=DO(this,t)}static Vi(e,t){return new rf(e,t)}Ti(){}Ii(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return te.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?te.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(u=>this.wr(e,u,t).next((p=>{p||(r++,c.removeEntry(u,Ce.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),te.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xh(e.data.value)),t}wr(e,t,r){return te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return te.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ag{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=o}static Es(e,t){let r=Le(),o=Le();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Ag(e,t.fromCache,r,o)}}class qO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class FO{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Ow()?8:mN(sn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const c={result:null};return this.gs(e,t).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ps(e,t,o,r).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new qO;return this.ys(e,t,u).next((p=>{if(c.result=p,this.As)return this.ws(e,t,u,p.size)}))})).next((()=>c.result))}ws(e,t,r,o){return r.documentReadCount<this.Vs?(_o()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(_o()<=Pe.DEBUG&&ce("QueryEngine","Query:",vo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(_o()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(t))):te.resolve())}gs(e,t){if(lE(t))return te.resolve(null);let r=Bi(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=ef(t,null,"F"),r=Bi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const u=Le(...c);return this.fs.getDocuments(e,u).next((p=>this.indexManager.getMinOffset(e,r).next((m=>{const g=this.bs(t,p);return this.Ss(t,g,u,m.readTime)?this.gs(e,ef(t,null,"F")):this.Ds(e,g,t,m)}))))})))))}ps(e,t,r,o){return lE(t)||o.isEqual(Ce.min())?te.resolve(null):this.fs.getDocuments(e,r).next((c=>{const u=this.bs(t,c);return this.Ss(t,u,r,o)?te.resolve(null):(_o()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vo(t)),this.Ds(e,u,t,uN(o,mc)).next((p=>p)))}))}bs(e,t){let r=new Ut(YS(e));return t.forEach(((o,c)=>{Af(e,c)&&(r=r.add(c))})),r}Ss(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,t,r){return _o()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",vo(t)),this.fs.getDocumentsMatchingQuery(e,t,Ts.min(),r)}Ds(e,t,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(t.forEach((u=>{c=c.insert(u.key,u)})),c)))}}const Ig="LocalStore",HO=3e8;class $O{constructor(e,t,r,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new ft(Ve),this.Fs=new Ta((c=>yg(c)),_g),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OO(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function GO(i,e,t,r){return new $O(i,e,t,r)}async function T1(i,e){const t=Ae(i);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((c=>{const u=[],p=[];let m=Le();for(const g of o){u.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of c){p.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(r,m).next((g=>({Ns:g,removedBatchIds:u,addedBatchIds:p})))}))}))}function KO(i,e){const t=Ae(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=t.xs.newChangeBuffer({trackRemovals:!0});return(function(p,m,g,_){const T=g.batch,S=T.keys();let x=te.resolve();return S.forEach((j=>{x=x.next((()=>_.getEntry(m,j))).next((F=>{const G=g.docVersions.get(j);Ke(G!==null,48541),F.version.compareTo(G)<0&&(T.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),_.addEntry(F)))}))})),x.next((()=>p.mutationQueue.removeMutationBatch(m,T)))})(t,r,e,c).next((()=>c.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let m=Le();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function E1(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function YO(i,e){const t=Ae(i),r=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const p=[];e.targetChanges.forEach(((_,T)=>{const S=o.get(T);if(!S)return;p.push(t.li.removeMatchingKeys(c,_.removedDocuments,T).next((()=>t.li.addMatchingKeys(c,_.addedDocuments,T))));let x=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?x=x.withResumeToken(Wt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,r)),o=o.insert(T,x),(function(F,G,X){return F.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=HO?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(S,x,_)&&p.push(t.li.updateTargetData(c,x))}));let m=Rr(),g=Le();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(c,_))})),p.push(QO(c,u,e.documentUpdates).next((_=>{m=_.Bs,g=_.Ls}))),!r.isEqual(Ce.min())){const _=t.li.getLastRemoteSnapshotVersion(c).next((T=>t.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(_)}return te.waitFor(p).next((()=>u.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,m,g))).next((()=>m))})).then((c=>(t.vs=o,c)))}function QO(i,e,t){let r=Le(),o=Le();return t.forEach((c=>r=r.add(c))),e.getEntries(i,r).next((c=>{let u=Rr();return t.forEach(((p,m)=>{const g=c.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Ce.min())?(e.removeEntry(p,m.readTime),u=u.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(p,m)):ce(Ig,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)})),{Bs:u,Ls:o}}))}function XO(i,e){const t=Ae(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=pg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function JO(i,e){const t=Ae(i);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.li.getTargetData(r,e).next((c=>c?(o=c,te.resolve(o)):t.li.allocateTargetId(r).next((u=>(o=new hs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function Nm(i,e,t){const r=Ae(i),o=r.vs.get(e),c=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",c,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!qo(u))throw u;ce(Ig,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function EE(i,e,t){const r=Ae(i);let o=Ce.min(),c=Le();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,_){const T=Ae(m),S=T.Fs.get(_);return S!==void 0?te.resolve(T.vs.get(S)):T.li.getTargetData(g,_)})(r,u,Bi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,p.targetId).next((m=>{c=m}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?o:Ce.min(),t?c:Le()))).next((p=>(WO(r,UN(e),p),{documents:p,ks:c})))))}function WO(i,e,t){let r=i.Ms.get(e)||Ce.min();t.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),i.Ms.set(e,r)}class bE{constructor(){this.activeTargetIds=HN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZO{constructor(){this.vo=new bE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new bE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class e4{Mo(e){}shutdown(){}}const SE="ConnectivityMonitor";class CE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(SE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(SE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Th=null;function Om(){return Th===null?Th=(function(){return 268435456+Math.round(2147483648*Math.random())})():Th++,"0x"+Th.toString(16)}const im="RestConnection",t4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class n4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Xh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,t,r,o,c){const u=Om(),p=this.Qo(e,t.toUriEncodedString());ce(im,`Sending RPC '${e}' ${u}:`,p,r);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,c);const{host:g}=new URL(p),_=_a(g);return this.zo(e,p,m,r,_).then((T=>(ce(im,`Received RPC '${e}' ${u}: `,T),T)),(T=>{throw ma(im,`RPC '${e}' ${u} failed with error: `,T,"url: ",p,"request:",r),T}))}jo(e,t,r,o,c,u){return this.Wo(e,t,r,o,c)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,t){const r=t4[e];let o=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class i4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",Wl=(i,e,t)=>{i.listen(e,(r=>{try{t(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ro extends n4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ro.c_){const e=CS();Wl(e,SS.STAT_EVENT,(t=>{t.stat===Em.PROXY?ce(en,"STAT_EVENT: detected buffering proxy"):t.stat===Em.NOPROXY&&ce(en,"STAT_EVENT: detected no buffering proxy")})),Ro.c_=!0}}zo(e,t,r,o,c){const u=Om();return new Promise(((p,m)=>{const g=new ES;g.setWithCredentials(!0),g.listenOnce(bS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case wh.NO_ERROR:const T=g.getResponseJson();ce(en,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),p(T);break;case wh.TIMEOUT:ce(en,`RPC '${e}' ${u} timed out`),m(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const S=g.getStatus();if(ce(en,`RPC '${e}' ${u} failed with status:`,S,"response text:",g.getResponseText()),S>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const j=x?.error;if(j&&j.status&&j.message){const F=(function(X){const ne=X.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ne)>=0?ne:Z.UNKNOWN})(j.status);m(new le(F,j.message))}else m(new le(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new le(Z.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(en,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(o);ce(en,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",_,r,15)}))}T_(e,t,r){const o=Om(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const g=c.join("");ce(en,`Creating RPC '${e}' stream ${o}: ${g}`,p);const _=u.createWebChannel(g,p);this.I_(_);let T=!1,S=!1;const x=new i4({Ho:j=>{S?ce(en,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(T||(ce(en,`Opening RPC '${e}' stream ${o} transport.`),_.open(),T=!0),ce(en,`RPC '${e}' stream ${o} sending:`,j),_.send(j))},Jo:()=>_.close()});return Wl(_,ec.EventType.OPEN,(()=>{S||(ce(en,`RPC '${e}' stream ${o} transport opened.`),x.i_())})),Wl(_,ec.EventType.CLOSE,(()=>{S||(S=!0,ce(en,`RPC '${e}' stream ${o} transport closed`),x.o_(),this.E_(_))})),Wl(_,ec.EventType.ERROR,(j=>{S||(S=!0,ma(en,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),x.o_(new le(Z.UNAVAILABLE,"The operation could not be completed")))})),Wl(_,ec.EventType.MESSAGE,(j=>{if(!S){const F=j.data[0];Ke(!!F,16349);const G=F,X=G?.error||G[0]?.error;if(X){ce(en,`RPC '${e}' stream ${o} received error:`,X);const ne=X.status;let re=(function(Te){const D=kt[Te];if(D!==void 0)return o1(D)})(ne),se=X.message;ne==="NOT_FOUND"&&se.includes("database")&&se.includes("does not exist")&&se.includes(this.databaseId.database)&&ma(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),re===void 0&&(re=Z.INTERNAL,se="Unknown error status: "+ne+" with message "+X.message),S=!0,x.o_(new le(re,se)),_.close()}else ce(en,`RPC '${e}' stream ${o} received:`,F),x.__(F)}})),Ro.u_(),setTimeout((()=>{x.s_()}),0),x}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return RS()}}function r4(i){return new Ro(i)}function rm(){return typeof document<"u"?document:null}function Df(i){return new lO(i,!0)}Ro.c_=!1;class b1{constructor(e,t,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const RE="PersistentStream";class S1{constructor(e,t,r,o,c,u,p,m){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new b1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new le(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(RE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ce(RE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class s4 extends S1{constructor(e,t,r,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=hO(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ce.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?qi(u.readTime):Ce.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=km(this.serializer),t.addTarget=(function(c,u){let p;const m=u.target;if(p=Am(m)?{documents:pO(c,m)}:{query:mO(c,m).ft},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=u1(c,u.resumeToken);const g=wm(c,u.expectedCount);g!==null&&(p.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ce.min())>0){p.readTime=nf(c,u.snapshotVersion.toTimestamp());const g=wm(c,u.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,e);const r=yO(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=km(this.serializer),t.removeTarget=e,this.K_(t)}}class a4 extends S1{constructor(e,t,r,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=dO(e.writeResults,e.commitTime),r=qi(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=km(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>fO(this.serializer,r)))};this.K_(t)}}class o4{}class l4 extends o4{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Wo(e,xm(t,r),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(Z.UNKNOWN,c.toString())}))}jo(e,t,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,p])=>this.connection.jo(e,xm(t,r),o,u,p,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Z.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function c4(i,e,t,r){return new l4(i,e,t,r)}class u4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cr(t),this.aa=!1):ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ga="RemoteStore";class h4{constructor(e,t,r,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{Ea(this)&&(ce(ga,"Restarting streams for network reachability change."),await(async function(m){const g=Ae(m);g.Ea.add(4),await Vc(g),g.Va.set("Unknown"),g.Ea.delete(4),await kf(g)})(this))}))})),this.Va=new u4(r,o)}}async function kf(i){if(Ea(i))for(const e of i.Ra)await e(!0)}async function Vc(i){for(const e of i.Ra)await e(!1)}function C1(i,e){const t=Ae(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),kg(t)?Dg(t):Fo(t).O_()&&xg(t,e))}function wg(i,e){const t=Ae(i),r=Fo(t);t.Ia.delete(e),r.O_()&&R1(t,e),t.Ia.size===0&&(r.O_()?r.L_():Ea(t)&&t.Va.set("Unknown"))}function xg(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fo(i).Z_(e)}function R1(i,e){i.da.$e(e),Fo(i).X_(e)}function Dg(i){i.da=new rO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Fo(i).start(),i.Va.ua()}function kg(i){return Ea(i)&&!Fo(i).x_()&&i.Ia.size>0}function Ea(i){return Ae(i).Ea.size===0}function A1(i){i.da=void 0}async function f4(i){i.Va.set("Online")}async function d4(i){i.Ia.forEach(((e,t)=>{xg(i,e)}))}async function p4(i,e){A1(i),kg(i)?(i.Va.ha(e),Dg(i)):i.Va.set("Unknown")}async function m4(i,e,t){if(i.Va.set("Online"),e instanceof c1&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,u),o.Ia.delete(p),o.da.removeTarget(p))})(i,e)}catch(r){ce(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sf(i,r)}else if(e instanceof Nh?i.da.Xe(e):e instanceof l1?i.da.st(e):i.da.tt(e),!t.isEqual(Ce.min()))try{const r=await E1(i.localStore);t.compareTo(r)>=0&&await(function(c,u){const p=c.da.Tt(u);return p.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=c.Ia.get(g);_&&c.Ia.set(g,_.withResumeToken(m.resumeToken,u))}})),p.targetMismatches.forEach(((m,g)=>{const _=c.Ia.get(m);if(!_)return;c.Ia.set(m,_.withResumeToken(Wt.EMPTY_BYTE_STRING,_.snapshotVersion)),R1(c,m);const T=new hs(_.target,m,g,_.sequenceNumber);xg(c,T)})),c.remoteSyncer.applyRemoteEvent(p)})(i,t)}catch(r){ce(ga,"Failed to raise snapshot:",r),await sf(i,r)}}async function sf(i,e,t){if(!qo(e))throw e;i.Ea.add(1),await Vc(i),i.Va.set("Offline"),t||(t=()=>E1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ce(ga,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await kf(i)}))}function I1(i,e){return e().catch((t=>sf(i,t,e)))}async function Nf(i){const e=Ae(i),t=Cs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pg;for(;g4(e);)try{const o=await XO(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,y4(e,o)}catch(o){await sf(e,o)}w1(e)&&x1(e)}function g4(i){return Ea(i)&&i.Ta.length<10}function y4(i,e){i.Ta.push(e);const t=Cs(i);t.O_()&&t.Y_&&t.ea(e.mutations)}function w1(i){return Ea(i)&&!Cs(i).x_()&&i.Ta.length>0}function x1(i){Cs(i).start()}async function _4(i){Cs(i).ra()}async function v4(i){const e=Cs(i);for(const t of i.Ta)e.ea(t.mutations)}async function T4(i,e,t){const r=i.Ta.shift(),o=Eg.from(r,e,t);await I1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Nf(i)}async function E4(i,e){e&&Cs(i).Y_&&await(async function(r,o){if((function(u){return tO(u)&&u!==Z.ABORTED})(o.code)){const c=r.Ta.shift();Cs(r).B_(),await I1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Nf(r)}})(i,e),w1(i)&&x1(i)}async function AE(i,e){const t=Ae(i);t.asyncQueue.verifyOperationInProgress(),ce(ga,"RemoteStore received new credentials");const r=Ea(t);t.Ea.add(3),await Vc(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await kf(t)}async function b4(i,e){const t=Ae(i);e?(t.Ea.delete(2),await kf(t)):e||(t.Ea.add(2),await Vc(t),t.Va.set("Unknown"))}function Fo(i){return i.ma||(i.ma=(function(t,r,o){const c=Ae(t);return c.sa(),new s4(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:f4.bind(null,i),Yo:d4.bind(null,i),t_:p4.bind(null,i),J_:m4.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),kg(i)?Dg(i):i.Va.set("Unknown")):(await i.ma.stop(),A1(i))}))),i.ma}function Cs(i){return i.fa||(i.fa=(function(t,r,o){const c=Ae(t);return c.sa(),new a4(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:_4.bind(null,i),t_:E4.bind(null,i),ta:v4.bind(null,i),na:T4.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await Nf(i)):(await i.fa.stop(),i.Ta.length>0&&(ce(ga,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Ng{constructor(e,t,r,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,c){const u=Date.now()+r,p=new Ng(e,t,u,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Og(i,e){if(Cr("AsyncQueue",`${e}: ${i}`),qo(i))return new le(Z.UNAVAILABLE,`${e}: ${i}`);throw i}class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=tc(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class IE{constructor(){this.ga=new ft(ye.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ve(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Mo{constructor(e,t,r,o,c,u,p,m,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,o,c){const u=[];return t.forEach((p=>{u.push({type:0,doc:p})})),new Mo(e,t,Ao.emptySet(t),u,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class S4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class C4{constructor(){this.queries=wE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=Ae(t),c=o.queries;o.queries=wE(),c.forEach(((u,p)=>{for(const m of p.ba)m.onError(r)}))})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function wE(){return new Ta((i=>KS(i)),Rf)}async function Mg(i,e){const t=Ae(i);let r=3;const o=e.query;let c=t.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new S4,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const p=Og(u,`Initialization of query '${vo(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,c),c.ba.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&Vg(t)}async function Pg(i,e){const t=Ae(i),r=e.query;let o=3;const c=t.queries.get(r);if(c){const u=c.ba.indexOf(e);u>=0&&(c.ba.splice(u,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function R4(i,e){const t=Ae(i);let r=!1;for(const o of e){const c=o.query,u=t.queries.get(c);if(u){for(const p of u.ba)p.Fa(o)&&(r=!0);u.wa=o}}r&&Vg(t)}function A4(i,e,t){const r=Ae(i),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(t);r.queries.delete(e)}function Vg(i){i.Ca.forEach((e=>{e.next()}))}var Mm,xE;(xE=Mm||(Mm={})).Ma="default",xE.Cache="cache";class Lg{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Mo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mm.Cache}}class D1{constructor(e){this.key=e}}class k1{constructor(e){this.key=e}}class I4{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.eu=YS(e),this.tu=new Ao(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new IE,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,u=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const S=o.get(_),x=Af(this.query,T)?T:null,j=!!S&&this.mutatedKeys.has(S.key),F=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let G=!1;S&&x?S.data.isEqual(x.data)?j!==F&&(r.track({type:3,doc:x}),G=!0):this.su(S,x)||(r.track({type:2,doc:x}),G=!0,(m&&this.eu(x,m)>0||g&&this.eu(x,g)<0)&&(p=!0)):!S&&x?(r.track({type:0,doc:x}),G=!0):S&&!x&&(r.track({type:1,doc:S}),G=!0,(m||g)&&(p=!0)),G&&(x?(u=u.add(x),c=F?c.add(_):c.delete(_)):(u=u.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),c=c.delete(_.key),r.track({type:1,doc:_})}return{tu:u,iu:r,Ss:p,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((_,T)=>(function(x,j){const F=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:G})}};return F(x)-F(j)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(r),o=o??!1;const p=t&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,g=m!==this.Xa;return this.Xa=m,u.length!==0||g?{snapshot:new Mo(this.query,e.tu,c,u,e.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new k1(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new D1(r))})),t}cu(e){this.Za=e.ks,this.Ya=Le();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ug="SyncEngine";class w4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class x4{constructor(e){this.key=e,this.hu=!1}}class D4{constructor(e,t,r,o,c,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ta((p=>KS(p)),Rf),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(ye.comparator),this.Au=new Map,this.Vu=new Cg,this.du={},this.mu=new Map,this.fu=Oo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function k4(i,e,t=!0){const r=L1(i);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await N1(r,e,t,!0),o}async function N4(i,e){const t=L1(i);await N1(t,e,!0,!1)}async function N1(i,e,t,r){const o=await JO(i.localStore,Bi(e)),c=o.targetId,u=i.sharedClientState.addLocalQueryTarget(c,t);let p;return r&&(p=await O4(i,e,c,u==="current",o.resumeToken)),i.isPrimaryClient&&t&&C1(i.remoteStore,o),p}async function O4(i,e,t,r,o){i.pu=(T,S,x)=>(async function(F,G,X,ne){let re=G.view.ru(X);re.Ss&&(re=await EE(F.localStore,G.query,!1).then((({documents:D})=>G.view.ru(D,re))));const se=ne&&ne.targetChanges.get(G.targetId),Ee=ne&&ne.targetMismatches.get(G.targetId)!=null,Te=G.view.applyChanges(re,F.isPrimaryClient,se,Ee);return kE(F,G.targetId,Te.au),Te.snapshot})(i,T,S,x);const c=await EE(i.localStore,e,!0),u=new I4(e,c.ks),p=u.ru(c.documents),m=Pc.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",o),g=u.applyChanges(p,i.isPrimaryClient,m);kE(i,t,g.au);const _=new w4(e,t,u);return i.Tu.set(e,_),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function M4(i,e,t){const r=Ae(i),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((u=>!Rf(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Nm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&wg(r.remoteStore,o.targetId),Pm(r,o.targetId)})).catch(Bo)):(Pm(r,o.targetId),await Nm(r.localStore,o.targetId,!0))}async function P4(i,e){const t=Ae(i),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),wg(t.remoteStore,r.targetId))}async function V4(i,e,t){const r=F4(i);try{const o=await(function(u,p){const m=Ae(u),g=ot.now(),_=p.reduce(((x,j)=>x.add(j.key)),Le());let T,S;return m.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let j=Rr(),F=Le();return m.xs.getEntries(x,_).next((G=>{j=G,j.forEach(((X,ne)=>{ne.isValidDocument()||(F=F.add(X))}))})).next((()=>m.localDocuments.getOverlayedDocuments(x,j))).next((G=>{T=G;const X=[];for(const ne of p){const re=XN(ne,T.get(ne.key).overlayedDocument);re!=null&&X.push(new Is(ne.key,re,jS(re.value.mapValue),Qn.exists(!0)))}return m.mutationQueue.addMutationBatch(x,g,X,p)})).next((G=>{S=G;const X=G.applyToLocalDocumentSet(T,F);return m.documentOverlayCache.saveOverlays(x,G.batchId,X)}))})).then((()=>({batchId:S.batchId,changes:XS(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,p,m){let g=u.du[u.currentUser.toKey()];g||(g=new ft(Ve)),g=g.insert(p,m),u.du[u.currentUser.toKey()]=g})(r,o.batchId,t),await Lc(r,o.changes),await Nf(r.remoteStore)}catch(o){const c=Og(o,"Failed to persist write");t.reject(c)}}async function O1(i,e){const t=Ae(i);try{const r=await YO(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=t.Au.get(c);u&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Ke(u.hu,14607):o.removedDocuments.size>0&&(Ke(u.hu,42227),u.hu=!1))})),await Lc(t,r,e)}catch(r){await Bo(r)}}function DE(i,e,t){const r=Ae(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((c,u)=>{const p=u.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(u,p){const m=Ae(u);m.onlineState=p;let g=!1;m.queries.forEach(((_,T)=>{for(const S of T.ba)S.va(p)&&(g=!0)})),g&&Vg(m)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L4(i,e,t){const r=Ae(i);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),c=o&&o.key;if(c){let u=new ft(ye.comparator);u=u.insert(c,rn.newNoDocument(c,Ce.min()));const p=Le().add(c),m=new xf(Ce.min(),new Map,new ft(Ve),u,p);await O1(r,m),r.Ru=r.Ru.remove(c),r.Au.delete(e),jg(r)}else await Nm(r.localStore,e,!1).then((()=>Pm(r,e,t))).catch(Bo)}async function U4(i,e){const t=Ae(i),r=e.batch.batchId;try{const o=await KO(t.localStore,e);P1(t,r,null),M1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Lc(t,o)}catch(o){await Bo(o)}}async function j4(i,e,t){const r=Ae(i);try{const o=await(function(u,p){const m=Ae(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return m.mutationQueue.lookupMutationBatch(g,p).next((T=>(Ke(T!==null,37113),_=T.keys(),m.mutationQueue.removeMutationBatch(g,T)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,p))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>m.localDocuments.getDocuments(g,_)))}))})(r.localStore,e);P1(r,e,t),M1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Lc(r,o)}catch(o){await Bo(o)}}function M1(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function P1(i,e,t){const r=Ae(i);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Pm(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),t&&i.Pu.yu(r,t);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((r=>{i.Vu.containsKey(r)||V1(i,r)}))}function V1(i,e){i.Eu.delete(e.path.canonicalString());const t=i.Ru.get(e);t!==null&&(wg(i.remoteStore,t),i.Ru=i.Ru.remove(e),i.Au.delete(t),jg(i))}function kE(i,e,t){for(const r of t)r instanceof D1?(i.Vu.addReference(r.key,e),z4(i,r)):r instanceof k1?(ce(Ug,"Document no longer in limbo: "+r.key),i.Vu.removeReference(r.key,e),i.Vu.containsKey(r.key)||V1(i,r.key)):ve(19791,{wu:r})}function z4(i,e){const t=e.key,r=t.path.canonicalString();i.Ru.get(t)||i.Eu.has(r)||(ce(Ug,"New document in limbo: "+t),i.Eu.add(r),jg(i))}function jg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new ye(rt.fromString(e)),r=i.fu.next();i.Au.set(r,new x4(t)),i.Ru=i.Ru.insert(t,r),C1(i.remoteStore,new hs(Bi(Cf(t.path)),r,"TargetPurposeLimboResolution",Ef.ce))}}async function Lc(i,e,t){const r=Ae(i),o=[],c=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,m)=>{u.push(r.pu(m,e,t).then((g=>{if((g||t)&&r.isPrimaryClient){const _=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){o.push(g);const _=Ag.Es(m.targetId,g);c.push(_)}})))})),await Promise.all(u),r.Pu.J_(o),await(async function(m,g){const _=Ae(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>te.forEach(g,(S=>te.forEach(S.Ts,(x=>_.persistence.referenceDelegate.addReference(T,S.targetId,x))).next((()=>te.forEach(S.Is,(x=>_.persistence.referenceDelegate.removeReference(T,S.targetId,x)))))))))}catch(T){if(!qo(T))throw T;ce(Ig,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const x=_.vs.get(S),j=x.snapshotVersion,F=x.withLastLimboFreeSnapshotVersion(j);_.vs=_.vs.insert(S,F)}}})(r.localStore,c))}async function B4(i,e){const t=Ae(i);if(!t.currentUser.isEqual(e)){ce(Ug,"User change. New user:",e.toKey());const r=await T1(t.localStore,e);t.currentUser=e,(function(c,u){c.mu.forEach((p=>{p.forEach((m=>{m.reject(new le(Z.CANCELLED,u))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lc(t,r.Ns)}}function q4(i,e){const t=Ae(i),r=t.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let o=Le();const c=t.Iu.get(e);if(!c)return o;for(const u of c){const p=t.Tu.get(u);o=o.unionWith(p.view.nu)}return o}}function L1(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=O1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L4.bind(null,e),e.Pu.J_=R4.bind(null,e.eventManager),e.Pu.yu=A4.bind(null,e.eventManager),e}function F4(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j4.bind(null,e),e}class af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return GO(this.persistence,new FO,e.initialUser,this.serializer)}Cu(e){return new v1(Rg.Vi,this.serializer)}Du(e){return new ZO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}af.provider={build:()=>new af};class H4 extends af{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ke(this.persistence.referenceDelegate instanceof rf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wO(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new v1((r=>rf.Vi(r,t)),this.serializer)}}class Vm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=B4.bind(null,this.syncEngine),await b4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new C4})()}createDatastore(e){const t=Df(e.databaseInfo.databaseId),r=r4(e.databaseInfo);return c4(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,c,u,p){return new h4(r,o,c,u,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>DE(this.syncEngine,t,0)),(function(){return CE.v()?new CE:new e4})())}createSyncEngine(e,t){return(function(o,c,u,p,m,g,_){const T=new D4(o,c,u,p,m,g);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ae(t);ce(ga,"RemoteStore shutting down."),r.Ea.add(5),await Vc(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Vm.provider={build:()=>new Vm};class zg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Rs="FirestoreClient";class $4{constructor(e,t,r,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async u=>{ce(Rs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ce(Rs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Og(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function sm(i,e){i.asyncQueue.verifyOperationInProgress(),ce(Rs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await T1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function NE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await G4(i);ce(Rs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((r=>AE(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>AE(e.remoteStore,o))),i._onlineComponents=e}async function G4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(Rs,"Using user provided OfflineComponentProvider");try{await sm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;ma("Error using user provided cache. Falling back to memory cache: "+t),await sm(i,new af)}}else ce(Rs,"Using default OfflineComponentProvider"),await sm(i,new H4(void 0));return i._offlineComponents}async function U1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(Rs,"Using user provided OnlineComponentProvider"),await NE(i,i._uninitializedComponentsProvider._online)):(ce(Rs,"Using default OnlineComponentProvider"),await NE(i,new Vm))),i._onlineComponents}function K4(i){return U1(i).then((e=>e.syncEngine))}async function of(i){const e=await U1(i),t=e.eventManager;return t.onListen=k4.bind(null,e.syncEngine),t.onUnlisten=M4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=N4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=P4.bind(null,e.syncEngine),t}function Y4(i,e,t,r){const o=new zg(r),c=new Lg(e,o,t);return i.asyncQueue.enqueueAndForget((async()=>Mg(await of(i),c))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>Pg(await of(i),c)))}}function Q4(i,e,t={}){const r=new Tr;return i.asyncQueue.enqueueAndForget((async()=>(function(c,u,p,m,g){const _=new zg({next:S=>{_.Nu(),u.enqueueAndForget((()=>Pg(c,T)));const x=S.docs.has(p);!x&&S.fromCache?g.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&S.fromCache&&m&&m.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new Lg(Cf(p.path),_,{includeMetadataChanges:!0,Ka:!0});return Mg(c,T)})(await of(i),i.asyncQueue,e,t,r))),r.promise}function X4(i,e,t={}){const r=new Tr;return i.asyncQueue.enqueueAndForget((async()=>(function(c,u,p,m,g){const _=new zg({next:S=>{_.Nu(),u.enqueueAndForget((()=>Pg(c,T))),S.fromCache&&m.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new Lg(p,_,{includeMetadataChanges:!0,Ka:!0});return Mg(c,T)})(await of(i),i.asyncQueue,e,t,r))),r.promise}function J4(i,e){const t=new Tr;return i.asyncQueue.enqueueAndForget((async()=>V4(await K4(i),e,t))),t.promise}function j1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const W4="ComponentProvider",OE=new Map;function Z4(i,e,t,r,o){return new TN(i,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,j1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const z1="firestore.googleapis.com",ME=!0;class PE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=z1,this.ssl=ME}else this.host=e.host,this.ssl=e.ssl??ME;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AO)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Of{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Zk;switch(r.type){case"firstParty":return new iN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=OE.get(t);r&&(ce(W4,"Removing Datastore"),OE.delete(t),r.terminate())})(this),Promise.resolve()}}function eM(i,e,t,r={}){i=En(i,Of);const o=_a(e),c=i._getSettings(),u={...c,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${t}`;o&&(Jm(`https://${p}`),Wm("Firestore",!0)),c.host!==z1&&c.host!==p&&ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...c,host:p,ssl:o,emulatorOptions:r};if(!_s(m,u)&&(i._setSettings(m),r.mockUserToken)){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=tn.MOCK_USER;else{g=Ub(r.mockUserToken,i._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new tn(T)}i._authCredentials=new eN(new IS(g,_))}}class ws{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class mt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Nc(t,mt._jsonSchema))return new mt(e,r||null,new ye(rt.fromString(t.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Mt("string",mt._jsonSchemaVersion),referencePath:Mt("string")};class gs extends ws{constructor(e,t,r){super(e,t,Cf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ye(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function Bg(i,e,...t){if(i=jt(i),wS("collection","path",e),i instanceof Of){const r=rt.fromString(e,...t);return YT(r),new gs(i,null,r)}{if(!(i instanceof mt||i instanceof gs))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(rt.fromString(e,...t));return YT(r),new gs(i.firestore,null,r)}}function us(i,e,...t){if(i=jt(i),arguments.length===1&&(e=dg.newId()),wS("doc","path",e),i instanceof Of){const r=rt.fromString(e,...t);return KT(r),new mt(i,null,new ye(r))}{if(!(i instanceof mt||i instanceof gs))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(rt.fromString(e,...t));return KT(r),new mt(i.firestore,i instanceof gs?i.converter:null,new ye(r))}}const VE="AsyncQueue";class LE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new b1(this,"async_queue_retry"),this._c=()=>{const r=rm();r&&ce(VE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=rm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=rm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!qo(e))throw e;ce(VE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Cr("INTERNAL UNHANDLED ERROR: ",UE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Ng.createAndSchedule(this,e,t,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:UE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function UE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Ar extends Of{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new LE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LE(e),this._firestoreClient=void 0,await e}}}function tM(i,e){const t=typeof i=="object"?i:tg(),r=typeof i=="string"?i:Xh,o=gf(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=Pb("firestore");c&&eM(o,...c)}return o}function Mf(i){if(i._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||nM(i),i._firestoreClient}function nM(i){const e=i._freezeSettings(),t=Z4(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new $4(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(Wt.fromBase64String(e))}catch(t){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nc(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Mt("string",Yn._jsonSchemaVersion),bytes:Mt("string")};class qg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Uc{constructor(e){this._methodName=e}}class Fi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(Nc(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Mt("string",Fi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class fi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nc(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new fi(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Mt("string",fi._jsonSchemaVersion),vectorValues:Mt("object")};const iM=/^__.*__$/;class rM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mc(e,this.data,t,this.fieldTransforms)}}class B1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Is(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function q1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{dataSource:i})}}class Pf{constructor(e,t,r,o,c,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Pf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return lf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(q1(this.dataSource)&&iM.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class sM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Df(e)}createContext(e,t,r,o=!1){return new Pf({dataSource:e,methodName:t,targetDoc:r,path:Jt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vf(i){const e=i._freezeSettings(),t=Df(i._databaseId);return new sM(i._databaseId,!!e.ignoreUndefinedProperties,t)}function F1(i,e,t,r,o,c={}){const u=i.createContext(c.merge||c.mergeFields?2:0,e,t,o);$g("Data must be an object, but it was:",u,r);const p=H1(r,u);let m,g;if(c.merge)m=new Nn(u.fieldMask),g=u.fieldTransforms;else if(c.mergeFields){const _=[];for(const T of c.mergeFields){const S=Po(e,T,t);if(!u.contains(S))throw new le(Z.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);K1(_,S)||_.push(S)}m=new Nn(_),g=u.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,g=u.fieldTransforms;return new rM(new Tn(p),m,g)}class Lf extends Uc{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lf}}function aM(i,e,t){return new Pf({dataSource:3,targetDoc:e.settings.targetDoc,methodName:i._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Fg extends Uc{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=aM(this,e,!0),r=this.Ac.map((c=>Ho(c,t))),o=new No(r);return new r1(e.path,o)}isEqual(e){return e instanceof Fg&&_s(this.Ac,e.Ac)}}class Hg extends Uc{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new Tc(e.serializer,ZS(e.serializer,this.Vc));return new r1(e.path,t)}isEqual(e){return e instanceof Hg&&this.Vc===e.Vc}}function oM(i,e,t,r){const o=i.createContext(1,e,t);$g("Data must be an object, but it was:",o,r);const c=[],u=Tn.empty();As(r,((m,g)=>{const _=G1(e,m,t);g=jt(g);const T=o.childContextForFieldPath(_);if(g instanceof Lf)c.push(_);else{const S=Ho(g,T);S!=null&&(c.push(_),u.set(_,S))}}));const p=new Nn(c);return new B1(u,p,o.fieldTransforms)}function lM(i,e,t,r,o,c){const u=i.createContext(1,e,t),p=[Po(e,r,t)],m=[o];if(c.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)p.push(Po(e,c[S])),m.push(c[S+1]);const g=[],_=Tn.empty();for(let S=p.length-1;S>=0;--S)if(!K1(g,p[S])){const x=p[S];let j=m[S];j=jt(j);const F=u.childContextForFieldPath(x);if(j instanceof Lf)g.push(x);else{const G=Ho(j,F);G!=null&&(g.push(x),_.set(x,G))}}const T=new Nn(g);return new B1(_,T,u.fieldTransforms)}function cM(i,e,t,r=!1){return Ho(t,i.createContext(r?4:3,e))}function Ho(i,e){if($1(i=jt(i)))return $g("Unsupported field value:",e,i),H1(i,e);if(i instanceof Uc)return(function(r,o){if(!q1(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let u=0;for(const p of r){let m=Ho(p,o.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),u++}return{arrayValue:{values:c}}})(i,e)}return(function(r,o){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ot.fromDate(r);return{timestampValue:nf(o.serializer,c)}}if(r instanceof ot){const c=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nf(o.serializer,c)}}if(r instanceof Fi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:u1(o.serializer,r._byteString)};if(r instanceof mt){const c=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(c))throw o.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Sg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof fi)return(function(u,p){const m=u instanceof fi?u.toArray():u;return{mapValue:{fields:{[LS]:{stringValue:US},[Jh]:{arrayValue:{values:m.map((_=>{if(typeof _!="number")throw p.createError("VectorValues must only contain numeric values.");return vg(p.serializer,_)}))}}}}}})(r,o);if(y1(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Tf(r)}`)})(i,e)}function H1(i,e){const t={};return kS(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(i,((r,o)=>{const c=Ho(o,e.childContextForField(r));c!=null&&(t[r]=c)})),{mapValue:{fields:t}}}function $1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ot||i instanceof Fi||i instanceof Yn||i instanceof mt||i instanceof Uc||i instanceof fi||y1(i))}function $g(i,e,t){if(!$1(t)||!xS(t)){const r=Tf(t);throw r==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+r)}}function Po(i,e,t){if((e=jt(e))instanceof qg)return e._internalPath;if(typeof e=="string")return G1(i,e);throw lf("Field path arguments must be of type string or ",i,!1,void 0,t)}const uM=new RegExp("[~\\*/\\[\\]]");function G1(i,e,t){if(e.search(uM)>=0)throw lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new qg(...e.split("."))._internalPath}catch{throw lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function lf(i,e,t,r,o){const c=r&&!r.isEmpty(),u=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(c||u)&&(m+=" (found",c&&(m+=` in field ${r}`),u&&(m+=` in document ${o}`),m+=")"),new le(Z.INVALID_ARGUMENT,p+i+m)}function K1(i,e){return i.some((t=>t.isEqual(e)))}class hM{convertValue(e,t="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return As(e,((o,c)=>{r[o]=this.convertValue(c,t)})),r}convertVectorValue(e){const t=e.fields?.[Jh].arrayValue?.values?.map((r=>Tt(r.doubleValue)));return new fi(t)}convertGeoPoint(e){return new Fi(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Sf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){const t=Es(e);return new ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rt.fromString(e);Ke(g1(r),9688,{name:e});const o=new yc(r.get(1),r.get(3)),c=new ye(r.popFirst(5));return o.isEqual(t)||Cr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class Gg extends hM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}}function fM(...i){return new Fg("arrayUnion",i)}function go(i){return new Hg("increment",i)}const jE="@firebase/firestore",zE="4.11.0";function BE(i){return(function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class Y1{constructor(e,t,r,o,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Po("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dM extends Y1{data(){return super.data()}}function Q1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kg{}class X1 extends Kg{}function qE(i,e,...t){let r=[];e instanceof Kg&&r.push(e),r=r.concat(t),(function(c){const u=c.filter((m=>m instanceof Yg)).length,p=c.filter((m=>m instanceof Uf)).length;if(u>1||u>0&&p>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class Uf extends X1{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Uf(e,t,r)}_apply(e){const t=this._parse(e);return J1(e._query,t),new ws(e.firestore,e.converter,Im(e._query,t))}_parse(e){const t=Vf(e.firestore);return(function(c,u,p,m,g,_,T){let S;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){$E(T,_);const j=[];for(const F of T)j.push(HE(m,c,F));S={arrayValue:{values:j}}}else S=HE(m,c,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||$E(T,_),S=cM(p,u,T,_==="in"||_==="not-in");return Ot.create(g,_,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function pM(i,e,t){const r=e,o=Po("where",i);return Uf._create(o,r,t)}class Yg extends Kg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yg(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:di.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let u=o;const p=c.getFlattenedFilters();for(const m of p)J1(u,m),u=Im(u,m)})(e._query,t),new ws(e.firestore,e.converter,Im(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qg extends X1{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Qg(e,t,r)}_apply(e){return new ws(e.firestore,e.converter,ef(e._query,this._limit,this._limitType))}}function FE(i){return Qg._create("limit",i,"F")}function HE(i,e,t){if(typeof(t=jt(t))=="string"){if(t==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GS(e)&&t.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rt.fromString(t));if(!ye.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nE(i,new ye(r))}if(t instanceof mt)return nE(i,t._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tf(t)}.`)}function $E(i,e){if(!Array.isArray(i)||i.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function J1(i,e){const t=(function(o,c){for(const u of o)for(const p of u.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function W1(i,e,t){let r;return r=i?i.toFirestore(e):e,r}class ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ua extends Y1{constructor(e,t,r,o,c,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Po("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ua._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:Mt("string",ua._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Oh extends ua{data(e={}){return super.data(e)}}class ha{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ic(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Oh(this._firestore,this._userDataWriter,r.key,r,new ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((p=>{const m=new Oh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ic(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const m=new Oh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ic(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return p.type!==0&&(g=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),_=u.indexOf(p.doc.key)),{type:mM(p.type),doc:m,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ha._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:i})}}ha._jsonSchemaVersion="firestore/querySnapshot/1.0",ha._jsonSchema={type:Mt("string",ha._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};function am(i){i=En(i,mt);const e=En(i.firestore,Ar),t=Mf(e);return Q4(t,i._key).then((r=>Z1(e,i,r)))}function gM(i){i=En(i,ws);const e=En(i.firestore,Ar),t=Mf(e),r=new Gg(e);return Q1(i._query),X4(t,i._query).then((o=>new ha(e,r,i,o)))}function yM(i,e,t){i=En(i,mt);const r=En(i.firestore,Ar),o=W1(i.converter,e),c=Vf(r);return jf(r,[F1(c,"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Qn.none())])}function yo(i,e,t,...r){i=En(i,mt);const o=En(i.firestore,Ar),c=Vf(o);let u;return u=typeof(e=jt(e))=="string"||e instanceof qg?lM(c,"updateDoc",i._key,e,t,r):oM(c,"updateDoc",i._key,e),jf(o,[u.toMutation(i._key,Qn.exists(!0))])}function GE(i){return jf(En(i.firestore,Ar),[new Tg(i._key,Qn.none())])}function _M(i,e){const t=En(i.firestore,Ar),r=us(i),o=W1(i.converter,e),c=Vf(i.firestore);return jf(t,[F1(c,"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,Qn.exists(!1))]).then((()=>r))}function Xg(i,...e){i=jt(i);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||BE(e[r])||(t=e[r++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(BE(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let c,u,p;if(i instanceof mt)u=En(i.firestore,Ar),p=Cf(i._key.path),c={next:g=>{e[r]&&e[r](Z1(u,i,g))},error:e[r+1],complete:e[r+2]};else{const g=En(i,ws);u=En(g.firestore,Ar),p=g._query;const _=new Gg(u);c={next:T=>{e[r]&&e[r](new ha(u,_,g,T))},error:e[r+1],complete:e[r+2]},Q1(i._query)}const m=Mf(u);return Y4(m,p,o,c)}function jf(i,e){const t=Mf(i);return J4(t,e)}function Z1(i,e,t){const r=t.docs.get(e._key),o=new Gg(i);return new ua(i,o,e._key,r,new ic(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){Wk(va),fa(new vs("firestore",((r,{instanceIdentifier:o,options:c})=>{const u=r.getProvider("app").getImmediate(),p=new Ar(new tN(r.getProvider("auth-internal")),new rN(u,r.getProvider("app-check-internal")),EN(u,o),u);return c={useFetchStreams:t,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ji(jE,zE,e),ji(jE,zE,"esm2020")})();const eC="firebasestorage.googleapis.com",vM="storageBucket",TM=120*1e3,EM=600*1e3;class Xi extends Qi{constructor(e,t,r=0){super(om(e),`Firebase Storage: ${t} (${om(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return om(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ki;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ki||(Ki={}));function om(i){return"storage/"+i}function bM(){const i="An unknown error occurred, please check the error payload for server response.";return new Xi(Ki.UNKNOWN,i)}function SM(){return new Xi(Ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function CM(){return new Xi(Ki.CANCELED,"User canceled the upload/download.")}function RM(i){return new Xi(Ki.INVALID_URL,"Invalid URL '"+i+"'.")}function AM(i){return new Xi(Ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function KE(i){return new Xi(Ki.INVALID_ARGUMENT,i)}function tC(){return new Xi(Ki.APP_DELETED,"The Firebase app was deleted.")}function IM(i){return new Xi(Ki.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ui{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ui.makeFromUrl(e,t)}catch{return new ui(e,"")}if(r.path==="")return r;throw AM(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const u="(/(.*))?$",p=new RegExp("^gs://"+o+u,"i"),m={bucket:1,path:3};function g(se){se.path_=decodeURIComponent(se.path)}const _="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",x=new RegExp(`^https?://${T}/${_}/b/${o}/o${S}`,"i"),j={bucket:1,path:3},F=t===eC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,G="([^?#]*)",X=new RegExp(`^https?://${F}/${o}/${G}`,"i"),re=[{regex:p,indices:m,postModify:c},{regex:x,indices:j,postModify:g},{regex:X,indices:{bucket:1,path:2},postModify:g}];for(let se=0;se<re.length;se++){const Ee=re[se],Te=Ee.regex.exec(e);if(Te){const D=Te[Ee.indices.bucket];let I=Te[Ee.indices.path];I||(I=""),r=new ui(D,I),Ee.postModify(r);break}}if(r==null)throw RM(e);return r}}class wM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function xM(i,e,t){let r=1,o=null,c=null,u=!1,p=0;function m(){return p===2}let g=!1;function _(...G){g||(g=!0,e.apply(null,G))}function T(G){o=setTimeout(()=>{o=null,i(x,m())},G)}function S(){c&&clearTimeout(c)}function x(G,...X){if(g){S();return}if(G){S(),_.call(null,G,...X);return}if(m()||u){S(),_.call(null,G,...X);return}r<64&&(r*=2);let re;p===1?(p=2,re=0):re=(r+Math.random())*1e3,T(re)}let j=!1;function F(G){j||(j=!0,S(),!g&&(o!==null?(G||(p=2),clearTimeout(o),T(0)):G||(p=1)))}return T(0),c=setTimeout(()=>{u=!0,F(!0)},t),F}function DM(i){i(!1)}function kM(i){return i!==void 0}function YE(i,e,t,r){if(r<e)throw KE(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>t)throw KE(`Invalid value for '${i}'. Expected ${t} or less.`)}function NM(i){const e=encodeURIComponent;let t="?";for(const r in i)if(i.hasOwnProperty(r)){const o=e(r)+"="+e(i[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var cf;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(cf||(cf={}));function OM(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,c=e.indexOf(i)!==-1;return t||o||c}class MM{constructor(e,t,r,o,c,u,p,m,g,_,T,S=!0,x=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=u,this.callback_=p,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=T,this.retry=S,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,F)=>{this.resolve_=j,this.reject_=F,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Eh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const u=p=>{const m=p.loaded,g=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&c.addUploadProgressListener(u),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(u),this.pendingConnection_=null;const p=c.getErrorCode()===cf.NO_ERROR,m=c.getStatus();if(!p||OM(m,this.additionalRetryCodes_)&&this.retry){const _=c.getErrorCode()===cf.ABORT;r(!1,new Eh(!1,null,_));return}const g=this.successCodes_.indexOf(m)!==-1;r(!0,new Eh(g,c))})},t=(r,o)=>{const c=this.resolve_,u=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());kM(m)?c(m):c()}catch(m){u(m)}else if(p!==null){const m=bM();m.serverResponse=p.getErrorText(),this.errorCallback_?u(this.errorCallback_(p,m)):u(m)}else if(o.canceled){const m=this.appDelete_?tC():CM();u(m)}else{const m=SM();u(m)}};this.canceled_?t(!1,new Eh(!1,null,!0)):this.backoffId_=xM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&DM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function PM(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function VM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function LM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function UM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function jM(i,e,t,r,o,c,u=!0,p=!1){const m=NM(i.urlParams),g=i.url+m,_=Object.assign({},i.headers);return LM(_,e),PM(_,t),VM(_,c),UM(_,r),new MM(g,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,u,p)}function zM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function BM(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}class uf{constructor(e,t){this._service=e,t instanceof ui?this._location=t:this._location=ui.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new uf(e,t)}get root(){const e=new ui(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BM(this._location.path)}get storage(){return this._service}get parent(){const e=zM(this._location.path);if(e===null)return null;const t=new ui(this._location.bucket,e);return new uf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw IM(e)}}function QE(i,e){const t=e?.[vM];return t==null?null:ui.makeFromBucketSpec(t,i)}function qM(i,e,t,r={}){i.host=`${e}:${t}`;const o=_a(e);o&&(Jm(`https://${i.host}/b`),Wm("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:c}=r;c&&(i._overrideAuthToken=typeof c=="string"?c:Ub(c,i.app.options.projectId))}class FM{constructor(e,t,r,o,c,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=u,this._bucket=null,this._host=eC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=TM,this._maxUploadRetryTime=EM,this._requests=new Set,o!=null?this._bucket=ui.makeFromBucketSpec(o,this._host):this._bucket=QE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ui.makeFromBucketSpec(this._url,e):this._bucket=QE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new uf(this,e)}_makeRequest(e,t,r,o,c=!0){if(this._deleted)return new wM(tC());{const u=jM(e,this._appId,r,o,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const XE="@firebase/storage",JE="0.14.0";const nC="storage";function HM(i=tg(),e){i=jt(i);const r=gf(i,nC).getImmediate({identifier:e}),o=Pb("storage");return o&&$M(r,...o),r}function $M(i,e,t,r={}){qM(i,e,t,r)}function GM(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new FM(t,r,o,e,va)}function KM(){fa(new vs(nC,GM,"PUBLIC").setMultipleInstances(!0)),ji(XE,JE,""),ji(XE,JE,"esm2020")}KM();const YM={apiKey:"AIzaSyAvgQSLnHVCCkLqX8ekCZhq-cEBXxK7x7M",authDomain:"our-fa712.firebaseapp.com",projectId:"our-fa712",storageBucket:"our-fa712.firebasestorage.app",messagingSenderId:"976667505393",appId:"1:976667505393:web:e463ef03741b16a38faf50",measurementId:"G-02HNK28NEC"},Jg=Bb(YM),hc=kc(Jg),QM=new gr,Ui=tM(Jg);HM(Jg);function XM({toggleSidebar:i,toggleTheme:e}){const t=pi(),[r,o]=L.useState(null),[c,u]=L.useState(!1),[p,m]=L.useState(!1),g=L.useRef();L.useEffect(()=>{const x=xc(hc,j=>{o(j)});return()=>x()},[]),L.useEffect(()=>{const x=j=>{g.current&&!g.current.contains(j.target)&&u(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const _=async()=>{try{await rk(hc,QM),m(!1)}catch(x){console.log(x)}},T=async()=>{try{await UD(hc),u(!1)}catch(x){console.log(x)}},S=()=>{if(!r){m(!0);return}t("/channel")};return R.jsxs(R.Fragment,{children:[R.jsxs("header",{className:"navbar",children:[R.jsxs("div",{className:"left",children:[R.jsx("button",{className:"menu-btn",onClick:i,children:""}),R.jsx("div",{className:"logo",style:{cursor:"pointer"},onClick:()=>t("/"),children:"OurYouTube"})]}),R.jsxs("div",{className:"nav-center",children:[R.jsxs("div",{className:"search-container",children:[R.jsx("input",{type:"text",placeholder:"Search",className:"search-bar"}),R.jsx("button",{className:"search-btn",children:R.jsx(YI,{size:18})})]}),R.jsx("button",{className:"mic-btn",children:R.jsx(MI,{size:20})}),R.jsx("button",{className:"mic-btn",onClick:()=>t("/videocall"),title:"Live Video Call",children:R.jsx(Db,{size:20})})]}),R.jsxs("div",{className:"nav-actions",children:[R.jsx("button",{className:"icon-btn",onClick:e,children:R.jsx(zI,{size:20})}),R.jsxs("button",{className:"create-btn",onClick:S,children:[R.jsx(GI,{size:18}),R.jsx("span",{children:"Create"})]}),R.jsxs("button",{className:"icon-btn notification-btn",children:[R.jsx(gI,{size:20}),R.jsx("span",{className:"badge",children:"9+"})]}),r?R.jsxs("div",{className:"profile-wrapper",ref:g,children:[R.jsx("button",{className:"icon-btn",onClick:()=>u(!c),children:R.jsx("img",{src:r.photoURL,alt:"profile",style:{width:"28px",height:"28px",borderRadius:"50%",objectFit:"cover"}})}),c&&R.jsxs("div",{className:"profile-dropdown",children:[R.jsxs("div",{className:"profile-info",children:[R.jsx("img",{src:r.photoURL,alt:"profile",className:"dropdown-avatar"}),R.jsxs("div",{children:[R.jsx("div",{className:"profile-name",children:r.displayName}),R.jsx("div",{className:"profile-email",children:r.email})]})]}),R.jsx("div",{className:"dropdown-divider"}),R.jsx("div",{className:"dropdown-item",onClick:()=>window.open("https://myaccount.google.com","_blank"),children:"Manage account"}),R.jsx("div",{className:"dropdown-item logout",onClick:T,children:"Logout"})]})]}):R.jsx("button",{className:"icon-btn",onClick:_,children:R.jsx(fw,{size:20})})]})]}),p&&R.jsx("div",{style:JM,children:R.jsxs("div",{style:WM,children:[R.jsx("h3",{style:{marginBottom:"10px"},children:"Sign in required"}),R.jsx("p",{style:{color:"#aaa",marginBottom:"20px"},children:"Please login first to create your channel."}),R.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[R.jsx("button",{style:ZM,onClick:()=>m(!1),children:"Cancel"}),R.jsx("button",{style:e3,onClick:_,children:"Login"})]})]})})]})}const JM={position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},WM={background:"#1f1f1f",padding:"25px",borderRadius:"12px",width:"320px",boxShadow:"0 10px 30px rgba(0,0,0,0.5)"},ZM={padding:"8px 14px",background:"transparent",border:"1px solid #555",color:"#fff",borderRadius:"6px",cursor:"pointer"},e3={padding:"8px 14px",background:"#ff0000",border:"none",color:"#fff",borderRadius:"6px",cursor:"pointer"},t3=({collapsed:i})=>{const e=pi(),t=[{items:[{icon:R.jsx(DI,{size:20}),label:"Home",action:()=>e("/")},{icon:R.jsx(AI,{size:20}),label:"Trending",action:()=>e("/trending")},{icon:R.jsx(mw,{size:20}),label:"Subscriptions",action:()=>e("/subscriptions")}]},{title:"You",titleAction:()=>e("/profile"),items:[{icon:R.jsx(wI,{size:20}),label:"History",action:()=>e("/history")},{icon:R.jsx(sw,{size:20}),label:"Your Videos",action:()=>e("/channel")},{icon:R.jsx(xb,{size:20}),label:"Liked Videos",action:()=>e("/liked")},{icon:R.jsx(NI,{size:20}),label:"Playlist"},{icon:R.jsx(TI,{size:20}),label:"Watch Later"},{icon:R.jsx(bI,{size:20}),label:"Downloads"}]},{title:"Explore",items:[{icon:R.jsx(tw,{size:20}),label:"Shopping"},{icon:R.jsx(UI,{size:20}),label:"Music"}]},{title:"More",items:[{icon:R.jsx(JI,{size:20}),label:"Settings"},{icon:R.jsx(CI,{size:20}),label:"Report History"},{icon:R.jsx(_I,{size:20}),label:"Help"},{icon:R.jsx(wb,{size:20}),label:"Send Feedback"}]}];return R.jsx("aside",{className:`sidebar ${i?"collapsed":""}`,children:t.map((r,o)=>R.jsxs("div",{className:"sidebar-section",children:[!i&&r.title&&R.jsx("div",{className:"menu-item section-heading",onClick:r.titleAction,style:{cursor:"pointer"},children:R.jsx("span",{children:r.title})}),r.items.map((c,u)=>R.jsxs("div",{className:"menu-item",onClick:c.action,style:{cursor:c.action?"pointer":"default"},children:[c.icon,!i&&R.jsx("span",{children:c.label})]},u)),R.jsx("div",{className:"divider"})]},o))})};function Gn({children:i}){const[e,t]=L.useState(!1),[r,o]=L.useState(()=>{const u=localStorage.getItem("app-theme-index");return u!==null?Number(u):2});L.useEffect(()=>{const u=["theme-blue","theme-pink","theme-dark"];document.body.className=u[r],localStorage.setItem("app-theme-index",r)},[r]);const c=()=>{o(u=>(u+1)%3)};return R.jsxs("div",{className:"layout",children:[R.jsx(XM,{toggleSidebar:()=>t(!e),toggleTheme:c}),R.jsxs("div",{className:"layout-body",children:[R.jsx(t3,{collapsed:e}),R.jsx("main",{className:"content",children:i})]})]})}const Wg="/our-youtube/assets/video1-UEEoDnsJ.mp4",Zg="/our-youtube/assets/video3-DO2vpsP6.mp4",ey="/our-youtube/assets/video4-CD6jW9VX.mp4",ty="/our-youtube/assets/video5-Db9UoDCj.mp4",ny="/our-youtube/assets/video6-BHsN66l6.mp4",iy="/our-youtube/assets/video7-BIYlOyOc.mp4",ry="/our-youtube/assets/video8-Bxw9oue4.mp4",sy="/our-youtube/assets/video9-Bif8TDiU.mp4",ay="/our-youtube/assets/video10-BpShxEWe.mp4",oy="/our-youtube/assets/video11-SuWI0t5t.mp4",Vo="/our-youtube/assets/video12-CSeBU8cT.mp4",ly="/our-youtube/assets/video13-DeHBN6yM.mp4",cy="/our-youtube/assets/video14-DzyyiUls.mp4",uy="/our-youtube/assets/video15-CMVMjxsG.mp4",hy="/our-youtube/assets/video16-C93QuG6x.mp4",fy="/our-youtube/assets/thumb1-1FXURbUQ.jpg",dy="/our-youtube/assets/thumb2-DuUFymNn.jpg",py="/our-youtube/assets/thumb3-BwuCKuNk.jpg",my="/our-youtube/assets/thumb4-DOnQX464.jpg",gy="/our-youtube/assets/thumb5-Z-o-eqrn.jpg",yy="/our-youtube/assets/thumb6-DLR85PXC.jpg",_y="/our-youtube/assets/thumb7-D_CpniXg.jpg",vy="/our-youtube/assets/thumb8-Dil7fVwc.jpg",Ty="/our-youtube/assets/thumb9-CkfSRIPq.jpg",Ey="/our-youtube/assets/thumb10-yMNix9bE.jpg",by="/our-youtube/assets/thumb11-CJNAvY3R.jpg",Sy="/our-youtube/assets/thumb12-DNrMu4h5.jpg",Cy="/our-youtube/assets/thumb13-BdtBgOPe.jpg",Ry="/our-youtube/assets/thumb14-AZTW6bkW.jpg",Ay="/our-youtube/assets/thumb15-C39jLoKD.jpg",Iy="/our-youtube/assets/thumb16-D-qfGF3r.jpg";function n3(){const i=pi(),[e,t]=L.useState({});L.useEffect(()=>{const c=Xg(Bg(Ui,"videos"),u=>{const p={};u.forEach(m=>{p[m.id]=m.data().views||0}),t(p)});return()=>c()},[]);const o=[...[{id:1,title:"Ratiyaan",channel:"Live With Shweta",videoSrc:Wg,thumb:fy},{id:2,title:"EK DIN APP HAMKO",channel:"Shivam",videoSrc:Vo,thumb:dy},{id:3,title:"Existentialism",channel:"Life With Yogi",videoSrc:Zg,thumb:py},{id:4,title:"Ranjaana",channel:"Bollywood Beats",videoSrc:ey,thumb:my},{id:5,title:"India's victory",channel:"World Affairs",videoSrc:ty,thumb:gy},{id:6,title:"Phir Miloge Na",channel:"Abhishek Sir",videoSrc:ny,thumb:yy},{id:7,title:"Jane kis mod se",channel:"Music With Guljar Sir",videoSrc:iy,thumb:_y},{id:8,title:"Tera Rastaa Chhodoon na",channel:"Our Music",videoSrc:ry,thumb:vy},{id:9,title:"Jagat mai kesa nata re",channel:"Kabir Song",videoSrc:sy,thumb:Ty},{id:10,title:"Mahakal jai Kal",channel:"Mahadev Song",videoSrc:ay,thumb:Ey},{id:11,title:"Rihaee",channel:"Love affection",videoSrc:oy,thumb:by},{id:12,title:"Sahiba",channel:"T-Series",videoSrc:Vo,thumb:Sy},{id:13,title:"Sammay Samjayega",channel:"Radha Krishn Prem",videoSrc:ly,thumb:Cy},{id:14,title:"Shiva asthkam",channel:"Shiva Asthkam",videoSrc:cy,thumb:Ry},{id:15,title:"Tere Isqa me Jogi",channel:"Spritual Love",videoSrc:uy,thumb:Ay},{id:16,title:"Mahi",channel:"Songs",videoSrc:hy,thumb:Iy}]].sort((c,u)=>{const p=e[c.id]||0;return(e[u.id]||0)-p});return R.jsxs("div",{children:[R.jsx("h1",{style:{marginBottom:"20px",fontWeight:"600"},children:"Recommended Videos"}),R.jsx("div",{className:"video-grid",children:o.map(c=>R.jsxs("div",{className:"video-card",onClick:()=>i(`/watch/${c.id}`),children:[R.jsx("img",{src:c.thumb,alt:c.title,className:"thumbnail"}),R.jsxs("div",{style:{padding:"12px"},children:[R.jsx("h3",{style:{fontSize:"14px"},children:c.title}),R.jsx("p",{style:{fontSize:"13px",color:"#ccc"},children:c.channel}),R.jsxs("p",{style:{fontSize:"12px",color:"#aaa"},children:[e[c.id]||0," views"]})]})]},c.id))})]})}function i3(){const{id:i}=m2(),e=pi(),t=L.useRef(!1),[r,o]=L.useState(0),[c,u]=L.useState(0),[p,m]=L.useState(0),[g,_]=L.useState([]),[T,S]=L.useState(!1),[x,j]=L.useState(!1),[F,G]=L.useState(""),[X,ne]=L.useState(null),re=[{id:1,title:"Ratiyaan",channel:"Live With Shweta",videoSrc:Wg,thumb:fy},{id:2,title:"EK DIN APP HAMKO",channel:"Shivam",videoSrc:Vo,thumb:dy},{id:3,title:"Existentialism",channel:"Life With Yogi",videoSrc:Zg,thumb:py},{id:4,title:"Ranjaana",channel:"Bollywood Beats",videoSrc:ey,thumb:my},{id:5,title:"India's victory",channel:"World Affairs",videoSrc:ty,thumb:gy},{id:6,title:"Phir Miloge Na",channel:"Abhishek Sir",videoSrc:ny,thumb:yy},{id:7,title:"Jane kis mod se",channel:"Music With Guljar Sir",videoSrc:iy,thumb:_y},{id:8,title:"Tera Rastaa Chhodoon na",channel:"Our Music",videoSrc:ry,thumb:vy},{id:9,title:"Jagat mai kesa nata re",channel:"Kabir Song",videoSrc:sy,thumb:Ty},{id:10,title:"Mahakal jai Kal",channel:"Mahadev Song",videoSrc:ay,thumb:Ey},{id:11,title:"Rihaee",channel:"Love affection",videoSrc:oy,thumb:by},{id:12,title:"Sahiba",channel:"T-Series",videoSrc:Vo,thumb:Sy},{id:13,title:"Sammay Samjayega",channel:"Radha Krishn Prem",videoSrc:ly,thumb:Cy},{id:14,title:"Shiva asthkam",channel:"Shiva Asthkam",videoSrc:cy,thumb:Ry},{id:15,title:"Tere Isqa me Jogi",channel:"Spritual Love",videoSrc:uy,thumb:Ay},{id:16,title:"Mahi",channel:"Songs",videoSrc:hy,thumb:Iy}],se=re.find(A=>A.id===parseInt(i));if(!se)return R.jsx("h2",{style:{padding:"20px"},children:"Video not found"});L.useEffect(()=>{const A=hc.onAuthStateChanged(O=>{ne(O)});return()=>A()},[]),L.useEffect(()=>{if(!X)return;const A=`history_${X.uid}`,O=JSON.parse(localStorage.getItem(A))||[],N=[se,...O.filter(V=>V.id!==se.id)];localStorage.setItem(A,JSON.stringify(N))},[se.id,X]),L.useEffect(()=>{const A=us(Ui,"videos",String(se.id));(async()=>(await am(A)).exists()||await yM(A,{views:0,likes:0,comments:[],subscribers:0,likedUsers:[],subscribedUsers:[],dailyViews:{}}))();const N=Xg(A,V=>{if(V.exists()){const w=V.data();o(w.views||0),u(w.likes||0),m(w.subscribers||0),_(w.comments||[]),S(X&&w.likedUsers?.includes(X.uid)),j(X&&w.subscribedUsers?.includes(X.uid))}});return()=>N()},[se.id,X]),L.useEffect(()=>{if(t.current)return;(async()=>{const O=us(Ui,"videos",String(se.id)),N=new Date().toISOString().split("T")[0];await yo(O,{views:go(1),[`dailyViews.${N}`]:go(1)}),t.current=!0})()},[se.id]);const Ee=async()=>{if(!X)return alert("Login required");const A=us(Ui,"videos",String(se.id)),V=(await am(A)).data().likedUsers||[],w=`liked_${X.uid}`,qe=JSON.parse(localStorage.getItem(w))||[];if(V.includes(X.uid)){await yo(A,{likes:go(-1),likedUsers:V.filter($=>$!==X.uid)});const me=qe.filter($=>$.id!==se.id);localStorage.setItem(w,JSON.stringify(me)),S(!1)}else{await yo(A,{likes:go(1),likedUsers:[...V,X.uid]});const me=[se,...qe.filter($=>$.id!==se.id)];localStorage.setItem(w,JSON.stringify(me)),S(!0)}},Te=async()=>{if(!X)return alert("Login required");const A=us(Ui,"videos",String(se.id)),V=(await am(A)).data().subscribedUsers||[],w=`subs_${X.uid}`,qe=JSON.parse(localStorage.getItem(w))||[];if(V.includes(X.uid)){await yo(A,{subscribers:go(-1),subscribedUsers:V.filter($=>$!==X.uid)});const me=qe.filter($=>$.id!==se.id);localStorage.setItem(w,JSON.stringify(me)),j(!1)}else{await yo(A,{subscribers:go(1),subscribedUsers:[...V,X.uid]});const $=[{id:se.id,name:se.channel,thumb:se.thumb},...qe.filter(ie=>ie.id!==se.id)];localStorage.setItem(w,JSON.stringify($)),j(!0)}},D=async()=>{const A={title:se.title,text:`Watch ${se.title}`,url:window.location.href};if(navigator.share)try{await navigator.share(A)}catch{console.log("Share cancelled")}else navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")},I=async()=>{if(!X)return alert("Login required");if(!F.trim())return;const A=us(Ui,"videos",String(se.id));await yo(A,{comments:fM({id:Date.now(),text:F,name:X.displayName,photo:X.photoURL})}),G("")};return R.jsxs("div",{className:"watch-page",children:[R.jsxs("div",{className:"watch-left",children:[R.jsx("video",{src:se.videoSrc,controls:!0,autoPlay:!0,className:"main-video"}),R.jsx("h2",{style:{marginTop:"12px"},children:se.title}),R.jsx("p",{style:{marginTop:"6px",color:"#ccc"},children:se.channel}),R.jsxs("p",{style:{color:"#aaa",fontSize:"14px"},children:[r," views  ",c," likes  ",p," subscribers"]}),R.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"15px"},children:[R.jsxs("button",{onClick:Ee,style:{padding:"8px 16px",borderRadius:"20px",border:"none",background:T?"#0d6efd":"#333",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[R.jsx(xb,{size:18}),T?"Unlike":"Like"]}),R.jsxs("button",{onClick:Te,style:{padding:"8px 16px",borderRadius:"20px",border:"none",background:x?"gray":"red",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[R.jsx(uw,{size:18}),x?"Unsubscribe":"Subscribe"]}),R.jsxs("button",{onClick:D,style:{padding:"8px 16px",borderRadius:"20px",border:"none",background:"#333",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[R.jsx(ZI,{size:18}),"Share"]})]}),R.jsx("button",{style:{marginTop:"15px",padding:"8px 16px",borderRadius:"20px",border:"none",background:"#333",color:"white"},onClick:()=>e("/"),children:" Back to Home"}),R.jsxs("div",{style:{marginTop:"35px"},children:[R.jsxs("h3",{style:{marginBottom:"15px"},children:["Comments (",g.length,")"]}),R.jsxs("div",{style:{display:"flex",gap:"10px"},children:[R.jsx("input",{type:"text",value:F,onChange:A=>G(A.target.value),placeholder:"Add a comment...",style:{flex:1,padding:"10px",borderRadius:"20px",border:"1px solid #444",background:"#222",color:"white"}}),R.jsx("button",{onClick:I,style:{padding:"8px 16px",borderRadius:"20px",border:"none",background:"#0d6efd",color:"white"},children:"Post"})]}),R.jsx("div",{style:{marginTop:"20px"},children:g.map(A=>R.jsxs("div",{style:{background:"#1e1e1e",padding:"12px",borderRadius:"12px",marginBottom:"10px",display:"flex",gap:"10px",alignItems:"center"},children:[R.jsx("img",{src:A.photo,alt:"user",style:{width:"35px",height:"35px",borderRadius:"50%"}}),R.jsxs("div",{children:[R.jsx("strong",{children:A.name}),R.jsx("p",{style:{margin:0},children:A.text})]})]},A.id))})]})]}),R.jsx("div",{className:"watch-right",children:re.filter(A=>A.id!==se.id).map(A=>R.jsxs("div",{className:"suggested-video",onClick:()=>e(`/watch/${A.id}`),children:[R.jsx("img",{src:A.thumb,alt:A.title,className:"suggested-thumb"}),R.jsx("div",{children:R.jsx("p",{children:A.title})})]},A.id))})]})}function r3(){return R.jsx("div",{children:R.jsx("h1",{children:"Upload Page"})})}function s3(){return R.jsx("div",{children:R.jsx("h1",{children:"Login Page"})})}function a3(){return R.jsx("div",{children:R.jsx("h1",{children:"Register Page"})})}function o3(){const i=pi(),e=L.useRef(null),t=L.useRef(null),r=L.useRef([]),[o,c]=L.useState(null),[u,p]=L.useState(!1),[m,g]=L.useState([]);L.useEffect(()=>{const x=hc.onAuthStateChanged(j=>{j?c(j):i("/")});return()=>x()},[i]),L.useEffect(()=>{const x=JSON.parse(localStorage.getItem("myChannelVideos"))||[];g(x)},[]);const _=async()=>{const x=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});e.current.srcObject=x;const j=new MediaRecorder(x);t.current=j,r.current=[],j.ondataavailable=F=>{F.data.size>0&&r.current.push(F.data)},j.onstop=()=>{const F=new Blob(r.current,{type:"video/mp4"}),G=URL.createObjectURL(F),ne=[{id:Date.now(),url:G,title:`Live Recording ${m.length+1}`},...m];g(ne),localStorage.setItem("myChannelVideos",JSON.stringify(ne))},j.start(),p(!0)},T=()=>{t.current.stop(),e.current.srcObject.getTracks().forEach(x=>x.stop()),p(!1)},S=x=>{const j=m.filter(F=>F.id!==x);g(j),localStorage.setItem("myChannelVideos",JSON.stringify(j))};return o?R.jsxs("div",{className:"channel-container",children:[R.jsx("button",{className:"back-button",onClick:()=>i("/"),children:" Back to Home"}),R.jsxs("div",{className:"channel-header",children:[R.jsx("img",{src:o.photoURL,alt:"user",className:"profile-pic"}),R.jsxs("div",{children:[R.jsx("h2",{children:o.displayName}),R.jsx("p",{className:"user-email",children:o.email}),R.jsxs("p",{className:"video-count",children:[m.length," Videos"]})]})]}),R.jsxs("div",{className:"recording-section",children:[R.jsx("h3",{className:"channel-section-title",children:"Go Live"}),R.jsx("video",{ref:e,autoPlay:!0,muted:!0,className:"live-preview"}),R.jsx("div",{className:"controls",children:u?R.jsx("button",{className:"btn-stop",onClick:T,children:" Stop Recording"}):R.jsx("button",{className:"btn-record",onClick:_,children:" Start Recording"})})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"channel-section-title",children:"Your Videos"}),m.length===0&&R.jsx("p",{className:"no-videos",children:"No videos recorded yet."}),m.map(x=>R.jsxs("div",{className:"video-list-item",children:[R.jsxs("div",{className:"video-item-header",children:[R.jsx("h4",{children:x.title}),R.jsx("button",{className:"delete-btn",onClick:()=>S(x.id),title:"Delete Video",children:"Delete"})]}),R.jsx("video",{src:x.url,controls:!0,className:"recorded-video"})]},x.id))]})]}):null}const l3=()=>{const i=kc(),e=pi(),[t,r]=L.useState(null),[o,c]=L.useState(!0),[u,p]=L.useState([]),[m,g]=L.useState([]);return L.useEffect(()=>{const _=xc(i,T=>{if(r(T),c(!1),T){const S=`history_${T.uid}`,x=JSON.parse(localStorage.getItem(S))||[];p(x);const j=`liked_${T.uid}`,F=JSON.parse(localStorage.getItem(j))||[];g(F)}});return()=>_()},[i]),o?R.jsx("div",{className:"profile-page",children:R.jsx("p",{style:{color:"#aaa"},children:"Loading..."})}):t?R.jsxs("div",{className:"profile-page",children:[R.jsxs("div",{className:"profile-header",children:[R.jsx("img",{src:t.photoURL,alt:"Profile",className:"profile-avatar"}),R.jsxs("div",{className:"profile-info",children:[R.jsx("div",{className:"profile-name",children:t.displayName}),R.jsx("div",{className:"profile-username",children:t.email}),R.jsxs("div",{className:"profile-actions",children:[R.jsx("button",{className:"profile-btn",children:"Switch account"}),R.jsx("button",{className:"profile-btn",children:"Google Account"})]})]})]}),R.jsxs("div",{className:"profile-history",children:[R.jsx("h3",{children:"History"}),u.length===0?R.jsx("p",{style:{color:"#aaa"},children:"No watch history yet."}):R.jsx("div",{className:"history-grid",children:u.map(_=>R.jsxs("div",{className:"history-card",onClick:()=>e(`/watch/${_.id}`),children:[R.jsx("img",{src:_.thumb,alt:_.title,className:"history-thumb"}),R.jsx("div",{className:"history-title",children:_.title}),R.jsx("div",{className:"history-channel",children:_.channel})]},_.id))})]}),R.jsxs("div",{className:"profile-history",style:{marginTop:"40px"},children:[R.jsx("h3",{children:"You liked videos"}),m.length===0?R.jsx("p",{style:{color:"#aaa"},children:"No liked videos yet."}):R.jsx("div",{className:"history-grid",children:m.map(_=>R.jsxs("div",{className:"history-card",onClick:()=>e(`/watch/${_.id}`),children:[R.jsx("img",{src:_.thumb,alt:_.title,className:"history-thumb"}),R.jsx("div",{className:"history-title",children:_.title}),R.jsx("div",{className:"history-channel",children:_.channel})]},_.id))})]})]}):R.jsx("div",{className:"profile-page",children:R.jsx("p",{style:{color:"#aaa"},children:"No user logged in"})})};function c3(){const[i,e]=L.useState([]),[t,r]=L.useState(!0),[o,c]=L.useState(null),u=pi(),p=kc();return L.useEffect(()=>{const m=xc(p,g=>{if(c(g),r(!1),g){const _=`history_${g.uid}`,T=JSON.parse(localStorage.getItem(_))||[];e(T)}});return()=>m()},[p]),t?R.jsx("p",{style:{color:"#aaa"},children:"Loading..."}):o?R.jsxs("div",{children:[R.jsx("h1",{style:{marginBottom:"20px",fontWeight:"600"},children:"History"}),i.length===0?R.jsx("p",{style:{color:"#aaa"},children:"No watch history yet."}):R.jsx("div",{className:"video-grid",children:i.map(m=>R.jsxs("div",{className:"video-card",onClick:()=>u(`/watch/${m.id}`),children:[R.jsx("img",{src:m.thumb,alt:m.title,className:"thumbnail"}),R.jsxs("div",{style:{padding:"12px"},children:[R.jsx("h3",{style:{fontSize:"14px"},children:m.title}),R.jsx("p",{style:{fontSize:"13px",color:"#ccc"},children:m.channel})]})]},m.id))})]}):R.jsx("p",{style:{color:"#aaa"},children:"No user logged in"})}function u3(){const[i,e]=L.useState([]),[t,r]=L.useState(!0),[o,c]=L.useState(null),u=pi(),p=kc();return L.useEffect(()=>{const m=xc(p,g=>{if(c(g),r(!1),g){const _=`liked_${g.uid}`,T=JSON.parse(localStorage.getItem(_))||[];e(T)}});return()=>m()},[p]),t?R.jsx("p",{style:{color:"#aaa"},children:"Loading..."}):o?R.jsxs("div",{children:[R.jsx("h1",{style:{marginBottom:"20px",fontWeight:"600"},children:" You Liked Videos"}),i.length===0?R.jsx("p",{style:{color:"#aaa"},children:"No liked videos yet."}):R.jsx("div",{className:"video-grid",children:i.map(m=>R.jsxs("div",{className:"video-card",onClick:()=>u(`/watch/${m.id}`),children:[R.jsx("img",{src:m.thumb,alt:m.title,className:"thumbnail"}),R.jsxs("div",{style:{padding:"12px"},children:[R.jsx("h3",{style:{fontSize:"14px"},children:m.title}),R.jsx("p",{style:{fontSize:"13px",color:"#ccc"},children:m.channel})]})]},m.id))})]}):R.jsx("p",{style:{color:"#aaa"},children:"No user logged in"})}function h3(){const[i,e]=L.useState([]),[t,r]=L.useState(!0),[o,c]=L.useState(null),u=pi(),p=kc();return L.useEffect(()=>{const m=xc(p,g=>{if(c(g),r(!1),g){const _=`subs_${g.uid}`,T=JSON.parse(localStorage.getItem(_))||[];e(T)}});return()=>m()},[p]),t?R.jsx("p",{style:{color:"#aaa"},children:"Loading..."}):o?R.jsxs("div",{children:[R.jsx("h1",{style:{marginBottom:"20px",fontWeight:"600"},children:"Subscriptions"}),i.length===0?R.jsx("p",{style:{color:"#aaa"},children:"No subscriptions yet."}):R.jsx("div",{className:"video-grid",children:i.map(m=>R.jsxs("div",{className:"video-card",onClick:()=>u(`/channel/${m.id}`),children:[R.jsx("img",{src:m.thumb,alt:m.name,className:"thumbnail"}),R.jsxs("div",{style:{padding:"12px"},children:[R.jsx("h3",{style:{fontSize:"14px"},children:m.name}),R.jsx("p",{style:{fontSize:"13px",color:"#ccc"},children:"Channel"})]})]},m.id))})]}):R.jsx("p",{style:{color:"#aaa"},children:"No user logged in"})}function f3(){const i=pi(),[e,t]=L.useState([]),r=new Date().toISOString().split("T")[0],o=[{id:1,title:"Ratiyaan",channel:"Live With Shweta",videoSrc:Wg,thumb:fy},{id:2,title:"EK DIN APP HAMKO",channel:"Shivam",videoSrc:Vo,thumb:dy},{id:3,title:"Existentialism",channel:"Life With Yogi",videoSrc:Zg,thumb:py},{id:4,title:"Ranjaana",channel:"Bollywood Beats",videoSrc:ey,thumb:my},{id:5,title:"India's victory",channel:"World Affairs",videoSrc:ty,thumb:gy},{id:6,title:"Phir Miloge Na",channel:"Abhishek Sir",videoSrc:ny,thumb:yy},{id:7,title:"Jane kis mod se",channel:"Music With Guljar Sir",videoSrc:iy,thumb:_y},{id:8,title:"Tera Rastaa Chhodoon na",channel:"Our Music",videoSrc:ry,thumb:vy},{id:9,title:"Jagat mai kesa nata re",channel:"Kabir Song",videoSrc:sy,thumb:Ty},{id:10,title:"Mahakal jai Kal",channel:"Mahadev Song",videoSrc:ay,thumb:Ey},{id:11,title:"Rihaee",channel:"Love affection",videoSrc:oy,thumb:by},{id:12,title:"Sahiba",channel:"T-Series",videoSrc:Vo,thumb:Sy},{id:13,title:"Sammay Samjayega",channel:"Radha Krishn Prem",videoSrc:ly,thumb:Cy},{id:14,title:"Shiva asthkam",channel:"Shiva Asthkam",videoSrc:cy,thumb:Ry},{id:15,title:"Tere Isqa me Jogi",channel:"Spritual Love",videoSrc:uy,thumb:Ay},{id:16,title:"Mahi",channel:"Songs",videoSrc:hy,thumb:Iy}];return L.useEffect(()=>{const c=Xg(Bg(Ui,"videos"),u=>{let p={};u.forEach(_=>{p[_.id]=_.data()});const g=o.map(_=>{const T=p[_.id];return{..._,dailyViews:T?.dailyViews?.[r]||0,totalViews:T?.views||0}}).sort((_,T)=>T.dailyViews-_.dailyViews).slice(0,5);t(g)});return()=>c()},[r]),R.jsxs("div",{children:[R.jsx("h1",{style:{marginBottom:"20px",fontWeight:"600"},children:" Trending Today"}),R.jsx("div",{className:"video-grid",children:e.map(c=>R.jsxs("div",{className:"video-card",onClick:()=>i(`/watch/${c.id}`),children:[R.jsx("img",{src:c.thumb,alt:c.title,className:"thumbnail"}),R.jsxs("div",{style:{padding:"12px"},children:[R.jsx("h3",{style:{fontSize:"14px"},children:c.title}),R.jsx("p",{style:{fontSize:"13px",color:"#ccc"},children:c.channel}),R.jsxs("p",{style:{fontSize:"12px",color:"#aaa"},children:[c.totalViews," total views"]}),R.jsxs("p",{style:{fontSize:"12px",color:"orange"},children:[" ",c.dailyViews," views today"]})]})]},c.id))}),e.length===0&&R.jsx("p",{children:"No trending videos today."})]})}class d3{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const t of this._parts)e.push(t);return p3(e).buffer}}function p3(i){let e=0;for(const o of i)e+=o.byteLength;const t=new Uint8Array(e);let r=0;for(const o of i){const c=new Uint8Array(o.buffer,o.byteOffset,o.byteLength);t.set(c,r),r+=o.byteLength}return t}function iC(i){return new m3(i).unpack()}function rC(i){const e=new g3,t=e.pack(i);return t instanceof Promise?t.then(()=>e.getBuffer()):e.getBuffer()}class m3{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let t;if((t=e^160)<=15)return this.unpack_raw(t);if((t=e^176)<=15)return this.unpack_string(t);if((t=e^144)<=15)return this.unpack_array(t);if((t=e^128)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),t=(e[0]&255)*256+(e[1]&255);return this.index+=2,t}unpack_uint32(){const e=this.read(4),t=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,t}unpack_uint64(){const e=this.read(8),t=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,t}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t}unpack_string(e){const t=this.read(e);let r=0,o="",c,u;for(;r<e;)c=t[r],c<160?(u=c,r++):(c^192)<32?(u=(c&31)<<6|t[r+1]&63,r+=2):(c^224)<16?(u=(c&15)<<12|(t[r+1]&63)<<6|t[r+2]&63,r+=3):(u=(c&7)<<18|(t[r+1]&63)<<12|(t[r+2]&63)<<6|t[r+3]&63,r+=4),o+=String.fromCodePoint(u);return this.index+=e,o}unpack_array(e){const t=new Array(e);for(let r=0;r<e;r++)t[r]=this.unpack();return t}unpack_map(e){const t={};for(let r=0;r<e;r++){const o=this.unpack();t[o]=this.unpack()}return t}unpack_float(){const e=this.unpack_uint32(),t=e>>31,r=(e>>23&255)-127,o=e&8388607|8388608;return(t===0?1:-1)*o*2**(r-23)}unpack_double(){const e=this.unpack_uint32(),t=this.unpack_uint32(),r=e>>31,o=(e>>20&2047)-1023,u=(e&1048575|1048576)*2**(o-20)+t*2**(o-52);return(r===0?1:-1)*u}read(e){const t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")}}class g3{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const t=e.constructor;if(e instanceof Array){const r=this.pack_array(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const r=e;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(t==Object||t.toString().startsWith("class")){const r=this.pack_object(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${t.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const t=e.length;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this._bufferBuilder.append(218),this.pack_uint16(t);else if(t<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(t);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const t=this._textEncoder.encode(e),r=t.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_array(e){const t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this._bufferBuilder.append(220),this.pack_uint16(t);else if(t<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(t);else throw new Error("Invalid length");const r=o=>{if(o<t){const c=this.pack(e[o]);return c instanceof Promise?c.then(()=>r(o+1)):r(o+1)}};return r(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let t=0;e<0&&(t=1,e=-e);const r=Math.floor(Math.log(e)/Math.LN2),o=e/2**r-1,c=Math.floor(o*2**52),u=2**32,p=t<<31|r+1023<<20|c/u&1048575,m=c%u;this._bufferBuilder.append(203),this.pack_int32(p),this.pack_int32(m)}pack_object(e){const t=Object.keys(e),r=t.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const o=c=>{if(c<t.length){const u=t[c];if(e.hasOwnProperty(u)){this.pack(u);const p=this.pack(e[u]);if(p instanceof Promise)return p.then(()=>o(c+1))}return o(c+1)}};return o(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const t=e&4294967295;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_uint64(e){const t=e/4294967296,r=e%2**32;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const t=Math.floor(e/4294967296),r=e%2**32;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new d3,this._textEncoder=new TextEncoder}}let sC=!0,aC=!0;function rc(i,e,t){const r=i.match(e);return r&&r.length>=t&&parseFloat(r[t],10)}function ba(i,e,t){if(!i.RTCPeerConnection)return;const r=i.RTCPeerConnection.prototype,o=r.addEventListener;r.addEventListener=function(u,p){if(u!==e)return o.apply(this,arguments);const m=g=>{const _=t(g);_&&(p.handleEvent?p.handleEvent(_):p(_))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(p,m),o.apply(this,[u,m])};const c=r.removeEventListener;r.removeEventListener=function(u,p){if(u!==e||!this._eventMap||!this._eventMap[e])return c.apply(this,arguments);if(!this._eventMap[e].has(p))return c.apply(this,arguments);const m=this._eventMap[e].get(p);return this._eventMap[e].delete(p),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,c.apply(this,[u,m])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(u){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),u&&this.addEventListener(e,this["_on"+e]=u)},enumerable:!0,configurable:!0})}function y3(i){return typeof i!="boolean"?new Error("Argument type: "+typeof i+". Please use a boolean."):(sC=i,i?"adapter.js logging disabled":"adapter.js logging enabled")}function _3(i){return typeof i!="boolean"?new Error("Argument type: "+typeof i+". Please use a boolean."):(aC=!i,"adapter.js deprecation warnings "+(i?"disabled":"enabled"))}function oC(){if(typeof window=="object"){if(sC)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function wy(i,e){aC&&console.warn(i+" is deprecated, please use "+e+" instead.")}function v3(i){const e={browser:null,version:null};if(typeof i>"u"||!i.navigator||!i.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:t}=i;if(t.userAgentData&&t.userAgentData.brands){const r=t.userAgentData.brands.find(o=>o.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(t.mozGetUserMedia)e.browser="firefox",e.version=parseInt(rc(t.userAgent,/Firefox\/(\d+)\./,1));else if(t.webkitGetUserMedia||i.isSecureContext===!1&&i.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(rc(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2))||null;else if(i.RTCPeerConnection&&t.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(rc(t.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=i.RTCRtpTransceiver&&"currentDirection"in i.RTCRtpTransceiver.prototype,e._safariVersion=rc(t.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function WE(i){return Object.prototype.toString.call(i)==="[object Object]"}function lC(i){return WE(i)?Object.keys(i).reduce(function(e,t){const r=WE(i[t]),o=r?lC(i[t]):i[t],c=r&&!Object.keys(o).length;return o===void 0||c?e:Object.assign(e,{[t]:o})},{}):i}function Lm(i,e,t){!e||t.has(e.id)||(t.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?Lm(i,i.get(e[r]),t):r.endsWith("Ids")&&e[r].forEach(o=>{Lm(i,i.get(o),t)})}))}function ZE(i,e,t){const r=t?"outbound-rtp":"inbound-rtp",o=new Map;if(e===null)return o;const c=[];return i.forEach(u=>{u.type==="track"&&u.trackIdentifier===e.id&&c.push(u)}),c.forEach(u=>{i.forEach(p=>{p.type===r&&p.trackId===u.id&&Lm(i,p,o)})}),o}const eb=oC;function cC(i,e){const t=i&&i.navigator;if(!t.mediaDevices)return;const r=function(p){if(typeof p!="object"||p.mandatory||p.optional)return p;const m={};return Object.keys(p).forEach(g=>{if(g==="require"||g==="advanced"||g==="mediaSource")return;const _=typeof p[g]=="object"?p[g]:{ideal:p[g]};_.exact!==void 0&&typeof _.exact=="number"&&(_.min=_.max=_.exact);const T=function(S,x){return S?S+x.charAt(0).toUpperCase()+x.slice(1):x==="deviceId"?"sourceId":x};if(_.ideal!==void 0){m.optional=m.optional||[];let S={};typeof _.ideal=="number"?(S[T("min",g)]=_.ideal,m.optional.push(S),S={},S[T("max",g)]=_.ideal,m.optional.push(S)):(S[T("",g)]=_.ideal,m.optional.push(S))}_.exact!==void 0&&typeof _.exact!="number"?(m.mandatory=m.mandatory||{},m.mandatory[T("",g)]=_.exact):["min","max"].forEach(S=>{_[S]!==void 0&&(m.mandatory=m.mandatory||{},m.mandatory[T(S,g)]=_[S])})}),p.advanced&&(m.optional=(m.optional||[]).concat(p.advanced)),m},o=function(p,m){if(e.version>=61)return m(p);if(p=JSON.parse(JSON.stringify(p)),p&&typeof p.audio=="object"){const g=function(_,T,S){T in _&&!(S in _)&&(_[S]=_[T],delete _[T])};p=JSON.parse(JSON.stringify(p)),g(p.audio,"autoGainControl","googAutoGainControl"),g(p.audio,"noiseSuppression","googNoiseSuppression"),p.audio=r(p.audio)}if(p&&typeof p.video=="object"){let g=p.video.facingMode;g=g&&(typeof g=="object"?g:{ideal:g});const _=e.version<66;if(g&&(g.exact==="user"||g.exact==="environment"||g.ideal==="user"||g.ideal==="environment")&&!(t.mediaDevices.getSupportedConstraints&&t.mediaDevices.getSupportedConstraints().facingMode&&!_)){delete p.video.facingMode;let T;if(g.exact==="environment"||g.ideal==="environment"?T=["back","rear"]:(g.exact==="user"||g.ideal==="user")&&(T=["front"]),T)return t.mediaDevices.enumerateDevices().then(S=>{S=S.filter(j=>j.kind==="videoinput");let x=S.find(j=>T.some(F=>j.label.toLowerCase().includes(F)));return!x&&S.length&&T.includes("back")&&(x=S[S.length-1]),x&&(p.video.deviceId=g.exact?{exact:x.deviceId}:{ideal:x.deviceId}),p.video=r(p.video),eb("chrome: "+JSON.stringify(p)),m(p)})}p.video=r(p.video)}return eb("chrome: "+JSON.stringify(p)),m(p)},c=function(p){return e.version>=64?p:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[p.name]||p.name,message:p.message,constraint:p.constraint||p.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},u=function(p,m,g){o(p,_=>{t.webkitGetUserMedia(_,m,T=>{g&&g(c(T))})})};if(t.getUserMedia=u.bind(t),t.mediaDevices.getUserMedia){const p=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(m){return o(m,g=>p(g).then(_=>{if(g.audio&&!_.getAudioTracks().length||g.video&&!_.getVideoTracks().length)throw _.getTracks().forEach(T=>{T.stop()}),new DOMException("","NotFoundError");return _},_=>Promise.reject(c(_))))}}}function uC(i){i.MediaStream=i.MediaStream||i.webkitMediaStream}function hC(i){if(typeof i=="object"&&i.RTCPeerConnection&&!("ontrack"in i.RTCPeerConnection.prototype)){Object.defineProperty(i.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(t){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=t)},enumerable:!0,configurable:!0});const e=i.RTCPeerConnection.prototype.setRemoteDescription;i.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",o=>{let c;i.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(p=>p.track&&p.track.id===o.track.id):c={track:o.track};const u=new Event("track");u.track=o.track,u.receiver=c,u.transceiver={receiver:c},u.streams=[r.stream],this.dispatchEvent(u)}),r.stream.getTracks().forEach(o=>{let c;i.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(p=>p.track&&p.track.id===o.id):c={track:o};const u=new Event("track");u.track=o,u.receiver=c,u.transceiver={receiver:c},u.streams=[r.stream],this.dispatchEvent(u)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else ba(i,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function fC(i){if(typeof i=="object"&&i.RTCPeerConnection&&!("getSenders"in i.RTCPeerConnection.prototype)&&"createDTMFSender"in i.RTCPeerConnection.prototype){const e=function(o,c){return{track:c,get dtmf(){return this._dtmf===void 0&&(c.kind==="audio"?this._dtmf=o.createDTMFSender(c):this._dtmf=null),this._dtmf},_pc:o}};if(!i.RTCPeerConnection.prototype.getSenders){i.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const o=i.RTCPeerConnection.prototype.addTrack;i.RTCPeerConnection.prototype.addTrack=function(p,m){let g=o.apply(this,arguments);return g||(g=e(this,p),this._senders.push(g)),g};const c=i.RTCPeerConnection.prototype.removeTrack;i.RTCPeerConnection.prototype.removeTrack=function(p){c.apply(this,arguments);const m=this._senders.indexOf(p);m!==-1&&this._senders.splice(m,1)}}const t=i.RTCPeerConnection.prototype.addStream;i.RTCPeerConnection.prototype.addStream=function(c){this._senders=this._senders||[],t.apply(this,[c]),c.getTracks().forEach(u=>{this._senders.push(e(this,u))})};const r=i.RTCPeerConnection.prototype.removeStream;i.RTCPeerConnection.prototype.removeStream=function(c){this._senders=this._senders||[],r.apply(this,[c]),c.getTracks().forEach(u=>{const p=this._senders.find(m=>m.track===u);p&&this._senders.splice(this._senders.indexOf(p),1)})}}else if(typeof i=="object"&&i.RTCPeerConnection&&"getSenders"in i.RTCPeerConnection.prototype&&"createDTMFSender"in i.RTCPeerConnection.prototype&&i.RTCRtpSender&&!("dtmf"in i.RTCRtpSender.prototype)){const e=i.RTCPeerConnection.prototype.getSenders;i.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(o=>o._pc=this),r},Object.defineProperty(i.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function dC(i){if(!(typeof i=="object"&&i.RTCPeerConnection&&i.RTCRtpSender&&i.RTCRtpReceiver))return;if(!("getStats"in i.RTCRtpSender.prototype)){const t=i.RTCPeerConnection.prototype.getSenders;t&&(i.RTCPeerConnection.prototype.getSenders=function(){const c=t.apply(this,[]);return c.forEach(u=>u._pc=this),c});const r=i.RTCPeerConnection.prototype.addTrack;r&&(i.RTCPeerConnection.prototype.addTrack=function(){const c=r.apply(this,arguments);return c._pc=this,c}),i.RTCRtpSender.prototype.getStats=function(){const c=this;return this._pc.getStats().then(u=>ZE(u,c.track,!0))}}if(!("getStats"in i.RTCRtpReceiver.prototype)){const t=i.RTCPeerConnection.prototype.getReceivers;t&&(i.RTCPeerConnection.prototype.getReceivers=function(){const o=t.apply(this,[]);return o.forEach(c=>c._pc=this),o}),ba(i,"track",r=>(r.receiver._pc=r.srcElement,r)),i.RTCRtpReceiver.prototype.getStats=function(){const o=this;return this._pc.getStats().then(c=>ZE(c,o.track,!1))}}if(!("getStats"in i.RTCRtpSender.prototype&&"getStats"in i.RTCRtpReceiver.prototype))return;const e=i.RTCPeerConnection.prototype.getStats;i.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof i.MediaStreamTrack){const r=arguments[0];let o,c,u;return this.getSenders().forEach(p=>{p.track===r&&(o?u=!0:o=p)}),this.getReceivers().forEach(p=>(p.track===r&&(c?u=!0:c=p),p.track===r)),u||o&&c?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):o?o.getStats():c?c.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function pC(i){i.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(u=>this._shimmedLocalStreams[u][0])};const e=i.RTCPeerConnection.prototype.addTrack;i.RTCPeerConnection.prototype.addTrack=function(u,p){if(!p)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const m=e.apply(this,arguments);return this._shimmedLocalStreams[p.id]?this._shimmedLocalStreams[p.id].indexOf(m)===-1&&this._shimmedLocalStreams[p.id].push(m):this._shimmedLocalStreams[p.id]=[p,m],m};const t=i.RTCPeerConnection.prototype.addStream;i.RTCPeerConnection.prototype.addStream=function(u){this._shimmedLocalStreams=this._shimmedLocalStreams||{},u.getTracks().forEach(g=>{if(this.getSenders().find(T=>T.track===g))throw new DOMException("Track already exists.","InvalidAccessError")});const p=this.getSenders();t.apply(this,arguments);const m=this.getSenders().filter(g=>p.indexOf(g)===-1);this._shimmedLocalStreams[u.id]=[u].concat(m)};const r=i.RTCPeerConnection.prototype.removeStream;i.RTCPeerConnection.prototype.removeStream=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[u.id],r.apply(this,arguments)};const o=i.RTCPeerConnection.prototype.removeTrack;i.RTCPeerConnection.prototype.removeTrack=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},u&&Object.keys(this._shimmedLocalStreams).forEach(p=>{const m=this._shimmedLocalStreams[p].indexOf(u);m!==-1&&this._shimmedLocalStreams[p].splice(m,1),this._shimmedLocalStreams[p].length===1&&delete this._shimmedLocalStreams[p]}),o.apply(this,arguments)}}function mC(i,e){if(!i.RTCPeerConnection)return;if(i.RTCPeerConnection.prototype.addTrack&&e.version>=65)return pC(i);const t=i.RTCPeerConnection.prototype.getLocalStreams;i.RTCPeerConnection.prototype.getLocalStreams=function(){const _=t.apply(this);return this._reverseStreams=this._reverseStreams||{},_.map(T=>this._reverseStreams[T.id])};const r=i.RTCPeerConnection.prototype.addStream;i.RTCPeerConnection.prototype.addStream=function(_){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},_.getTracks().forEach(T=>{if(this.getSenders().find(x=>x.track===T))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[_.id]){const T=new i.MediaStream(_.getTracks());this._streams[_.id]=T,this._reverseStreams[T.id]=_,_=T}r.apply(this,[_])};const o=i.RTCPeerConnection.prototype.removeStream;i.RTCPeerConnection.prototype.removeStream=function(_){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[_.id]||_]),delete this._reverseStreams[this._streams[_.id]?this._streams[_.id].id:_.id],delete this._streams[_.id]},i.RTCPeerConnection.prototype.addTrack=function(_,T){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const S=[].slice.call(arguments,1);if(S.length!==1||!S[0].getTracks().find(F=>F===_))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(F=>F.track===_))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const j=this._streams[T.id];if(j)j.addTrack(_),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const F=new i.MediaStream([_]);this._streams[T.id]=F,this._reverseStreams[F.id]=T,this.addStream(F)}return this.getSenders().find(F=>F.track===_)};function c(g,_){let T=_.sdp;return Object.keys(g._reverseStreams||[]).forEach(S=>{const x=g._reverseStreams[S],j=g._streams[x.id];T=T.replace(new RegExp(j.id,"g"),x.id)}),new RTCSessionDescription({type:_.type,sdp:T})}function u(g,_){let T=_.sdp;return Object.keys(g._reverseStreams||[]).forEach(S=>{const x=g._reverseStreams[S],j=g._streams[x.id];T=T.replace(new RegExp(x.id,"g"),j.id)}),new RTCSessionDescription({type:_.type,sdp:T})}["createOffer","createAnswer"].forEach(function(g){const _=i.RTCPeerConnection.prototype[g],T={[g](){const S=arguments;return arguments.length&&typeof arguments[0]=="function"?_.apply(this,[j=>{const F=c(this,j);S[0].apply(null,[F])},j=>{S[1]&&S[1].apply(null,j)},arguments[2]]):_.apply(this,arguments).then(j=>c(this,j))}};i.RTCPeerConnection.prototype[g]=T[g]});const p=i.RTCPeerConnection.prototype.setLocalDescription;i.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?p.apply(this,arguments):(arguments[0]=u(this,arguments[0]),p.apply(this,arguments))};const m=Object.getOwnPropertyDescriptor(i.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(i.RTCPeerConnection.prototype,"localDescription",{get(){const g=m.get.apply(this);return g.type===""?g:c(this,g)}}),i.RTCPeerConnection.prototype.removeTrack=function(_){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!_._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(_._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let S;Object.keys(this._streams).forEach(x=>{this._streams[x].getTracks().find(F=>_.track===F)&&(S=this._streams[x])}),S&&(S.getTracks().length===1?this.removeStream(this._reverseStreams[S.id]):S.removeTrack(_.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Um(i,e){!i.RTCPeerConnection&&i.webkitRTCPeerConnection&&(i.RTCPeerConnection=i.webkitRTCPeerConnection),i.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const r=i.RTCPeerConnection.prototype[t],o={[t](){return arguments[0]=new(t==="addIceCandidate"?i.RTCIceCandidate:i.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};i.RTCPeerConnection.prototype[t]=o[t]})}function gC(i,e){ba(i,"negotiationneeded",t=>{const r=t.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return t})}const tb=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:gC,shimAddTrackRemoveTrack:mC,shimAddTrackRemoveTrackWithNative:pC,shimGetSendersWithDtmf:fC,shimGetUserMedia:cC,shimMediaStream:uC,shimOnTrack:hC,shimPeerConnection:Um,shimSenderReceiverGetStats:dC},Symbol.toStringTag,{value:"Module"}));function yC(i,e){const t=i&&i.navigator,r=i&&i.MediaStreamTrack;if(t.getUserMedia=function(o,c,u){wy("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),t.mediaDevices.getUserMedia(o).then(c,u)},!(e.version>55&&"autoGainControl"in t.mediaDevices.getSupportedConstraints())){const o=function(u,p,m){p in u&&!(m in u)&&(u[m]=u[p],delete u[p])},c=t.mediaDevices.getUserMedia.bind(t.mediaDevices);if(t.mediaDevices.getUserMedia=function(u){return typeof u=="object"&&typeof u.audio=="object"&&(u=JSON.parse(JSON.stringify(u)),o(u.audio,"autoGainControl","mozAutoGainControl"),o(u.audio,"noiseSuppression","mozNoiseSuppression")),c(u)},r&&r.prototype.getSettings){const u=r.prototype.getSettings;r.prototype.getSettings=function(){const p=u.apply(this,arguments);return o(p,"mozAutoGainControl","autoGainControl"),o(p,"mozNoiseSuppression","noiseSuppression"),p}}if(r&&r.prototype.applyConstraints){const u=r.prototype.applyConstraints;r.prototype.applyConstraints=function(p){return this.kind==="audio"&&typeof p=="object"&&(p=JSON.parse(JSON.stringify(p)),o(p,"autoGainControl","mozAutoGainControl"),o(p,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[p])}}}}function T3(i,e){i.navigator.mediaDevices&&"getDisplayMedia"in i.navigator.mediaDevices||i.navigator.mediaDevices&&(i.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const o=new DOMException("getDisplayMedia without video constraints is undefined");return o.name="NotFoundError",o.code=8,Promise.reject(o)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,i.navigator.mediaDevices.getUserMedia(r)})}function _C(i){typeof i=="object"&&i.RTCTrackEvent&&"receiver"in i.RTCTrackEvent.prototype&&!("transceiver"in i.RTCTrackEvent.prototype)&&Object.defineProperty(i.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function jm(i,e){if(typeof i!="object"||!(i.RTCPeerConnection||i.mozRTCPeerConnection))return;!i.RTCPeerConnection&&i.mozRTCPeerConnection&&(i.RTCPeerConnection=i.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(o){const c=i.RTCPeerConnection.prototype[o],u={[o](){return arguments[0]=new(o==="addIceCandidate"?i.RTCIceCandidate:i.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}};i.RTCPeerConnection.prototype[o]=u[o]});const t={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=i.RTCPeerConnection.prototype.getStats;i.RTCPeerConnection.prototype.getStats=function(){const[c,u,p]=arguments;return r.apply(this,[c||null]).then(m=>{if(e.version<53&&!u)try{m.forEach(g=>{g.type=t[g.type]||g.type})}catch(g){if(g.name!=="TypeError")throw g;m.forEach((_,T)=>{m.set(T,Object.assign({},_,{type:t[_.type]||_.type}))})}return m}).then(u,p)}}function vC(i){if(!(typeof i=="object"&&i.RTCPeerConnection&&i.RTCRtpSender)||i.RTCRtpSender&&"getStats"in i.RTCRtpSender.prototype)return;const e=i.RTCPeerConnection.prototype.getSenders;e&&(i.RTCPeerConnection.prototype.getSenders=function(){const o=e.apply(this,[]);return o.forEach(c=>c._pc=this),o});const t=i.RTCPeerConnection.prototype.addTrack;t&&(i.RTCPeerConnection.prototype.addTrack=function(){const o=t.apply(this,arguments);return o._pc=this,o}),i.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function TC(i){if(!(typeof i=="object"&&i.RTCPeerConnection&&i.RTCRtpSender)||i.RTCRtpSender&&"getStats"in i.RTCRtpReceiver.prototype)return;const e=i.RTCPeerConnection.prototype.getReceivers;e&&(i.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(o=>o._pc=this),r}),ba(i,"track",t=>(t.receiver._pc=t.srcElement,t)),i.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function EC(i){!i.RTCPeerConnection||"removeStream"in i.RTCPeerConnection.prototype||(i.RTCPeerConnection.prototype.removeStream=function(t){wy("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&t.getTracks().includes(r.track)&&this.removeTrack(r)})})}function bC(i){i.DataChannel&&!i.RTCDataChannel&&(i.RTCDataChannel=i.DataChannel)}function SC(i){if(!(typeof i=="object"&&i.RTCPeerConnection))return;const e=i.RTCPeerConnection.prototype.addTransceiver;e&&(i.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const o=r.length>0;o&&r.forEach(u=>{if("rid"in u&&!/^[a-z0-9]{0,16}$/i.test(u.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in u&&!(parseFloat(u.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in u&&!(parseFloat(u.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const c=e.apply(this,arguments);if(o){const{sender:u}=c,p=u.getParameters();(!("encodings"in p)||p.encodings.length===1&&Object.keys(p.encodings[0]).length===0)&&(p.encodings=r,u.sendEncodings=r,this.setParametersPromises.push(u.setParameters(p).then(()=>{delete u.sendEncodings}).catch(()=>{delete u.sendEncodings})))}return c})}function CC(i){if(!(typeof i=="object"&&i.RTCRtpSender))return;const e=i.RTCRtpSender.prototype.getParameters;e&&(i.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function RC(i){if(!(typeof i=="object"&&i.RTCPeerConnection))return;const e=i.RTCPeerConnection.prototype.createOffer;i.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function AC(i){if(!(typeof i=="object"&&i.RTCPeerConnection))return;const e=i.RTCPeerConnection.prototype.createAnswer;i.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const nb=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:SC,shimCreateAnswer:AC,shimCreateOffer:RC,shimGetDisplayMedia:T3,shimGetParameters:CC,shimGetUserMedia:yC,shimOnTrack:_C,shimPeerConnection:jm,shimRTCDataChannel:bC,shimReceiverGetStats:TC,shimRemoveStream:EC,shimSenderGetStats:vC},Symbol.toStringTag,{value:"Module"}));function IC(i){if(!(typeof i!="object"||!i.RTCPeerConnection)){if("getLocalStreams"in i.RTCPeerConnection.prototype||(i.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in i.RTCPeerConnection.prototype)){const e=i.RTCPeerConnection.prototype.addTrack;i.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(o=>e.call(this,o,r)),r.getVideoTracks().forEach(o=>e.call(this,o,r))},i.RTCPeerConnection.prototype.addTrack=function(r,...o){return o&&o.forEach(c=>{this._localStreams?this._localStreams.includes(c)||this._localStreams.push(c):this._localStreams=[c]}),e.apply(this,arguments)}}"removeStream"in i.RTCPeerConnection.prototype||(i.RTCPeerConnection.prototype.removeStream=function(t){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(t);if(r===-1)return;this._localStreams.splice(r,1);const o=t.getTracks();this.getSenders().forEach(c=>{o.includes(c.track)&&this.removeTrack(c)})})}}function wC(i){if(!(typeof i!="object"||!i.RTCPeerConnection)&&("getRemoteStreams"in i.RTCPeerConnection.prototype||(i.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in i.RTCPeerConnection.prototype))){Object.defineProperty(i.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(t){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=t),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(o=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(o))return;this._remoteStreams.push(o);const c=new Event("addstream");c.stream=o,this.dispatchEvent(c)})})}});const e=i.RTCPeerConnection.prototype.setRemoteDescription;i.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(o){o.streams.forEach(c=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(c)>=0)return;r._remoteStreams.push(c);const u=new Event("addstream");u.stream=c,r.dispatchEvent(u)})}),e.apply(r,arguments)}}}function xC(i){if(typeof i!="object"||!i.RTCPeerConnection)return;const e=i.RTCPeerConnection.prototype,t=e.createOffer,r=e.createAnswer,o=e.setLocalDescription,c=e.setRemoteDescription,u=e.addIceCandidate;e.createOffer=function(g,_){const T=arguments.length>=2?arguments[2]:arguments[0],S=t.apply(this,[T]);return _?(S.then(g,_),Promise.resolve()):S},e.createAnswer=function(g,_){const T=arguments.length>=2?arguments[2]:arguments[0],S=r.apply(this,[T]);return _?(S.then(g,_),Promise.resolve()):S};let p=function(m,g,_){const T=o.apply(this,[m]);return _?(T.then(g,_),Promise.resolve()):T};e.setLocalDescription=p,p=function(m,g,_){const T=c.apply(this,[m]);return _?(T.then(g,_),Promise.resolve()):T},e.setRemoteDescription=p,p=function(m,g,_){const T=u.apply(this,[m]);return _?(T.then(g,_),Promise.resolve()):T},e.addIceCandidate=p}function DC(i){const e=i&&i.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const t=e.mediaDevices,r=t.getUserMedia.bind(t);e.mediaDevices.getUserMedia=o=>r(kC(o))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(r,o,c){e.mediaDevices.getUserMedia(r).then(o,c)}).bind(e))}function kC(i){return i&&i.video!==void 0?Object.assign({},i,{video:lC(i.video)}):i}function NC(i){if(!i.RTCPeerConnection)return;const e=i.RTCPeerConnection;i.RTCPeerConnection=function(r,o){if(r&&r.iceServers){const c=[];for(let u=0;u<r.iceServers.length;u++){let p=r.iceServers[u];p.urls===void 0&&p.url?(wy("RTCIceServer.url","RTCIceServer.urls"),p=JSON.parse(JSON.stringify(p)),p.urls=p.url,delete p.url,c.push(p)):c.push(r.iceServers[u])}r.iceServers=c}return new e(r,o)},i.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(i.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function OC(i){typeof i=="object"&&i.RTCTrackEvent&&"receiver"in i.RTCTrackEvent.prototype&&!("transceiver"in i.RTCTrackEvent.prototype)&&Object.defineProperty(i.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function MC(i){const e=i.RTCPeerConnection.prototype.createOffer;i.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const o=this.getTransceivers().find(u=>u.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):r.offerToReceiveAudio===!0&&!o&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const c=this.getTransceivers().find(u=>u.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):r.offerToReceiveVideo===!0&&!c&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function PC(i){typeof i!="object"||i.AudioContext||(i.AudioContext=i.webkitAudioContext)}const ib=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:PC,shimCallbacksAPI:xC,shimConstraints:kC,shimCreateOfferLegacy:MC,shimGetUserMedia:DC,shimLocalStreamsAPI:IC,shimRTCIceServerUrls:NC,shimRemoteStreamsAPI:wC,shimTrackEventTransceiver:OC},Symbol.toStringTag,{value:"Module"}));var lm={exports:{}},rb;function E3(){return rb||(rb=1,(function(i){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(t){return t.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(t){return t.split(`
m=`).map((o,c)=>(c>0?"m="+o:o).trim()+`\r
`)},e.getDescription=function(t){const r=e.splitSections(t);return r&&r[0]},e.getMediaSections=function(t){const r=e.splitSections(t);return r.shift(),r},e.matchPrefix=function(t,r){return e.splitLines(t).filter(o=>o.indexOf(r)===0)},e.parseCandidate=function(t){let r;t.indexOf("a=candidate:")===0?r=t.substring(12).split(" "):r=t.substring(10).split(" ");const o={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let c=8;c<r.length;c+=2)switch(r[c]){case"raddr":o.relatedAddress=r[c+1];break;case"rport":o.relatedPort=parseInt(r[c+1],10);break;case"tcptype":o.tcpType=r[c+1];break;case"ufrag":o.ufrag=r[c+1],o.usernameFragment=r[c+1];break;default:o[r[c]]===void 0&&(o[r[c]]=r[c+1]);break}return o},e.writeCandidate=function(t){const r=[];r.push(t.foundation);const o=t.component;o==="rtp"?r.push(1):o==="rtcp"?r.push(2):r.push(o),r.push(t.protocol.toUpperCase()),r.push(t.priority),r.push(t.address||t.ip),r.push(t.port);const c=t.type;return r.push("typ"),r.push(c),c!=="host"&&t.relatedAddress&&t.relatedPort&&(r.push("raddr"),r.push(t.relatedAddress),r.push("rport"),r.push(t.relatedPort)),t.tcpType&&t.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(t.tcpType)),(t.usernameFragment||t.ufrag)&&(r.push("ufrag"),r.push(t.usernameFragment||t.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(t){return t.substring(14).split(" ")},e.parseRtpMap=function(t){let r=t.substring(9).split(" ");const o={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),o.name=r[0],o.clockRate=parseInt(r[1],10),o.channels=r.length===3?parseInt(r[2],10):1,o.numChannels=o.channels,o},e.writeRtpMap=function(t){let r=t.payloadType;t.preferredPayloadType!==void 0&&(r=t.preferredPayloadType);const o=t.channels||t.numChannels||1;return"a=rtpmap:"+r+" "+t.name+"/"+t.clockRate+(o!==1?"/"+o:"")+`\r
`},e.parseExtmap=function(t){const r=t.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(t){return"a=extmap:"+(t.id||t.preferredId)+(t.direction&&t.direction!=="sendrecv"?"/"+t.direction:"")+" "+t.uri+(t.attributes?" "+t.attributes:"")+`\r
`},e.parseFmtp=function(t){const r={};let o;const c=t.substring(t.indexOf(" ")+1).split(";");for(let u=0;u<c.length;u++)o=c[u].trim().split("="),r[o[0].trim()]=o[1];return r},e.writeFmtp=function(t){let r="",o=t.payloadType;if(t.preferredPayloadType!==void 0&&(o=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){const c=[];Object.keys(t.parameters).forEach(u=>{t.parameters[u]!==void 0?c.push(u+"="+t.parameters[u]):c.push(u)}),r+="a=fmtp:"+o+" "+c.join(";")+`\r
`}return r},e.parseRtcpFb=function(t){const r=t.substring(t.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(t){let r="",o=t.payloadType;return t.preferredPayloadType!==void 0&&(o=t.preferredPayloadType),t.rtcpFeedback&&t.rtcpFeedback.length&&t.rtcpFeedback.forEach(c=>{r+="a=rtcp-fb:"+o+" "+c.type+(c.parameter&&c.parameter.length?" "+c.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(t){const r=t.indexOf(" "),o={ssrc:parseInt(t.substring(7,r),10)},c=t.indexOf(":",r);return c>-1?(o.attribute=t.substring(r+1,c),o.value=t.substring(c+1)):o.attribute=t.substring(r+1),o},e.parseSsrcGroup=function(t){const r=t.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(o=>parseInt(o,10))}},e.getMid=function(t){const r=e.matchPrefix(t,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(t){const r=t.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(t,r){return{role:"auto",fingerprints:e.matchPrefix(t+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(t,r){let o="a=setup:"+r+`\r
`;return t.fingerprints.forEach(c=>{o+="a=fingerprint:"+c.algorithm+" "+c.value+`\r
`}),o},e.parseCryptoLine=function(t){const r=t.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(t){return"a=crypto:"+t.tag+" "+t.cryptoSuite+" "+(typeof t.keyParams=="object"?e.writeCryptoKeyParams(t.keyParams):t.keyParams)+(t.sessionParams?" "+t.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(t){if(t.indexOf("inline:")!==0)return null;const r=t.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(t){return t.keyMethod+":"+t.keySalt+(t.lifeTime?"|"+t.lifeTime:"")+(t.mkiValue&&t.mkiLength?"|"+t.mkiValue+":"+t.mkiLength:"")},e.getCryptoParameters=function(t,r){return e.matchPrefix(t+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(t,r){const o=e.matchPrefix(t+r,"a=ice-ufrag:")[0],c=e.matchPrefix(t+r,"a=ice-pwd:")[0];return o&&c?{usernameFragment:o.substring(12),password:c.substring(10)}:null},e.writeIceParameters=function(t){let r="a=ice-ufrag:"+t.usernameFragment+`\r
a=ice-pwd:`+t.password+`\r
`;return t.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(t){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},c=e.splitLines(t)[0].split(" ");r.profile=c[2];for(let p=3;p<c.length;p++){const m=c[p],g=e.matchPrefix(t,"a=rtpmap:"+m+" ")[0];if(g){const _=e.parseRtpMap(g),T=e.matchPrefix(t,"a=fmtp:"+m+" ");switch(_.parameters=T.length?e.parseFmtp(T[0]):{},_.rtcpFeedback=e.matchPrefix(t,"a=rtcp-fb:"+m+" ").map(e.parseRtcpFb),r.codecs.push(_),_.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(_.name.toUpperCase());break}}}e.matchPrefix(t,"a=extmap:").forEach(p=>{r.headerExtensions.push(e.parseExtmap(p))});const u=e.matchPrefix(t,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(p=>{u.forEach(m=>{p.rtcpFeedback.find(_=>_.type===m.type&&_.parameter===m.parameter)||p.rtcpFeedback.push(m)})}),r},e.writeRtpDescription=function(t,r){let o="";o+="m="+t+" ",o+=r.codecs.length>0?"9":"0",o+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",o+=r.codecs.map(u=>u.preferredPayloadType!==void 0?u.preferredPayloadType:u.payloadType).join(" ")+`\r
`,o+=`c=IN IP4 0.0.0.0\r
`,o+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(u=>{o+=e.writeRtpMap(u),o+=e.writeFmtp(u),o+=e.writeRtcpFb(u)});let c=0;return r.codecs.forEach(u=>{u.maxptime>c&&(c=u.maxptime)}),c>0&&(o+="a=maxptime:"+c+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(u=>{o+=e.writeExtmap(u)}),o},e.parseRtpEncodingParameters=function(t){const r=[],o=e.parseRtpParameters(t),c=o.fecMechanisms.indexOf("RED")!==-1,u=o.fecMechanisms.indexOf("ULPFEC")!==-1,p=e.matchPrefix(t,"a=ssrc:").map(S=>e.parseSsrcMedia(S)).filter(S=>S.attribute==="cname"),m=p.length>0&&p[0].ssrc;let g;const _=e.matchPrefix(t,"a=ssrc-group:FID").map(S=>S.substring(17).split(" ").map(j=>parseInt(j,10)));_.length>0&&_[0].length>1&&_[0][0]===m&&(g=_[0][1]),o.codecs.forEach(S=>{if(S.name.toUpperCase()==="RTX"&&S.parameters.apt){let x={ssrc:m,codecPayloadType:parseInt(S.parameters.apt,10)};m&&g&&(x.rtx={ssrc:g}),r.push(x),c&&(x=JSON.parse(JSON.stringify(x)),x.fec={ssrc:m,mechanism:u?"red+ulpfec":"red"},r.push(x))}}),r.length===0&&m&&r.push({ssrc:m});let T=e.matchPrefix(t,"b=");return T.length&&(T[0].indexOf("b=TIAS:")===0?T=parseInt(T[0].substring(7),10):T[0].indexOf("b=AS:")===0?T=parseInt(T[0].substring(5),10)*1e3*.95-2e3*8:T=void 0,r.forEach(S=>{S.maxBitrate=T})),r},e.parseRtcpParameters=function(t){const r={},o=e.matchPrefix(t,"a=ssrc:").map(p=>e.parseSsrcMedia(p)).filter(p=>p.attribute==="cname")[0];o&&(r.cname=o.value,r.ssrc=o.ssrc);const c=e.matchPrefix(t,"a=rtcp-rsize");r.reducedSize=c.length>0,r.compound=c.length===0;const u=e.matchPrefix(t,"a=rtcp-mux");return r.mux=u.length>0,r},e.writeRtcpParameters=function(t){let r="";return t.reducedSize&&(r+=`a=rtcp-rsize\r
`),t.mux&&(r+=`a=rtcp-mux\r
`),t.ssrc!==void 0&&t.cname&&(r+="a=ssrc:"+t.ssrc+" cname:"+t.cname+`\r
`),r},e.parseMsid=function(t){let r;const o=e.matchPrefix(t,"a=msid:");if(o.length===1)return r=o[0].substring(7).split(" "),{stream:r[0],track:r[1]};const c=e.matchPrefix(t,"a=ssrc:").map(u=>e.parseSsrcMedia(u)).filter(u=>u.attribute==="msid");if(c.length>0)return r=c[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(t){const r=e.parseMLine(t),o=e.matchPrefix(t,"a=max-message-size:");let c;o.length>0&&(c=parseInt(o[0].substring(19),10)),isNaN(c)&&(c=65536);const u=e.matchPrefix(t,"a=sctp-port:");if(u.length>0)return{port:parseInt(u[0].substring(12),10),protocol:r.fmt,maxMessageSize:c};const p=e.matchPrefix(t,"a=sctpmap:");if(p.length>0){const m=p[0].substring(10).split(" ");return{port:parseInt(m[0],10),protocol:m[1],maxMessageSize:c}}},e.writeSctpDescription=function(t,r){let o=[];return t.protocol!=="DTLS/SCTP"?o=["m="+t.kind+" 9 "+t.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:o=["m="+t.kind+" 9 "+t.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&o.push("a=max-message-size:"+r.maxMessageSize+`\r
`),o.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(t,r,o){let c;const u=r!==void 0?r:2;return t?c=t:c=e.generateSessionId(),`v=0\r
o=`+(o||"thisisadapterortc")+" "+c+" "+u+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(t,r){const o=e.splitLines(t);for(let c=0;c<o.length;c++)switch(o[c]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return o[c].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(t){return e.splitLines(t)[0].split(" ")[0].substring(2)},e.isRejected=function(t){return t.split(" ",2)[1]==="0"},e.parseMLine=function(t){const o=e.splitLines(t)[0].substring(2).split(" ");return{kind:o[0],port:parseInt(o[1],10),protocol:o[2],fmt:o.slice(3).join(" ")}},e.parseOLine=function(t){const o=e.matchPrefix(t,"o=")[0].substring(2).split(" ");return{username:o[0],sessionId:o[1],sessionVersion:parseInt(o[2],10),netType:o[3],addressType:o[4],address:o[5]}},e.isValidSDP=function(t){if(typeof t!="string"||t.length===0)return!1;const r=e.splitLines(t);for(let o=0;o<r.length;o++)if(r[o].length<2||r[o].charAt(1)!=="=")return!1;return!0},i.exports=e})(lm)),lm.exports}var VC=E3();const Io=Hm(VC),b3=TA({__proto__:null,default:Io},[VC]);function Mh(i){if(!i.RTCIceCandidate||i.RTCIceCandidate&&"foundation"in i.RTCIceCandidate.prototype)return;const e=i.RTCIceCandidate;i.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const o=new e(r),c=Io.parseCandidate(r.candidate);for(const u in c)u in o||Object.defineProperty(o,u,{value:c[u]});return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new e(r)},i.RTCIceCandidate.prototype=e.prototype,ba(i,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new i.RTCIceCandidate(t.candidate),writable:"false"}),t))}function zm(i){!i.RTCIceCandidate||i.RTCIceCandidate&&"relayProtocol"in i.RTCIceCandidate.prototype||ba(i,"icecandidate",e=>{if(e.candidate){const t=Io.parseCandidate(e.candidate.candidate);t.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e})}function Ph(i,e){if(!i.RTCPeerConnection)return;"sctp"in i.RTCPeerConnection.prototype||Object.defineProperty(i.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const t=function(p){if(!p||!p.sdp)return!1;const m=Io.splitSections(p.sdp);return m.shift(),m.some(g=>{const _=Io.parseMLine(g);return _&&_.kind==="application"&&_.protocol.indexOf("SCTP")!==-1})},r=function(p){const m=p.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(m===null||m.length<2)return-1;const g=parseInt(m[1],10);return g!==g?-1:g},o=function(p){let m=65536;return e.browser==="firefox"&&(e.version<57?p===-1?m=16384:m=2147483637:e.version<60?m=e.version===57?65535:65536:m=2147483637),m},c=function(p,m){let g=65536;e.browser==="firefox"&&e.version===57&&(g=65535);const _=Io.matchPrefix(p.sdp,"a=max-message-size:");return _.length>0?g=parseInt(_[0].substring(19),10):e.browser==="firefox"&&m!==-1&&(g=2147483637),g},u=i.RTCPeerConnection.prototype.setRemoteDescription;i.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:m}=this.getConfiguration();m==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(t(arguments[0])){const m=r(arguments[0]),g=o(m),_=c(arguments[0],m);let T;g===0&&_===0?T=Number.POSITIVE_INFINITY:g===0||_===0?T=Math.max(g,_):T=Math.min(g,_);const S={};Object.defineProperty(S,"maxMessageSize",{get(){return T}}),this._sctp=S}return u.apply(this,arguments)}}function Vh(i){if(!(i.RTCPeerConnection&&"createDataChannel"in i.RTCPeerConnection.prototype))return;function e(r,o){const c=r.send;r.send=function(){const p=arguments[0],m=p.length||p.size||p.byteLength;if(r.readyState==="open"&&o.sctp&&m>o.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+o.sctp.maxMessageSize+" bytes)");return c.apply(r,arguments)}}const t=i.RTCPeerConnection.prototype.createDataChannel;i.RTCPeerConnection.prototype.createDataChannel=function(){const o=t.apply(this,arguments);return e(o,this),o},ba(i,"datachannel",r=>(e(r.channel,r.target),r))}function Bm(i){if(!i.RTCPeerConnection||"connectionState"in i.RTCPeerConnection.prototype)return;const e=i.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(t){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),t&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=t)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(t=>{const r=e[t];e[t]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=o=>{const c=o.target;if(c._lastConnectionState!==c.connectionState){c._lastConnectionState=c.connectionState;const u=new Event("connectionstatechange",o);c.dispatchEvent(u)}return o},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function qm(i,e){if(!i.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const t=i.RTCPeerConnection.prototype.setRemoteDescription;i.RTCPeerConnection.prototype.setRemoteDescription=function(o){if(o&&o.sdp&&o.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const c=o.sdp.split(`
`).filter(u=>u.trim()!=="a=extmap-allow-mixed").join(`
`);i.RTCSessionDescription&&o instanceof i.RTCSessionDescription?arguments[0]=new i.RTCSessionDescription({type:o.type,sdp:c}):o.sdp=c}return t.apply(this,arguments)}}function Lh(i,e){if(!(i.RTCPeerConnection&&i.RTCPeerConnection.prototype))return;const t=i.RTCPeerConnection.prototype.addIceCandidate;!t||t.length===0||(i.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Uh(i,e){if(!(i.RTCPeerConnection&&i.RTCPeerConnection.prototype))return;const t=i.RTCPeerConnection.prototype.setLocalDescription;!t||t.length===0||(i.RTCPeerConnection.prototype.setLocalDescription=function(){let o=arguments[0]||{};if(typeof o!="object"||o.type&&o.sdp)return t.apply(this,arguments);if(o={type:o.type,sdp:o.sdp},!o.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":o.type="offer";break;default:o.type="answer";break}return o.sdp||o.type!=="offer"&&o.type!=="answer"?t.apply(this,[o]):(o.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(u=>t.apply(this,[u]))})}const S3=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:qm,shimAddIceCandidateNullOrEmpty:Lh,shimConnectionState:Bm,shimMaxMessageSize:Ph,shimParameterlessSetLocalDescription:Uh,shimRTCIceCandidate:Mh,shimRTCIceCandidateRelayProtocol:zm,shimSendThrowTypeError:Vh},Symbol.toStringTag,{value:"Module"}));function C3({window:i}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const t=oC,r=v3(i),o={browserDetails:r,commonShim:S3,extractVersion:rc,disableLog:y3,disableWarnings:_3,sdp:b3};switch(r.browser){case"chrome":if(!tb||!Um||!e.shimChrome)return t("Chrome shim is not included in this adapter release."),o;if(r.version===null)return t("Chrome shim can not determine version, not shimming."),o;t("adapter.js shimming chrome."),o.browserShim=tb,Lh(i,r),Uh(i),cC(i,r),uC(i),Um(i,r),hC(i),mC(i,r),fC(i),dC(i),gC(i,r),Mh(i),zm(i),Bm(i),Ph(i,r),Vh(i),qm(i,r);break;case"firefox":if(!nb||!jm||!e.shimFirefox)return t("Firefox shim is not included in this adapter release."),o;t("adapter.js shimming firefox."),o.browserShim=nb,Lh(i,r),Uh(i),yC(i,r),jm(i,r),_C(i),EC(i),vC(i),TC(i),bC(i),SC(i),CC(i),RC(i),AC(i),Mh(i),Bm(i),Ph(i,r),Vh(i);break;case"safari":if(!ib||!e.shimSafari)return t("Safari shim is not included in this adapter release."),o;t("adapter.js shimming safari."),o.browserShim=ib,Lh(i,r),Uh(i),NC(i),MC(i),xC(i),IC(i),wC(i),OC(i),DC(i),PC(i),Mh(i),zm(i),Ph(i,r),Vh(i),qm(i,r);break;default:t("Unsupported browser!");break}return o}const sb=C3({window:typeof window>"u"?void 0:window});function Sa(i,e,t,r){Object.defineProperty(i,e,{get:t,set:r,enumerable:!0,configurable:!0})}class LC{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const t=[],r=e.byteLength,o=Math.ceil(r/this.chunkedMTU);let c=0,u=0;for(;u<r;){const p=Math.min(r,u+this.chunkedMTU),m=e.slice(u,p),g={__peerData:this._dataCount,n:c,data:m,total:o};t.push(g),u=p,c++}return this._dataCount++,t}}}function R3(i){let e=0;for(const o of i)e+=o.byteLength;const t=new Uint8Array(e);let r=0;for(const o of i)t.set(o,r),r+=o.byteLength;return t}const cm=sb.default||sb,Zl=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const i=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(i)?i==="chrome"?e>=this.minChromeVersion:i==="firefox"?e>=this.minFirefoxVersion:i==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return cm.browserDetails.browser}getVersion(){return cm.browserDetails.version||0}isUnifiedPlanSupported(){const i=this.getBrowser(),e=cm.browserDetails.version||0;if(i==="chrome"&&e<this.minChromeVersion)return!1;if(i==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let t,r=!1;try{t=new RTCPeerConnection,t.addTransceiver("audio"),r=!0}catch{}finally{t&&t.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},A3=i=>!i||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(i),UC=()=>Math.random().toString(36).slice(2),ab={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class I3 extends LC{noop(){}blobToArrayBuffer(e,t){const r=new FileReader;return r.onload=function(o){o.target&&t(o.target.result)},r.readAsArrayBuffer(e),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r)&255;return t.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=ab,this.browser=Zl.getBrowser(),this.browserVersion=Zl.getVersion(),this.pack=rC,this.unpack=iC,this.supports=(function(){const t={browser:Zl.isBrowserSupported(),webRTC:Zl.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;let r;try{r=new RTCPeerConnection(ab),t.audioVideo=!0;let o;try{o=r.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!o.ordered;try{o.binaryType="blob",t.binaryBlob=!Zl.isIOS}catch{}}catch{}finally{o&&o.close()}}catch{}finally{r&&r.close()}return t})(),this.validateId=A3,this.randomToken=UC}}const _n=new I3,w3="PeerJS: ";class x3{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const r=[w3,...t];for(const o in r)r[o]instanceof Error&&(r[o]="("+r[o].name+") "+r[o].message);e>=3?console.log(...r):e>=2?console.warn("WARNING",...r):e>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var fe=new x3,xy={},D3=Object.prototype.hasOwnProperty,un="~";function Ec(){}Object.create&&(Ec.prototype=Object.create(null),new Ec().__proto__||(un=!1));function k3(i,e,t){this.fn=i,this.context=e,this.once=t||!1}function jC(i,e,t,r,o){if(typeof t!="function")throw new TypeError("The listener must be a function");var c=new k3(t,r||i,o),u=un?un+e:e;return i._events[u]?i._events[u].fn?i._events[u]=[i._events[u],c]:i._events[u].push(c):(i._events[u]=c,i._eventsCount++),i}function jh(i,e){--i._eventsCount===0?i._events=new Ec:delete i._events[e]}function an(){this._events=new Ec,this._eventsCount=0}an.prototype.eventNames=function(){var e=[],t,r;if(this._eventsCount===0)return e;for(r in t=this._events)D3.call(t,r)&&e.push(un?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};an.prototype.listeners=function(e){var t=un?un+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,c=r.length,u=new Array(c);o<c;o++)u[o]=r[o].fn;return u};an.prototype.listenerCount=function(e){var t=un?un+e:e,r=this._events[t];return r?r.fn?1:r.length:0};an.prototype.emit=function(e,t,r,o,c,u){var p=un?un+e:e;if(!this._events[p])return!1;var m=this._events[p],g=arguments.length,_,T;if(m.fn){switch(m.once&&this.removeListener(e,m.fn,void 0,!0),g){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,t),!0;case 3:return m.fn.call(m.context,t,r),!0;case 4:return m.fn.call(m.context,t,r,o),!0;case 5:return m.fn.call(m.context,t,r,o,c),!0;case 6:return m.fn.call(m.context,t,r,o,c,u),!0}for(T=1,_=new Array(g-1);T<g;T++)_[T-1]=arguments[T];m.fn.apply(m.context,_)}else{var S=m.length,x;for(T=0;T<S;T++)switch(m[T].once&&this.removeListener(e,m[T].fn,void 0,!0),g){case 1:m[T].fn.call(m[T].context);break;case 2:m[T].fn.call(m[T].context,t);break;case 3:m[T].fn.call(m[T].context,t,r);break;case 4:m[T].fn.call(m[T].context,t,r,o);break;default:if(!_)for(x=1,_=new Array(g-1);x<g;x++)_[x-1]=arguments[x];m[T].fn.apply(m[T].context,_)}}return!0};an.prototype.on=function(e,t,r){return jC(this,e,t,r,!1)};an.prototype.once=function(e,t,r){return jC(this,e,t,r,!0)};an.prototype.removeListener=function(e,t,r,o){var c=un?un+e:e;if(!this._events[c])return this;if(!t)return jh(this,c),this;var u=this._events[c];if(u.fn)u.fn===t&&(!o||u.once)&&(!r||u.context===r)&&jh(this,c);else{for(var p=0,m=[],g=u.length;p<g;p++)(u[p].fn!==t||o&&!u[p].once||r&&u[p].context!==r)&&m.push(u[p]);m.length?this._events[c]=m.length===1?m[0]:m:jh(this,c)}return this};an.prototype.removeAllListeners=function(e){var t;return e?(t=un?un+e:e,this._events[t]&&jh(this,t)):(this._events=new Ec,this._eventsCount=0),this};an.prototype.off=an.prototype.removeListener;an.prototype.addListener=an.prototype.on;an.prefixed=un;an.EventEmitter=an;xy=an;var Ca={};Sa(Ca,"ConnectionType",()=>ys);Sa(Ca,"PeerErrorType",()=>Nt);Sa(Ca,"BaseConnectionErrorType",()=>Fm);Sa(Ca,"DataConnectionErrorType",()=>Dy);Sa(Ca,"SerializationType",()=>zf);Sa(Ca,"SocketEventType",()=>fs);Sa(Ca,"ServerMessageType",()=>nn);var ys=(function(i){return i.Data="data",i.Media="media",i})({}),Nt=(function(i){return i.BrowserIncompatible="browser-incompatible",i.Disconnected="disconnected",i.InvalidID="invalid-id",i.InvalidKey="invalid-key",i.Network="network",i.PeerUnavailable="peer-unavailable",i.SslUnavailable="ssl-unavailable",i.ServerError="server-error",i.SocketError="socket-error",i.SocketClosed="socket-closed",i.UnavailableID="unavailable-id",i.WebRTC="webrtc",i})({}),Fm=(function(i){return i.NegotiationFailed="negotiation-failed",i.ConnectionClosed="connection-closed",i})({}),Dy=(function(i){return i.NotOpenYet="not-open-yet",i.MessageToBig="message-too-big",i})({}),zf=(function(i){return i.Binary="binary",i.BinaryUTF8="binary-utf8",i.JSON="json",i.None="raw",i})({}),fs=(function(i){return i.Message="message",i.Disconnected="disconnected",i.Error="error",i.Close="close",i})({}),nn=(function(i){return i.Heartbeat="HEARTBEAT",i.Candidate="CANDIDATE",i.Offer="OFFER",i.Answer="ANSWER",i.Open="OPEN",i.Error="ERROR",i.IdTaken="ID-TAKEN",i.InvalidKey="INVALID-KEY",i.Leave="LEAVE",i.Expire="EXPIRE",i})({});const zC="1.5.5";class N3 extends xy.EventEmitter{constructor(e,t,r,o,c,u=5e3){super(),this.pingInterval=u,this._disconnected=!0,this._messagesQueue=[];const p=e?"wss://":"ws://";this._baseUrl=p+t+":"+r+o+"peerjs?key="+c}start(e,t){this._id=e;const r=`${this._baseUrl}&id=${e}&token=${t}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+zC),this._disconnected=!1,this._socket.onmessage=o=>{let c;try{c=JSON.parse(o.data),fe.log("Server message received:",c)}catch{fe.log("Invalid server message",o.data);return}this.emit(fs.Message,c)},this._socket.onclose=o=>{this._disconnected||(fe.log("Socket closed.",o),this._cleanup(),this._disconnected=!0,this.emit(fs.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),fe.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){fe.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:nn.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(fs.Error,"Invalid message");return}if(!this._wsOpen())return;const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class BC{constructor(e){this.connection=e}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type===ys.Media&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){const r=this.connection,o={ordered:!!e.reliable},c=t.createDataChannel(r.label,o);r._initializeDataChannel(c),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){fe.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const t=this.connection.peer,r=this.connection.connectionId,o=this.connection.type,c=this.connection.provider;fe.log("Listening for ICE candidates."),e.onicecandidate=u=>{!u.candidate||!u.candidate.candidate||(fe.log(`Received ICE candidates for ${t}:`,u.candidate),c.socket.send({type:nn.Candidate,payload:{candidate:u.candidate,type:o,connectionId:r},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":fe.log("iceConnectionState is failed, closing connections to "+t),this.connection.emitError(Fm.NegotiationFailed,"Negotiation of connection to "+t+" failed."),this.connection.close();break;case"closed":fe.log("iceConnectionState is closed, closing connections to "+t),this.connection.emitError(Fm.ConnectionClosed,"Connection to "+t+" closed."),this.connection.close();break;case"disconnected":fe.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},fe.log("Listening for data channel"),e.ondatachannel=u=>{fe.log("Received data channel");const p=u.channel;c.getConnection(t,r)._initializeDataChannel(p)},fe.log("Listening for remote stream"),e.ontrack=u=>{fe.log("Received remote stream");const p=u.streams[0],m=c.getConnection(t,r);if(m.type===ys.Media){const g=m;this._addStreamToMediaConnection(p,g)}}}cleanup(){fe.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const t=e.signalingState!=="closed";let r=!1;const o=this.connection.dataChannel;o&&(r=!!o.readyState&&o.readyState!=="closed"),(t||r)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,t=this.connection.provider;try{const r=await e.createOffer(this.connection.options.constraints);fe.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),fe.log("Set localDescription:",r,`for:${this.connection.peer}`);let o={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===ys.Data){const c=this.connection;o={...o,label:c.label,reliable:c.reliable,serialization:c.serialization}}t.socket.send({type:nn.Offer,payload:o,dst:this.connection.peer})}catch(o){o!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError(Nt.WebRTC,o),fe.log("Failed to setLocalDescription, ",o))}}catch(r){t.emitError(Nt.WebRTC,r),fe.log("Failed to createOffer, ",r)}}async _makeAnswer(){const e=this.connection.peerConnection,t=this.connection.provider;try{const r=await e.createAnswer();fe.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),fe.log("Set localDescription:",r,`for:${this.connection.peer}`),t.socket.send({type:nn.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(o){t.emitError(Nt.WebRTC,o),fe.log("Failed to setLocalDescription, ",o)}}catch(r){t.emitError(Nt.WebRTC,r),fe.log("Failed to create answer, ",r)}}async handleSDP(e,t){t=new RTCSessionDescription(t);const r=this.connection.peerConnection,o=this.connection.provider;fe.log("Setting remote description",t);const c=this;try{await r.setRemoteDescription(t),fe.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await c._makeAnswer()}catch(u){o.emitError(Nt.WebRTC,u),fe.log("Failed to setRemoteDescription, ",u)}}async handleCandidate(e){fe.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),fe.log(`Added ICE candidate for:${this.connection.peer}`)}catch(t){this.connection.provider.emitError(Nt.WebRTC,t),fe.log("Failed to handleCandidate, ",t)}}_addTracksToConnection(e,t){if(fe.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return fe.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(r=>{t.addTrack(r,e)})}_addStreamToMediaConnection(e,t){fe.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}}class qC extends xy.EventEmitter{emitError(e,t){fe.error("Error:",t),this.emit("error",new O3(`${e}`,t))}}class O3 extends Error{constructor(e,t){typeof t=="string"?super(t):(super(),Object.assign(this,t)),this.type=e}}class FC extends qC{get open(){return this._open}constructor(e,t,r){super(),this.peer=e,this.provider=t,this.options=r,this._open=!1,this.metadata=r.metadata}}class hf extends FC{static#e=this.ID_PREFIX="mc_";get type(){return ys.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,r){super(e,t,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||hf.ID_PREFIX+_n.randomToken(),this._negotiator=new BC(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{fe.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{fe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){fe.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,r=e.payload;switch(e.type){case nn.Answer:this._negotiator.handleSDP(t,r.sdp),this._open=!0;break;case nn.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:fe.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){fe.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const r=this.provider._getMessages(this.connectionId);for(const o of r)this.handleMessage(o);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class M3{constructor(e){this._options=e}_buildRequest(e){const t=this._options.secure?"https":"http",{host:r,port:o,path:c,key:u}=this._options,p=new URL(`${t}://${r}:${o}${c}${u}/${e}`);return p.searchParams.set("ts",`${Date.now()}${Math.random()}`),p.searchParams.set("version",zC),fetch(p.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){fe.error("Error retrieving ID",e);let t="";throw this._options.path==="/"&&this._options.host!==_n.CLOUD_HOST&&(t=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+t)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let t="";throw this._options.host===_n.CLOUD_HOST?t="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":t="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+t)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw fe.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}class ff extends FC{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return ys.Data}constructor(e,t,r){super(e,t,r),this.connectionId=this.options.connectionId||ff.ID_PREFIX+UC(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new BC(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{fe.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=t=>{fe.log(`DC#${this.connectionId} dc onmessage:`,t.data)},this.dataChannel.onclose=()=>{fe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t=!1){if(!this.open){this.emitError(Dy.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,t)}async handleMessage(e){const t=e.payload;switch(e.type){case nn.Answer:await this._negotiator.handleSDP(e.type,t.sdp);break;case nn.Candidate:await this._negotiator.handleCandidate(t.candidate);break;default:fe.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}}class ky extends ff{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",t=>this._handleDataMessage(t))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>ff.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return fe.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class um extends ky{close(e){super.close(e),this._chunkedData={}}constructor(e,t,r){super(e,t,r),this.chunker=new LC,this.serialization=zf.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const t=iC(e),r=t.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(t);return}this.emit("data",t)}_handleChunk(e){const t=e.__peerData,r=this._chunkedData[t]||{data:[],count:0,total:e.total};if(r.data[e.n]=new Uint8Array(e.data),r.count++,this._chunkedData[t]=r,r.total===r.count){delete this._chunkedData[t];const o=R3(r.data);this._handleDataMessage({data:o})}}_send(e,t){const r=rC(e);if(r instanceof Promise)return this._send_blob(r);if(!t&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(e){const t=await e;if(t.byteLength>this.chunker.chunkedMTU){this._sendChunks(t);return}this._bufferedSend(t)}_sendChunks(e){const t=this.chunker.chunk(e);fe.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(const r of t)this.send(r,!0)}}class P3 extends ky{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,t){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=zf.None}}class V3 extends ky{_handleDataMessage({data:e}){const t=this.parse(this.decoder.decode(e)),r=t.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",t)}_send(e,t){const r=this.encoder.encode(this.stringify(e));if(r.byteLength>=_n.chunkedMTU){this.emitError(Dy.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...e){super(...e),this.serialization=zf.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class Ny extends qC{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[t,r]of this._connections)e[t]=r;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,t){super(),this._serializers={raw:P3,json:V3,binary:um,"binary-utf8":um,default:um},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t={debug:0,host:_n.CLOUD_HOST,port:_n.CLOUD_PORT,path:"/",key:Ny.DEFAULT_KEY,token:_n.randomToken(),config:_n.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...t},this._options=t,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==_n.CLOUD_HOST?this._options.secure=_n.isSecure():this._options.host==_n.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&fe.setLogFunction(this._options.logFunction),fe.logLevel=this._options.debug||0,this._api=new M3(t),this._socket=this._createServerConnection(),!_n.supports.audioVideo&&!_n.supports.data){this._delayedAbort(Nt.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!_n.validateId(r)){this._delayedAbort(Nt.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(o=>this._initialize(o)).catch(o=>this._abort(Nt.ServerError,o))}_createServerConnection(){const e=new N3(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(fs.Message,t=>{this._handleMessage(t)}),e.on(fs.Error,t=>{this._abort(Nt.SocketError,t)}),e.on(fs.Disconnected,()=>{this.disconnected||(this.emitError(Nt.Network,"Lost connection to server."),this.disconnect())}),e.on(fs.Close,()=>{this.disconnected||this._abort(Nt.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const t=e.type,r=e.payload,o=e.src;switch(t){case nn.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case nn.Error:this._abort(Nt.ServerError,r.msg);break;case nn.IdTaken:this._abort(Nt.UnavailableID,`ID "${this.id}" is taken`);break;case nn.InvalidKey:this._abort(Nt.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case nn.Leave:fe.log(`Received leave message from ${o}`),this._cleanupPeer(o),this._connections.delete(o);break;case nn.Expire:this.emitError(Nt.PeerUnavailable,`Could not connect to peer ${o}`);break;case nn.Offer:{const c=r.connectionId;let u=this.getConnection(o,c);if(u&&(u.close(),fe.warn(`Offer received for existing Connection ID:${c}`)),r.type===ys.Media){const m=new hf(o,this,{connectionId:c,_payload:r,metadata:r.metadata});u=m,this._addConnection(o,u),this.emit("call",m)}else if(r.type===ys.Data){const m=new this._serializers[r.serialization](o,this,{connectionId:c,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});u=m,this._addConnection(o,u),this.emit("connection",m)}else{fe.warn(`Received malformed connection type:${r.type}`);return}const p=this._getMessages(c);for(const m of p)u.handleMessage(m);break}default:{if(!r){fe.warn(`You received a malformed message from ${o} of type ${t}`);return}const c=r.connectionId,u=this.getConnection(o,c);u&&u.peerConnection?u.handleMessage(e):c?this._storeMessage(c,e):fe.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(t={serialization:"default",...t},this.disconnected){fe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Nt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[t.serialization](e,this,t);return this._addConnection(e,r),r}call(e,t,r={}){if(this.disconnected){fe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Nt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!t){fe.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const o=new hf(e,this,{...r,_stream:t});return this._addConnection(e,o),o}_addConnection(e,t){fe.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const r=t.indexOf(e);r!==-1&&t.splice(r,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const r=this._connections.get(e);if(!r)return null;for(const o of r)if(o.connectionId===t)return o;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){fe.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(fe.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(const r of t)r.close()}disconnect(){if(this.disconnected)return;const e=this.id;fe.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)fe.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)fe.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort(Nt.ServerError,t))}}var L3=Ny;function U3(){const i=L.useRef(),e=L.useRef(),t=L.useRef(),r=L.useRef(),o=L.useRef(),[c,u]=L.useState(""),[p,m]=L.useState(null),[g,_]=L.useState("Idle"),[T,S]=L.useState("Global"),[x,j]=L.useState(null),[F,G]=L.useState(0),[X,ne]=L.useState(""),[re,se]=L.useState([]);L.useEffect(()=>{const me=new L3;t.current=me,me.on("open",$=>u($)),me.on("call",$=>{$.answer(p),$.on("stream",ie=>{e.current.srcObject=ie,D(),_("Connected")})}),me.on("connection",$=>{r.current=$,$.on("data",ie=>{se(de=>[...de,{text:ie,sender:"stranger"}])})})},[p]);const Ee=async()=>{const me=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});m(me),i.current.srcObject=me},Te=async()=>{const me=await navigator.mediaDevices.getDisplayMedia({video:!0});i.current.srcObject=me},D=()=>{o.current=setInterval(()=>{G(me=>me+1)},1e3)},I=()=>{clearInterval(o.current),G(0)},A=me=>{const $=Math.floor(me/60),ie=me%60;return`${$}:${ie<10?"0":""}${ie}`},O=async()=>{if(!p)return alert("Start camera first");_("Searching...");const me=Bg(Ui,"randomQueue"),$=T==="Global"?qE(me,FE(1)):qE(me,pM("location","==",T),FE(1)),ie=await gM($);if(ie.empty){const de=await _M(me,{peerId:c,location:T,createdAt:Date.now()});j(de.id),_("Waiting...")}else{const de=ie.docs[0];await GE(us(Ui,"randomQueue",de.id)),N(de.data().peerId)}},N=me=>{t.current.call(me,p).on("stream",de=>{e.current.srcObject=de,D(),_("Connected")});const ie=t.current.connect(me);r.current=ie},V=()=>{X&&(r.current?.send(X),se(me=>[...me,{text:X,sender:"me"}]),ne(""))},w=()=>{I(),se([]),e.current.srcObject=null,O()},qe=async()=>{I(),se([]),e.current.srcObject=null,x&&await GE(us(Ui,"randomQueue",x)),_("Stopped")};return R.jsxs("div",{style:Dt.page,children:[R.jsxs("div",{style:Dt.header,children:[R.jsx("h2",{children:"Premium Video Chat"}),R.jsxs("div",{style:Dt.timerBox,children:[R.jsx(lw,{size:18}),R.jsx("span",{children:A(F)})]})]}),R.jsxs("div",{style:Dt.main,children:[R.jsxs("div",{style:Dt.videoWrapper,children:[R.jsx("video",{ref:e,autoPlay:!0,style:Dt.remoteVideo}),R.jsx("video",{ref:i,autoPlay:!0,muted:!0,style:Dt.localVideo}),R.jsxs("div",{style:Dt.controlBar,children:[R.jsx("button",{style:Dt.controlBtn,onClick:Ee,children:R.jsx(Db,{size:18})}),R.jsx("button",{style:Dt.controlBtn,onClick:O,children:R.jsx(HI,{size:18})}),R.jsx("button",{style:Dt.controlBtn,onClick:w,children:R.jsx(iw,{size:18})}),R.jsx("button",{style:Dt.controlBtn,onClick:Te,children:R.jsx(VI,{size:18})}),R.jsx("button",{style:{...Dt.controlBtn,background:"#ff3b3b"},onClick:qe,children:R.jsx(qI,{size:18})})]}),R.jsxs("select",{value:T,onChange:me=>S(me.target.value),style:Dt.select,children:[R.jsx("option",{value:"Global",children:" Global"}),R.jsx("option",{value:"India",children:" India"}),R.jsx("option",{value:"USA",children:" USA"})]}),R.jsxs("div",{style:Dt.status,children:["Status: ",g]})]}),R.jsxs("div",{style:Dt.chat,children:[R.jsx("div",{style:Dt.chatMessages,children:re.map((me,$)=>R.jsx("div",{style:{textAlign:me.sender==="me"?"right":"left",marginBottom:"8px"},children:R.jsx("span",{style:{background:me.sender==="me"?"#ff0000":"#2a2a2a",padding:"8px 12px",borderRadius:"14px",display:"inline-block"},children:me.text})},$))}),R.jsxs("div",{style:Dt.chatInputBox,children:[R.jsx("input",{value:X,onChange:me=>ne(me.target.value),placeholder:"Type message...",style:Dt.chatInput}),R.jsx("button",{style:Dt.sendBtn,onClick:V,children:R.jsx(wb,{size:16})})]})]})]})]})}const Dt={page:{background:"linear-gradient(to bottom, #0f0f0f, #1a1a1a)",color:"white",padding:"20px",minHeight:"100vh"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},timerBox:{display:"flex",alignItems:"center",gap:"6px",background:"rgba(255,255,255,0.1)",padding:"6px 12px",borderRadius:"20px"},main:{display:"flex",gap:"20px"},videoWrapper:{flex:2,position:"relative"},remoteVideo:{width:"100%",borderRadius:"20px",background:"black",boxShadow:"0 0 40px rgba(255,0,0,0.2)"},localVideo:{width:"180px",position:"absolute",bottom:"90px",right:"20px",borderRadius:"16px",border:"2px solid white"},controlBar:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"15px",background:"rgba(255,255,255,0.08)",padding:"10px 20px",borderRadius:"50px",backdropFilter:"blur(10px)"},controlBtn:{background:"#2a2a2a",border:"none",padding:"10px",borderRadius:"50%",color:"white",cursor:"pointer"},select:{marginTop:"15px",padding:"6px",borderRadius:"6px"},status:{marginTop:"10px",opacity:.8},chat:{flex:1,background:"#141414",borderRadius:"20px",padding:"15px",display:"flex",flexDirection:"column"},chatMessages:{flex:1,overflowY:"auto",marginBottom:"10px"},chatInputBox:{display:"flex",gap:"8px"},chatInput:{flex:1,padding:"10px",borderRadius:"10px",border:"none"},sendBtn:{background:"#ff0000",border:"none",padding:"10px",borderRadius:"50%",cursor:"pointer",color:"white"}};function j3(){return R.jsx(eI,{basename:"/our-youtube",children:R.jsxs(D2,{children:[R.jsx(kn,{path:"/",element:R.jsx(Gn,{children:R.jsx(n3,{})})}),R.jsx(kn,{path:"/watch/:id",element:R.jsx(Gn,{children:R.jsx(i3,{})})}),R.jsx(kn,{path:"/upload",element:R.jsx(Gn,{children:R.jsx(r3,{})})}),R.jsx(kn,{path:"/login",element:R.jsx(Gn,{children:R.jsx(s3,{})})}),R.jsx(kn,{path:"/register",element:R.jsx(Gn,{children:R.jsx(a3,{})})}),R.jsx(kn,{path:"/channel",element:R.jsx(Gn,{children:R.jsx(o3,{})})}),R.jsx(kn,{path:"/profile",element:R.jsx(Gn,{children:R.jsx(l3,{})})}),R.jsx(kn,{path:"/history",element:R.jsx(Gn,{children:R.jsx(c3,{})})}),R.jsx(kn,{path:"/liked",element:R.jsx(Gn,{children:R.jsx(u3,{})})}),R.jsx(kn,{path:"/subscriptions",element:R.jsx(Gn,{children:R.jsx(h3,{})})}),R.jsx(kn,{path:"/trending",element:R.jsx(Gn,{children:R.jsx(f3,{})})}),R.jsx(kn,{path:"/videocall",element:R.jsx(Gn,{children:R.jsx(U3,{})})})]})})}NA.createRoot(document.getElementById("root")).render(R.jsx(CA.StrictMode,{children:R.jsx(j3,{})}));
